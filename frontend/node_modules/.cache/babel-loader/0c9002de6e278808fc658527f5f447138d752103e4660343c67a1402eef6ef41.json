{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import axios from'axios';import{useAuth}from'../App';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EmployeeDetail=()=>{var _employee$name;const{eid}=useParams();const navigate=useNavigate();const{user}=useAuth();const[employee,setEmployee]=useState(null);const[contracts,setContracts]=useState([]);const[recommendations,setRecommendations]=useState([]);const[loading,setLoading]=useState(true);const[activePanel,setActivePanel]=useState('recommendation');const[resignReason,setResignReason]=useState('');const[resignDate,setResignDate]=useState('');const[showResignForm,setShowResignForm]=useState(false);useEffect(()=>{fetchEmployeeData();},[eid]);const fetchEmployeeData=async()=>{try{setLoading(true);const response=await axios.get(\"/employees.php?action=detail&eid=\".concat(eid),{withCredentials:true});if(response.data.success){setEmployee(response.data.employee);setContracts(response.data.contracts||[]);setRecommendations(response.data.recommendations||[]);}else{console.error('Error fetching employee data:',response.data.error);}}catch(error){console.error('Error fetching employee data:',error);}finally{setLoading(false);}};const handleProbation=async()=>{try{const response=await axios.put('/employees.php',{eid:employee.eid,status:'Probation'},{withCredentials:true});if(response.data.success){alert('Status karyawan berhasil diubah ke Probation');fetchEmployeeData();}else{alert(response.data.message||'Gagal mengubah status karyawan');}}catch(error){console.error('Error updating employee status:',error);alert('Terjadi kesalahan saat mengubah status karyawan');}};const handleAktif=()=>{// Navigate to contract recommendation page\nnavigate(\"/contract-recommendation/\".concat(employee.eid));};const handleResign=async()=>{if(!resignReason.trim()){alert('Mohon isi alasan resign');return;}if(!resignDate.trim()){alert('Mohon pilih tanggal resign');return;}try{const response=await axios.put('/employees.php',{eid:employee.eid,status:'Inactive',resign_reason:resignReason,resign_date:resignDate},{withCredentials:true});if(response.data.success){alert('Karyawan berhasil resign');fetchEmployeeData();setShowResignForm(false);setResignReason('');setResignDate('');}else{alert(response.data.message||'Gagal mengubah status karyawan');}}catch(error){console.error('Error updating employee status:',error);alert('Terjadi kesalahan saat mengubah status karyawan');}};const formatDate=dateString=>{if(!dateString)return'N/A';return new Date(dateString).toLocaleDateString('id-ID');};const getContractTypeColor=type=>{switch(type){case'Probation':return'warning';case'Kontrak 1':return'primary';case'Kontrak 2':return'info';case'Kontrak 3':return'secondary';case'Permanent':return'success';default:return'secondary';}};const getStatusBadge=status=>{switch(status){case'active':return'status-active';case'probation':return'status-probation';case'resigned':case'terminated':return'status-inactive';default:return'status-inactive';}};const getStatusText=status=>{switch(status){case'active':return'Aktif';case'probation':return'Probation';case'resigned':return'Resign';case'terminated':return'Terminated';default:return'Tidak Aktif';}};const getActualContractStatus=contract=>{if(!contract.end_date){return'active';// Permanent contract\n}const today=new Date();const endDate=new Date(contract.end_date);if(endDate<today){return'expired';// Contract has ended\n}else if(contract.status==='active'){return'active';// Still active\n}else{return contract.status;// Use database status\n}};const getContractStatusText=actualStatus=>{switch(actualStatus){case'active':return'Aktif';case'expired':return'Berakhir';case'completed':return'Selesai';case'terminated':return'Dibatalkan';default:return actualStatus;}};const getContractStatusColor=actualStatus=>{switch(actualStatus){case'active':return'success';case'expired':return'danger';case'completed':return'secondary';case'terminated':return'warning';default:return'secondary';}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})});}if(!employee){return/*#__PURE__*/_jsx(\"div\",{className:\"main-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-warning\",children:\"Karyawan tidak ditemukan\"})});}// Debug log untuk melihat nilai education_job_match\nconsole.log('Employee data:',employee);console.log('Education job match:',employee.education_job_match);return/*#__PURE__*/_jsxs(\"div\",{className:\"main-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary me-3\",onClick:()=>navigate('/employees'),children:\"\\u2190 Kembali\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"d-inline\",children:\"Karyawan\"})]}),employee.status!=='Inactive'&&employee.status!=='resigned'&&employee.status!=='terminated'&&employee.education_job_match!=='Unmatch'&&/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-action btn-aktif\",onClick:handleAktif,disabled:employee.status==='active',children:\"Perpanjang\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-action btn-probation\",onClick:handleProbation,disabled:employee.status==='Inactive'||employee.status==='resigned'||employee.status==='terminated',children:\"Probation\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-action btn-resign\",onClick:()=>setShowResignForm(true),disabled:employee.status==='Inactive'||employee.status==='resigned'||employee.status==='terminated',children:\"Resign\"})]}),employee.status!=='Inactive'&&employee.status!=='resigned'&&employee.status!=='terminated'&&employee.education_job_match==='Unmatch'&&/*#__PURE__*/_jsx(\"div\",{className:\"action-buttons\",children:/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-warning mb-0\",children:/*#__PURE__*/_jsxs(\"small\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Karyawan tidak dapat direkomendasikan\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Status Match: Unmatch - Pendidikan dan role tidak sesuai\"]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"three-column-layout\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"employee-profile-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"employee-info\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://via.placeholder.com/80x80/007bff/white?text=\".concat(((_employee$name=employee.name)===null||_employee$name===void 0?void 0:_employee$name.charAt(0))||'N'),alt:employee.name,className:\"employee-avatar\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Nama Lengkap\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-value\",children:employee.name||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tanggal Lahir\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-value\",children:formatDate(employee.birth_date)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"EID\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-value\",children:employee.eid||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"No HP\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-value\",children:employee.phone||'N/A'})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cv-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"cv-placeholder\",children:\"CV\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"employee-data-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Data Karyawan\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-field\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Nama Department:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"field-value\",children:employee.division_name||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-field\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Alamat:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"field-value\",children:employee.address||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-field\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tingkat Pendidikan:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"field-value\",children:employee.education_level||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-field\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tanggal Join:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"field-value\",children:formatDate(employee.join_date)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-field\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Role:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"field-value\",children:employee.role||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-field\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status Match:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"field-value\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"badge \".concat(employee.education_job_match==='Match'?'bg-success':'bg-danger'),children:employee.education_job_match||'Unmatch'}),(employee.education_job_match==='Unmatch'||!employee.education_job_match)&&/*#__PURE__*/_jsx(\"div\",{className:\"text-muted mt-1\",children:/*#__PURE__*/_jsx(\"small\",{children:\"Pendidikan dan role tidak sesuai\"})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"recommendation-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Detail Probation\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"probation-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tanggal Masuk Probation:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-value\",children:formatDate(employee.join_date)||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tanggal Selesai Probation:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-value\",children:employee.join_date?(()=>{const joinDate=new Date(employee.join_date);const probationEndDate=new Date(joinDate);probationEndDate.setMonth(probationEndDate.getMonth()+3);return probationEndDate.toLocaleDateString('id-ID');})():'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-value\",children:/*#__PURE__*/_jsx(\"span\",{className:\"status-badge-modern \".concat(getStatusBadge(employee.status)),children:getStatusText(employee.status)})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Pendidikan:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"info-value\",children:employee.education_level?\"\".concat(employee.education_level).concat(employee.major?\" - \".concat(employee.major):''):'N/A'})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"probation-actions\",children:employee.status==='Inactive'||employee.status==='resigned'||employee.status==='terminated'?/*#__PURE__*/// Tidak ada tombol untuk karyawan yang sudah resign\n_jsx(\"div\",{className:\"text-center text-muted\",children:/*#__PURE__*/_jsx(\"small\",{children:\"Karyawan sudah tidak aktif\"})}):employee.education_job_match==='Unmatch'||employee.education_job_match===null||employee.education_job_match===undefined?/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-warning text-center mb-0\",style:{padding:'12px',borderRadius:'8px',border:'1px solid #ffc107',backgroundColor:'#fff3cd'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-danger\",children:\"\\u274C Unmatch\"})}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"Tidak dapat direkomendasikan\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"em\",{children:\"Pendidikan dan role tidak sesuai\"})]})]}):employee.education_job_match==='Match'?/*#__PURE__*/_jsx(\"button\",{className:\"btn-send-green\",onClick:handleAktif,disabled:employee.status==='Inactive'||employee.status==='resigned'||employee.status==='terminated',children:\"Perpanjang\"}):/*#__PURE__*/// Fallback untuk status yang tidak dikenali\n_jsxs(\"div\",{className:\"alert alert-secondary text-center mb-0\",style:{padding:'12px',borderRadius:'8px',border:'1px solid #6c757d',backgroundColor:'#f8f9fa'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-secondary\",children:\"\\u2753 Status Tidak Diketahui\"})}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Status match tidak dapat ditentukan\"})]})})]})]}),contracts&&contracts.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"contract-details-section mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",style:{backgroundColor:'#007bff',color:'white'},children:/*#__PURE__*/_jsx(\"h3\",{className:\"mb-0\",children:\"\\uD83D\\uDCC4 Detail Kontrak\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:contracts.map((contract,index)=>{const actualStatus=getActualContractStatus(contract);return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"contract-card \".concat(actualStatus==='active'?'active-contract':''),style:{border:actualStatus==='active'?'2px solid #28a745':actualStatus==='expired'?'2px solid #dc3545':'1px solid #dee2e6',borderRadius:'8px',padding:'15px',backgroundColor:actualStatus==='active'?'#f8fff9':actualStatus==='expired'?'#fff5f5':'#f8f9fa',marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"contract-header\",children:/*#__PURE__*/_jsxs(\"h5\",{className:\"contract-title\",children:[contract.type,/*#__PURE__*/_jsx(\"span\",{className:\"badge ms-2 bg-\".concat(getContractStatusColor(actualStatus)),children:getContractStatusText(actualStatus)})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"contract-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",style:{display:'flex',justifyContent:'space-between',marginBottom:'8px',paddingBottom:'5px',borderBottom:'1px solid #e9ecef'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Periode:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[formatDate(contract.start_date),\" - \",formatDate(contract.end_date)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",style:{display:'flex',justifyContent:'space-between',marginBottom:'8px',paddingBottom:'5px',borderBottom:'1px solid #e9ecef'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Durasi:\"}),/*#__PURE__*/_jsx(\"span\",{children:(()=>{const start=new Date(contract.start_date);const end=new Date(contract.end_date);const months=Math.round((end-start)/(1000*60*60*24*30));return\"\".concat(months,\" bulan\");})()})]}),contract.notes&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",style:{display:'flex',justifyContent:'space-between',marginBottom:'8px',paddingBottom:'5px',borderBottom:'1px solid #e9ecef'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Catatan:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:contract.notes})]}),actualStatus==='active'&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",style:{display:'flex',justifyContent:'space-between',marginBottom:'8px',paddingBottom:'5px',borderBottom:'1px solid #e9ecef'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Sisa Waktu:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-warning\",children:(()=>{const today=new Date();const endDate=new Date(contract.end_date);const diffTime=endDate-today;const diffDays=Math.ceil(diffTime/(1000*60*60*24));if(diffDays>0){return\"\".concat(diffDays,\" hari lagi\");}else if(diffDays===0){return'Berakhir hari ini';}else{return'Sudah berakhir';}})()})]})]})]})},contract.contract_id);})})})]})}),recommendations&&recommendations.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"recommendations-section mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",style:{backgroundColor:'#28a745',color:'white'},children:/*#__PURE__*/_jsx(\"h3\",{className:\"mb-0\",children:\"\\uD83D\\uDCCB Riwayat Rekomendasi Manager\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Tanggal\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Jenis\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Durasi\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Manager\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Diproses\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:recommendations.map((rec,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:formatDate(rec.created_at)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-info\",children:rec.recommendation_type==='extend'?'Perpanjang':rec.recommendation_type==='permanent'?'Permanent':rec.recommendation_type})}),/*#__PURE__*/_jsxs(\"td\",{children:[rec.recommended_duration,\" bulan\"]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge \".concat(rec.status==='approved'?'bg-success':rec.status==='pending'?'bg-warning':'bg-danger'),children:rec.status==='approved'?'✅ Disetujui':rec.status==='pending'?'⏳ Pending':'❌ Ditolak'})}),/*#__PURE__*/_jsx(\"td\",{children:rec.recommended_by_name||'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:rec.updated_at?formatDate(rec.updated_at):'-'})]},rec.recommendation_id))})]})})})]})}),showResignForm&&/*#__PURE__*/_jsx(\"div\",{className:\"modal fade show\",style:{display:'block'},tabIndex:\"-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",children:\"Resign Karyawan\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",onClick:()=>{setShowResignForm(false);setResignReason('');setResignDate('');}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Alasan Resign\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",rows:\"4\",placeholder:\"Masukkan alasan resign...\",value:resignReason,onChange:e=>setResignReason(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Tanggal Resign\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control\",value:resignDate,onChange:e=>setResignDate(e.target.value)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:()=>{setShowResignForm(false);setResignReason('');setResignDate('');},children:\"Batal\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger\",onClick:handleResign,children:\"Resign\"})]})]})})}),showResignForm&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-backdrop fade show\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"footer-links\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"Tentang Kami\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"Kontak\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"Kebijakan Privasi\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"Ketentuan Layanan\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"\\xA92025 CareerMatch. Semua hak cipta dilindungi.\"})]})]});};export default EmployeeDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","useAuth","jsx","_jsx","jsxs","_jsxs","EmployeeDetail","_employee$name","eid","navigate","user","employee","setEmployee","contracts","setContracts","recommendations","setRecommendations","loading","setLoading","activePanel","setActivePanel","resignReason","setResignReason","resignDate","setResignDate","showResignForm","setShowResignForm","fetchEmployeeData","response","get","concat","withCredentials","data","success","console","error","handleProbation","put","status","alert","message","handleAktif","handleResign","trim","resign_reason","resign_date","formatDate","dateString","Date","toLocaleDateString","getContractTypeColor","type","getStatusBadge","getStatusText","getActualContractStatus","contract","end_date","today","endDate","getContractStatusText","actualStatus","getContractStatusColor","className","children","log","education_job_match","onClick","disabled","src","name","charAt","alt","birth_date","phone","division_name","address","education_level","join_date","role","joinDate","probationEndDate","setMonth","getMonth","major","undefined","style","padding","borderRadius","border","backgroundColor","length","color","map","index","marginBottom","display","justifyContent","paddingBottom","borderBottom","start_date","start","end","months","Math","round","notes","diffTime","diffDays","ceil","contract_id","rec","created_at","recommendation_type","recommended_duration","recommended_by_name","updated_at","recommendation_id","tabIndex","rows","placeholder","value","onChange","e","target","href"],"sources":["C:/xampp/htdocs/web_srk_BI/frontend/src/pages/EmployeeDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { useAuth } from '../App';\n\nconst EmployeeDetail = () => {\n    const { eid } = useParams();\n    const navigate = useNavigate();\n    const { user } = useAuth();\n    const [employee, setEmployee] = useState(null);\n    const [contracts, setContracts] = useState([]);\n    const [recommendations, setRecommendations] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [activePanel, setActivePanel] = useState('recommendation');\n    const [resignReason, setResignReason] = useState('');\n    const [resignDate, setResignDate] = useState('');\n    const [showResignForm, setShowResignForm] = useState(false);\n\n    useEffect(() => {\n        fetchEmployeeData();\n    }, [eid]);\n\n    const fetchEmployeeData = async () => {\n        try {\n            setLoading(true);\n            const response = await axios.get(`/employees.php?action=detail&eid=${eid}`, {\n                withCredentials: true\n            });\n\n            if (response.data.success) {\n                setEmployee(response.data.employee);\n                setContracts(response.data.contracts || []);\n                setRecommendations(response.data.recommendations || []);\n            } else {\n                console.error('Error fetching employee data:', response.data.error);\n            }\n        } catch (error) {\n            console.error('Error fetching employee data:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleProbation = async () => {\n        try {\n            const response = await axios.put('/employees.php', {\n                eid: employee.eid,\n                status: 'Probation'\n            }, {\n                withCredentials: true\n            });\n\n            if (response.data.success) {\n                alert('Status karyawan berhasil diubah ke Probation');\n                fetchEmployeeData();\n            } else {\n                alert(response.data.message || 'Gagal mengubah status karyawan');\n            }\n        } catch (error) {\n            console.error('Error updating employee status:', error);\n            alert('Terjadi kesalahan saat mengubah status karyawan');\n        }\n    };\n\n    const handleAktif = () => {\n        // Navigate to contract recommendation page\n        navigate(`/contract-recommendation/${employee.eid}`);\n    };\n\n    const handleResign = async () => {\n        if (!resignReason.trim()) {\n            alert('Mohon isi alasan resign');\n            return;\n        }\n\n        if (!resignDate.trim()) {\n            alert('Mohon pilih tanggal resign');\n            return;\n        }\n\n        try {\n            const response = await axios.put('/employees.php', {\n                eid: employee.eid,\n                status: 'Inactive',\n                resign_reason: resignReason,\n                resign_date: resignDate\n            }, {\n                withCredentials: true\n            });\n\n            if (response.data.success) {\n                alert('Karyawan berhasil resign');\n                fetchEmployeeData();\n                setShowResignForm(false);\n                setResignReason('');\n                setResignDate('');\n            } else {\n                alert(response.data.message || 'Gagal mengubah status karyawan');\n            }\n        } catch (error) {\n            console.error('Error updating employee status:', error);\n            alert('Terjadi kesalahan saat mengubah status karyawan');\n        }\n    };\n\n    const formatDate = (dateString) => {\n        if (!dateString) return 'N/A';\n        return new Date(dateString).toLocaleDateString('id-ID');\n    };\n\n    const getContractTypeColor = (type) => {\n        switch (type) {\n            case 'Probation': return 'warning';\n            case 'Kontrak 1': return 'primary';\n            case 'Kontrak 2': return 'info';\n            case 'Kontrak 3': return 'secondary';\n            case 'Permanent': return 'success';\n            default: return 'secondary';\n        }\n    };\n\n    const getStatusBadge = (status) => {\n        switch (status) {\n            case 'active':\n                return 'status-active';\n            case 'probation':\n                return 'status-probation';\n            case 'resigned':\n            case 'terminated':\n                return 'status-inactive';\n            default:\n                return 'status-inactive';\n        }\n    };\n\n    const getStatusText = (status) => {\n        switch (status) {\n            case 'active':\n                return 'Aktif';\n            case 'probation':\n                return 'Probation';\n            case 'resigned':\n                return 'Resign';\n            case 'terminated':\n                return 'Terminated';\n            default:\n                return 'Tidak Aktif';\n        }\n    };\n\n    const getActualContractStatus = (contract) => {\n        if (!contract.end_date) {\n            return 'active'; // Permanent contract\n        }\n        \n        const today = new Date();\n        const endDate = new Date(contract.end_date);\n        \n        if (endDate < today) {\n            return 'expired'; // Contract has ended\n        } else if (contract.status === 'active') {\n            return 'active'; // Still active\n        } else {\n            return contract.status; // Use database status\n        }\n    };\n\n    const getContractStatusText = (actualStatus) => {\n        switch (actualStatus) {\n            case 'active':\n                return 'Aktif';\n            case 'expired':\n                return 'Berakhir';\n            case 'completed':\n                return 'Selesai';\n            case 'terminated':\n                return 'Dibatalkan';\n            default:\n                return actualStatus;\n        }\n    };\n\n    const getContractStatusColor = (actualStatus) => {\n        switch (actualStatus) {\n            case 'active':\n                return 'success';\n            case 'expired':\n                return 'danger';\n            case 'completed':\n                return 'secondary';\n            case 'terminated':\n                return 'warning';\n            default:\n                return 'secondary';\n        }\n    };\n\n    if (loading) {\n        return (\n            <div className=\"loading-spinner\">\n                <div className=\"spinner\"></div>\n            </div>\n        );\n    }\n\n    if (!employee) {\n        return (\n            <div className=\"main-container\">\n                <div className=\"alert alert-warning\">\n                    Karyawan tidak ditemukan\n                </div>\n            </div>\n        );\n    }\n\n    // Debug log untuk melihat nilai education_job_match\n    console.log('Employee data:', employee);\n    console.log('Education job match:', employee.education_job_match);\n\n    return (\n        <div className=\"main-container\">\n            {/* Header dengan tombol aksi */}\n            <div className=\"d-flex justify-content-between align-items-center mb-4\">\n                <div>\n                    <button \n                        className=\"btn btn-outline-secondary me-3\" \n                        onClick={() => navigate('/employees')}\n                    >\n                        ← Kembali\n                    </button>\n                    <h1 className=\"d-inline\">Karyawan</h1>\n                </div>\n                {employee.status !== 'Inactive' && employee.status !== 'resigned' && employee.status !== 'terminated' && employee.education_job_match !== 'Unmatch' && (\n                    <div className=\"action-buttons\">\n                        <button \n                            className=\"btn-action btn-aktif\"\n                            onClick={handleAktif}\n                            disabled={employee.status === 'active'}\n                        >\n                            Perpanjang\n                        </button>\n                        <button \n                            className=\"btn-action btn-probation\"\n                            onClick={handleProbation}\n                            disabled={employee.status === 'Inactive' || employee.status === 'resigned' || employee.status === 'terminated'}\n                        >\n                            Probation\n                        </button>\n                        <button \n                            className=\"btn-action btn-resign\"\n                            onClick={() => setShowResignForm(true)}\n                            disabled={employee.status === 'Inactive' || employee.status === 'resigned' || employee.status === 'terminated'}\n                        >\n                            Resign\n                        </button>\n                    </div>\n                )}\n                {employee.status !== 'Inactive' && employee.status !== 'resigned' && employee.status !== 'terminated' && employee.education_job_match === 'Unmatch' && (\n                    <div className=\"action-buttons\">\n                        <div className=\"alert alert-warning mb-0\">\n                            <small><strong>Karyawan tidak dapat direkomendasikan</strong><br/>\n                            Status Match: Unmatch - Pendidikan dan role tidak sesuai</small>\n                        </div>\n                    </div>\n                )}\n            </div>\n\n            {/* Three Column Layout */}\n            <div className=\"three-column-layout\">\n                \n                {/* Left Column - Employee Profile */}\n                <div className=\"employee-profile-card\">\n                    <div className=\"employee-info\">\n                        <img \n                            src={`https://via.placeholder.com/80x80/007bff/white?text=${employee.name?.charAt(0) || 'N'}`}\n                            alt={employee.name}\n                            className=\"employee-avatar\"\n                        />\n                        \n                        <div className=\"info-item\">\n                            <strong>Nama Lengkap</strong>\n                            <div className=\"info-value\">{employee.name || 'N/A'}</div>\n                        </div>\n                        \n                        <div className=\"info-item\">\n                            <strong>Tanggal Lahir</strong>\n                            <div className=\"info-value\">{formatDate(employee.birth_date)}</div>\n                        </div>\n                        \n                        <div className=\"info-item\">\n                            <strong>EID</strong>\n                            <div className=\"info-value\">{employee.eid || 'N/A'}</div>\n                        </div>\n                        \n                        <div className=\"info-item\">\n                            <strong>No HP</strong>\n                            <div className=\"info-value\">{employee.phone || 'N/A'}</div>\n                        </div>\n                    </div>\n\n                    <div className=\"cv-section\">\n                        <div className=\"cv-placeholder\">\n                            CV\n                        </div>\n                    </div>\n                </div>\n\n                {/* Center Column - Data Karyawan */}\n                <div className=\"employee-data-card\">\n                    <div className=\"card-header\">\n                        <h2>Data Karyawan</h2>\n                    </div>\n\n                    <div className=\"data-field\">\n                        <strong>Nama Department:</strong>\n                        <div className=\"field-value\">{employee.division_name || 'N/A'}</div>\n                    </div>\n\n                    <div className=\"data-field\">\n                        <strong>Alamat:</strong>\n                        <div className=\"field-value\">{employee.address || 'N/A'}</div>\n                    </div>\n\n                    <div className=\"data-field\">\n                        <strong>Tingkat Pendidikan:</strong>\n                        <div className=\"field-value\">{employee.education_level || 'N/A'}</div>\n                    </div>\n\n                    <div className=\"data-field\">\n                        <strong>Tanggal Join:</strong>\n                        <div className=\"field-value\">{formatDate(employee.join_date)}</div>\n                    </div>\n\n                    <div className=\"data-field\">\n                        <strong>Role:</strong>\n                        <div className=\"field-value\">{employee.role || 'N/A'}</div>\n                    </div>\n\n                    <div className=\"data-field\">\n                        <strong>Status Match:</strong>\n                        <div className=\"field-value\">\n                            <span className={`badge ${employee.education_job_match === 'Match' ? 'bg-success' : 'bg-danger'}`}>\n                                {employee.education_job_match || 'Unmatch'}\n                            </span>\n                            {(employee.education_job_match === 'Unmatch' || !employee.education_job_match) && (\n                                <div className=\"text-muted mt-1\">\n                                    <small>Pendidikan dan role tidak sesuai</small>\n                                </div>\n                            )}\n                        </div>\n                    </div>\n                </div>\n\n                {/* Right Column - Detail Probation */}\n                <div className=\"recommendation-card\">\n                    <div className=\"card-header\">\n                        <h2>Detail Probation</h2>\n                    </div>\n\n                    <div className=\"probation-info\">\n                        <div className=\"info-item\">\n                            <strong>Tanggal Masuk Probation:</strong>\n                            <div className=\"info-value\">{formatDate(employee.join_date) || 'N/A'}</div>\n                        </div>\n                        \n                        <div className=\"info-item\">\n                            <strong>Tanggal Selesai Probation:</strong>\n                            <div className=\"info-value\">\n                                {employee.join_date ? (() => {\n                                    const joinDate = new Date(employee.join_date);\n                                    const probationEndDate = new Date(joinDate);\n                                    probationEndDate.setMonth(probationEndDate.getMonth() + 3);\n                                    return probationEndDate.toLocaleDateString('id-ID');\n                                })() : 'N/A'}\n                            </div>\n                        </div>\n                        \n                        <div className=\"info-item\">\n                            <strong>Status:</strong>\n                            <div className=\"info-value\">\n                                <span className={`status-badge-modern ${getStatusBadge(employee.status)}`}>\n                                    {getStatusText(employee.status)}\n                                </span>\n                            </div>\n                        </div>\n                        \n                        <div className=\"info-item\">\n                            <strong>Pendidikan:</strong>\n                            <div className=\"info-value\">\n                                {employee.education_level ? `${employee.education_level}${employee.major ? ` - ${employee.major}` : ''}` : 'N/A'}\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"probation-actions\">\n                        {(employee.status === 'Inactive' || employee.status === 'resigned' || employee.status === 'terminated') ? (\n                            // Tidak ada tombol untuk karyawan yang sudah resign\n                            <div className=\"text-center text-muted\">\n                                <small>Karyawan sudah tidak aktif</small>\n                            </div>\n                        ) : (employee.education_job_match === 'Unmatch' || employee.education_job_match === null || employee.education_job_match === undefined) ? (\n                            <div className=\"alert alert-warning text-center mb-0\" style={{\n                                padding: '12px',\n                                borderRadius: '8px',\n                                border: '1px solid #ffc107',\n                                backgroundColor: '#fff3cd'\n                            }}>\n                                <div className=\"mb-2\">\n                                    <span className=\"badge bg-danger\">❌ Unmatch</span>\n                                </div>\n                                <small className=\"text-muted\">\n                                    Tidak dapat direkomendasikan<br/>\n                                    <em>Pendidikan dan role tidak sesuai</em>\n                                </small>\n                            </div>\n                        ) : employee.education_job_match === 'Match' ? (\n                            <button \n                                className=\"btn-send-green\"\n                                onClick={handleAktif}\n                                disabled={employee.status === 'Inactive' || employee.status === 'resigned' || employee.status === 'terminated'}\n                            >\n                                Perpanjang\n                            </button>\n                        ) : (\n                            // Fallback untuk status yang tidak dikenali\n                            <div className=\"alert alert-secondary text-center mb-0\" style={{\n                                padding: '12px',\n                                borderRadius: '8px',\n                                border: '1px solid #6c757d',\n                                backgroundColor: '#f8f9fa'\n                            }}>\n                                <div className=\"mb-2\">\n                                    <span className=\"badge bg-secondary\">❓ Status Tidak Diketahui</span>\n                                </div>\n                                <small className=\"text-muted\">\n                                    Status match tidak dapat ditentukan\n                                </small>\n                            </div>\n                        )}\n                    </div>\n                </div>\n            </div>\n\n            {/* Detail Kontrak Section */}\n            {contracts && contracts.length > 0 && (\n                <div className=\"contract-details-section mt-4\">\n                    <div className=\"card\">\n                        <div className=\"card-header\" style={{ backgroundColor: '#007bff', color: 'white' }}>\n                            <h3 className=\"mb-0\">📄 Detail Kontrak</h3>\n                        </div>\n                        <div className=\"card-body\">\n                            <div className=\"row\">\n                                {contracts.map((contract, index) => {\n                                    const actualStatus = getActualContractStatus(contract);\n                                    return (\n                                    <div key={contract.contract_id} className=\"col-md-6 mb-3\">\n                                        <div className={`contract-card ${actualStatus === 'active' ? 'active-contract' : ''}`} style={{\n                                            border: actualStatus === 'active' ? '2px solid #28a745' : actualStatus === 'expired' ? '2px solid #dc3545' : '1px solid #dee2e6',\n                                            borderRadius: '8px',\n                                            padding: '15px',\n                                            backgroundColor: actualStatus === 'active' ? '#f8fff9' : actualStatus === 'expired' ? '#fff5f5' : '#f8f9fa',\n                                            marginBottom: '10px'\n                                        }}>\n                                            <div className=\"contract-header\">\n                                                <h5 className=\"contract-title\">\n                                                    {contract.type}\n                                                    <span className={`badge ms-2 bg-${getContractStatusColor(actualStatus)}`}>\n                                                        {getContractStatusText(actualStatus)}\n                                                    </span>\n                                                </h5>\n                                            </div>\n                                            <div className=\"contract-details\">\n                                                <div className=\"detail-row\" style={{ \n                                                    display: 'flex', \n                                                    justifyContent: 'space-between', \n                                                    marginBottom: '8px',\n                                                    paddingBottom: '5px',\n                                                    borderBottom: '1px solid #e9ecef'\n                                                }}>\n                                                    <strong>Periode:</strong>\n                                                    <span>{formatDate(contract.start_date)} - {formatDate(contract.end_date)}</span>\n                                                </div>\n                                                <div className=\"detail-row\" style={{ \n                                                    display: 'flex', \n                                                    justifyContent: 'space-between', \n                                                    marginBottom: '8px',\n                                                    paddingBottom: '5px',\n                                                    borderBottom: '1px solid #e9ecef'\n                                                }}>\n                                                    <strong>Durasi:</strong>\n                                                    <span>\n                                                        {(() => {\n                                                            const start = new Date(contract.start_date);\n                                                            const end = new Date(contract.end_date);\n                                                            const months = Math.round((end - start) / (1000 * 60 * 60 * 24 * 30));\n                                                            return `${months} bulan`;\n                                                        })()}\n                                                    </span>\n                                                </div>\n                                                {contract.notes && (\n                                                    <div className=\"detail-row\" style={{ \n                                                        display: 'flex', \n                                                        justifyContent: 'space-between', \n                                                        marginBottom: '8px',\n                                                        paddingBottom: '5px',\n                                                        borderBottom: '1px solid #e9ecef'\n                                                    }}>\n                                                        <strong>Catatan:</strong>\n                                                        <span className=\"text-muted\">{contract.notes}</span>\n                                                    </div>\n                                                )}\n                                                {actualStatus === 'active' && (\n                                                    <div className=\"detail-row\" style={{ \n                                                        display: 'flex', \n                                                        justifyContent: 'space-between', \n                                                        marginBottom: '8px',\n                                                        paddingBottom: '5px',\n                                                        borderBottom: '1px solid #e9ecef'\n                                                    }}>\n                                                        <strong>Sisa Waktu:</strong>\n                                                        <span className=\"text-warning\">\n                                                            {(() => {\n                                                                const today = new Date();\n                                                                const endDate = new Date(contract.end_date);\n                                                                const diffTime = endDate - today;\n                                                                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n                                                                \n                                                                if (diffDays > 0) {\n                                                                    return `${diffDays} hari lagi`;\n                                                                } else if (diffDays === 0) {\n                                                                    return 'Berakhir hari ini';\n                                                                } else {\n                                                                    return 'Sudah berakhir';\n                                                                }\n                                                            })()}\n                                                        </span>\n                                                    </div>\n                                                )}\n                                            </div>\n                                        </div>\n                                    </div>\n                                    );\n                                })}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            {/* Riwayat Rekomendasi Section */}\n            {recommendations && recommendations.length > 0 && (\n                <div className=\"recommendations-section mt-4\">\n                    <div className=\"card\">\n                        <div className=\"card-header\" style={{ backgroundColor: '#28a745', color: 'white' }}>\n                            <h3 className=\"mb-0\">📋 Riwayat Rekomendasi Manager</h3>\n                        </div>\n                        <div className=\"card-body\">\n                            <div className=\"table-responsive\">\n                                <table className=\"table table-striped\">\n                                    <thead>\n                                        <tr>\n                                            <th>Tanggal</th>\n                                            <th>Jenis</th>\n                                            <th>Durasi</th>\n                                            <th>Status</th>\n                                            <th>Manager</th>\n                                            <th>Diproses</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        {recommendations.map((rec, index) => (\n                                            <tr key={rec.recommendation_id}>\n                                                <td>{formatDate(rec.created_at)}</td>\n                                                <td>\n                                                    <span className=\"badge bg-info\">\n                                                        {rec.recommendation_type === 'extend' ? 'Perpanjang' : \n                                                         rec.recommendation_type === 'permanent' ? 'Permanent' : \n                                                         rec.recommendation_type}\n                                                    </span>\n                                                </td>\n                                                <td>{rec.recommended_duration} bulan</td>\n                                                <td>\n                                                    <span className={`badge ${\n                                                        rec.status === 'approved' ? 'bg-success' : \n                                                        rec.status === 'pending' ? 'bg-warning' : 'bg-danger'\n                                                    }`}>\n                                                        {rec.status === 'approved' ? '✅ Disetujui' : \n                                                         rec.status === 'pending' ? '⏳ Pending' : '❌ Ditolak'}\n                                                    </span>\n                                                </td>\n                                                <td>{rec.recommended_by_name || 'N/A'}</td>\n                                                <td>{rec.updated_at ? formatDate(rec.updated_at) : '-'}</td>\n                                            </tr>\n                                        ))}\n                                    </tbody>\n                                </table>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            {/* Resign Modal */}\n            {showResignForm && (\n                <div className=\"modal fade show\" style={{ display: 'block' }} tabIndex=\"-1\">\n                    <div className=\"modal-dialog\">\n                        <div className=\"modal-content\">\n                            <div className=\"modal-header\">\n                                <h5 className=\"modal-title\">Resign Karyawan</h5>\n                                <button \n                                    type=\"button\" \n                                    className=\"btn-close\"\n                                    onClick={() => {\n                                        setShowResignForm(false);\n                                        setResignReason('');\n                                        setResignDate('');\n                                    }}\n                                ></button>\n                            </div>\n                            <div className=\"modal-body\">\n                                <div className=\"form-group\">\n                                    <label>Alasan Resign</label>\n                                    <textarea \n                                        className=\"form-control\"\n                                        rows=\"4\"\n                                        placeholder=\"Masukkan alasan resign...\"\n                                        value={resignReason}\n                                        onChange={(e) => setResignReason(e.target.value)}\n                                    />\n                                </div>\n                                <div className=\"form-group\">\n                                    <label>Tanggal Resign</label>\n                                    <input \n                                        type=\"date\"\n                                        className=\"form-control\"\n                                        value={resignDate}\n                                        onChange={(e) => setResignDate(e.target.value)}\n                                    />\n                                </div>\n                            </div>\n                            <div className=\"modal-footer\">\n                                <button \n                                    type=\"button\" \n                                    className=\"btn btn-secondary\"\n                                    onClick={() => {\n                                        setShowResignForm(false);\n                                        setResignReason('');\n                                        setResignDate('');\n                                    }}\n                                >\n                                    Batal\n                                </button>\n                                <button \n                                    type=\"button\" \n                                    className=\"btn btn-danger\"\n                                    onClick={handleResign}\n                                >\n                                    Resign\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n            {showResignForm && <div className=\"modal-backdrop fade show\"></div>}\n\n            {/* Footer */}\n            <div className=\"footer\">\n                <div className=\"footer-links\">\n                    <a href=\"#\">Tentang Kami</a>\n                    <a href=\"#\">Kontak</a>\n                    <a href=\"#\">Kebijakan Privasi</a>\n                    <a href=\"#\">Ketentuan Layanan</a>\n                </div>\n                <p>©2025 CareerMatch. Semua hak cipta dilindungi.</p>\n            </div>\n        </div>\n    );\n};\n\nexport default EmployeeDetail; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}