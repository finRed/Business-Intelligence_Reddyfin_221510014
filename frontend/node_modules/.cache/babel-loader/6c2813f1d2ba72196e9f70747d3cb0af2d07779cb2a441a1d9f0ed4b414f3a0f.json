{"ast":null,"code":"import React,{useState,useRef}from'react';import{Card,Table,Button,Alert,ProgressBar,Badge,Modal,Row,Col,Form}from'react-bootstrap';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UploadCSV=()=>{var _uploadResults$summar,_uploadResults$summar2,_uploadResults$summar3,_uploadResults$summar4,_uploadResults$summar5;const[file,setFile]=useState(null);const[uploadStatus,setUploadStatus]=useState('');const[isUploading,setIsUploading]=useState(false);const[uploadProgress,setUploadProgress]=useState(0);const[uploadResults,setUploadResults]=useState(null);const[showModal,setShowModal]=useState(false);const[selectedEmployee,setSelectedEmployee]=useState(null);const[validationErrors,setValidationErrors]=useState([]);const[previewData,setPreviewData]=useState([]);const[showPreview,setShowPreview]=useState(false);const fileInputRef=useRef(null);const handleFileSelect=event=>{const selectedFile=event.target.files[0];if(selectedFile&&selectedFile.type==='text/csv'){setFile(selectedFile);setUploadStatus('');setValidationErrors([]);setUploadResults(null);setShowPreview(false);// Preview first few rows\nconst reader=new FileReader();reader.onload=e=>{const text=e.target.result;const lines=text.split('\\n').slice(0,6);// Header + 5 data rows\nconst preview=lines.map((line,index)=>{const columns=line.split(';');return{rowIndex:index,data:columns,isHeader:index===0};});setPreviewData(preview);setShowPreview(true);};reader.readAsText(selectedFile);}else{setUploadStatus('error');setValidationErrors(['Please select a valid CSV file']);}};const handleUpload=async()=>{if(!file){setUploadStatus('error');setValidationErrors(['No file selected']);return;}const formData=new FormData();formData.append('csv_file',file);setIsUploading(true);setUploadProgress(0);setUploadStatus('uploading');try{const response=await axios.post('http://localhost/web_srk_BI/backend/api/csv_upload_endpoint.php',formData,{headers:{'Content-Type':'multipart/form-data'},withCredentials:true,onUploadProgress:progressEvent=>{const percentCompleted=Math.round(progressEvent.loaded*100/progressEvent.total);setUploadProgress(percentCompleted);}});if(response.data.success){setUploadStatus('success');setUploadResults(response.data.results);setValidationErrors([]);}else{setUploadStatus('error');setValidationErrors(response.data.errors||['Upload failed']);setUploadResults(null);}}catch(error){var _error$response,_error$response2,_error$response3,_error$response3$data,_error$response4,_error$response5,_error$response6;console.error('Upload error:',error);console.error('Response status:',(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status);console.error('Response data:',(_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.data);setUploadStatus('error');let errorMessages=[];if((_error$response3=error.response)!==null&&_error$response3!==void 0&&(_error$response3$data=_error$response3.data)!==null&&_error$response3$data!==void 0&&_error$response3$data.error){errorMessages.push(error.response.data.error);// Add debug info if available\nif(error.response.data.debug){errorMessages.push(`Debug: ${error.response.data.debug.file}:${error.response.data.debug.line}`);}}else if(((_error$response4=error.response)===null||_error$response4===void 0?void 0:_error$response4.status)===401){errorMessages.push('Unauthorized - Please login again');}else if(((_error$response5=error.response)===null||_error$response5===void 0?void 0:_error$response5.status)===403){errorMessages.push('Forbidden - Only HR can upload CSV files');}else if(((_error$response6=error.response)===null||_error$response6===void 0?void 0:_error$response6.status)===500){errorMessages.push('Server error - Check server logs');}else if(error.message==='Network Error'){errorMessages.push('Network error - Check if server is running');}else{errorMessages.push(error.message||'Unknown error occurred');}setValidationErrors(errorMessages);setUploadResults(null);}finally{setIsUploading(false);setUploadProgress(0);}};const resetUpload=()=>{setFile(null);setUploadStatus('');setUploadResults(null);setValidationErrors([]);setPreviewData([]);setShowPreview(false);if(fileInputRef.current){fileInputRef.current.value='';}};const viewEmployeeDetail=employee=>{setSelectedEmployee(employee);setShowModal(true);};const getStatusBadge=status=>{switch(status){case'success':return/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:\"\\u2705 Berhasil\"});case'warning':return/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:\"\\u26A0\\uFE0F Warning\"});case'error':return/*#__PURE__*/_jsx(Badge,{bg:\"danger\",children:\"\\u274C Error\"});case'skipped':return/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:\"\\u23ED\\uFE0F Dilewati\"});default:return/*#__PURE__*/_jsx(Badge,{bg:\"light\",children:\"-\"});}};const getResignStatusBadge=(isEarlyResign,resignDate)=>{if(!resignDate)return/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:\"Active\"});if(isEarlyResign)return/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:\"Early Resign\"});return/*#__PURE__*/_jsx(Badge,{bg:\"info\",children:\"Normal Resign\"});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCC1 Upload Data Karyawan CSV\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline-secondary\",onClick:resetUpload,children:\"\\uD83D\\uDD04 Reset\"})]}),/*#__PURE__*/_jsxs(Card,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Card.Header,{style:{backgroundColor:'#007bff',color:'white'},children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"\\uD83D\\uDCE4 Upload File CSV\"})}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:8,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Pilih File CSV\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"file\",accept:\".csv\",onChange:handleFileSelect,ref:fileInputRef}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"Format: CSV dengan separator semicolon (;). Maksimal 50MB.\"})]})}),/*#__PURE__*/_jsx(Col,{md:4,className:\"d-flex align-items-end\",children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleUpload,disabled:!file||isUploading,className:\"w-100\",children:isUploading?'📡 Uploading...':'📤 Upload CSV'})})]}),isUploading&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Progress Upload:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[uploadProgress,\"%\"]})]}),/*#__PURE__*/_jsx(ProgressBar,{now:uploadProgress,animated:true})]}),uploadStatus==='success'&&/*#__PURE__*/_jsxs(Alert,{variant:\"success\",className:\"mt-3\",children:[\"\\u2705 \",/*#__PURE__*/_jsx(\"strong\",{children:\"Upload berhasil!\"}),\" Data karyawan telah diproses.\"]}),uploadStatus==='error'&&/*#__PURE__*/_jsxs(Alert,{variant:\"danger\",className:\"mt-3\",children:[\"\\u274C \",/*#__PURE__*/_jsx(\"strong\",{children:\"Upload gagal!\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"mb-0 mt-2\",children:validationErrors.map((error,index)=>/*#__PURE__*/_jsx(\"li\",{children:error},index))})]})]})]}),showPreview&&previewData.length>0&&/*#__PURE__*/_jsxs(Card,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Card.Header,{style:{backgroundColor:'#28a745',color:'white'},children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"\\uD83D\\uDC41\\uFE0F Preview Data CSV\"})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsx(Table,{responsive:true,bordered:true,size:\"sm\",children:/*#__PURE__*/_jsx(\"tbody\",{children:previewData.map((row,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:row.isHeader?'table-primary':'',children:[/*#__PURE__*/_jsx(\"td\",{width:\"50px\",children:/*#__PURE__*/_jsx(\"strong\",{children:row.isHeader?'Header':`Row ${index}`})}),row.data.slice(0,10).map((cell,cellIndex)=>/*#__PURE__*/_jsx(\"td\",{className:\"text-truncate\",style:{maxWidth:'150px'},children:cell||'-'},cellIndex)),row.data.length>10&&/*#__PURE__*/_jsxs(\"td\",{className:\"text-muted\",children:[\"... +\",row.data.length-10,\" kolom lagi\"]})]},index))})})})]}),uploadResults&&/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{style:{backgroundColor:'#17a2b8',color:'white'},children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"\\uD83D\\uDCCA Hasil Upload\"})}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(Row,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-primary\",children:((_uploadResults$summar=uploadResults.summary)===null||_uploadResults$summar===void 0?void 0:_uploadResults$summar.total_processed)||0}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Total Diproses\"})]})}),/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-success\",children:((_uploadResults$summar2=uploadResults.summary)===null||_uploadResults$summar2===void 0?void 0:_uploadResults$summar2.successful)||0}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Berhasil\"})]})}),/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-warning\",children:((_uploadResults$summar3=uploadResults.summary)===null||_uploadResults$summar3===void 0?void 0:_uploadResults$summar3.warnings)||0}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Warning\"})]})}),/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-danger\",children:((_uploadResults$summar4=uploadResults.summary)===null||_uploadResults$summar4===void 0?void 0:_uploadResults$summar4.errors)||0}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Error\"})]})}),/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-secondary\",children:((_uploadResults$summar5=uploadResults.summary)===null||_uploadResults$summar5===void 0?void 0:_uploadResults$summar5.skipped)||0}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Dilewati\"})]})})]}),uploadResults.details&&uploadResults.details.length>0&&/*#__PURE__*/_jsxs(Table,{responsive:true,striped:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{style:{backgroundColor:'#17a2b8',color:'white'},children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"EID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nama\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Kontrak\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Resign Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Divisi\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Pesan\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:uploadResults.details.map((result,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:result.eid||result.original_eid})}),/*#__PURE__*/_jsx(\"td\",{children:result.name}),/*#__PURE__*/_jsx(\"td\",{children:getStatusBadge(result.status)}),/*#__PURE__*/_jsx(\"td\",{children:result.contract_info&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Badge,{bg:result.contract_info.current_type==='probation'?'warning':'info',children:result.contract_info.current_type}),result.contract_info.total_contracts&&/*#__PURE__*/_jsxs(\"small\",{className:\"d-block text-muted\",children:[result.contract_info.total_contracts,\" kontrak\"]})]})}),/*#__PURE__*/_jsx(\"td\",{children:getResignStatusBadge(result.early_resign,result.resign_date)}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:result.division}),result.division_created&&/*#__PURE__*/_jsx(\"small\",{className:\"text-success\",children:\"\\u2728 Divisi baru\"})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"small\",{children:result.message}),result.warnings&&result.warnings.length>0&&/*#__PURE__*/_jsx(\"div\",{children:result.warnings.map((warning,wIndex)=>/*#__PURE__*/_jsxs(\"small\",{className:\"d-block text-warning\",children:[\"\\u26A0\\uFE0F \",warning]},wIndex))})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"outline-primary\",onClick:()=>viewEmployeeDetail(result),children:\"\\uD83D\\uDC41\\uFE0F Detail\"})})]},index))})]}),uploadResults.logs&&uploadResults.logs.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"\\uD83D\\uDCCB Log Pemrosesan\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-light p-3 rounded\",style:{maxHeight:'300px',overflowY:'auto'},children:uploadResults.logs.map((log,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"mb-1\",children:/*#__PURE__*/_jsxs(\"small\",{className:`text-${log.type==='error'?'danger':log.type==='warning'?'warning':'muted'}`,children:[\"[\",log.timestamp,\"] \",log.message]})},index))})]})]})]}),/*#__PURE__*/_jsxs(Modal,{show:showModal,onHide:()=>setShowModal(false),size:\"lg\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"\\uD83D\\uDC64 Detail Karyawan\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:selectedEmployee&&/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:6,children:[/*#__PURE__*/_jsx(\"h6\",{children:\"\\uD83D\\uDCCB Informasi Dasar\"}),/*#__PURE__*/_jsx(\"table\",{className:\"table table-sm\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"EID:\"})}),/*#__PURE__*/_jsx(\"td\",{children:selectedEmployee.eid})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Nama:\"})}),/*#__PURE__*/_jsx(\"td\",{children:selectedEmployee.name})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Posisi:\"})}),/*#__PURE__*/_jsx(\"td\",{children:selectedEmployee.role})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Divisi:\"})}),/*#__PURE__*/_jsx(\"td\",{children:selectedEmployee.division})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Join Date:\"})}),/*#__PURE__*/_jsx(\"td\",{children:selectedEmployee.join_date})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Resign Date:\"})}),/*#__PURE__*/_jsx(\"td\",{children:selectedEmployee.resign_date||'Active'})]})]})})]}),/*#__PURE__*/_jsxs(Col,{md:6,children:[/*#__PURE__*/_jsx(\"h6\",{children:\"\\uD83D\\uDCDD Detail Kontrak\"}),selectedEmployee.contract_info&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tipe Saat Ini:\"}),\" \",selectedEmployee.contract_info.current_type]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total Kontrak:\"}),\" \",selectedEmployee.contract_info.total_contracts]}),selectedEmployee.early_resign&&/*#__PURE__*/_jsxs(Alert,{variant:\"warning\",className:\"p-2\",children:[\"\\u26A0\\uFE0F \",/*#__PURE__*/_jsx(\"strong\",{children:\"Early Resign Detected\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Karyawan resign sebelum kontrak berakhir\"]})]}),/*#__PURE__*/_jsx(\"h6\",{className:\"mt-3\",children:\"\\uD83D\\uDCCA Status Pemrosesan\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",getStatusBadge(selectedEmployee.status)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Pesan:\"}),\" \",selectedEmployee.message]})]})]})}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setShowModal(false),children:\"Tutup\"})})]}),/*#__PURE__*/_jsxs(Card,{className:\"mt-4\",children:[/*#__PURE__*/_jsx(Card.Header,{style:{backgroundColor:'#6f42c1',color:'white'},children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"\\uD83D\\uDCCB Panduan Upload CSV\"})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:6,children:[/*#__PURE__*/_jsx(\"h6\",{children:\"\\uD83D\\uDCCA Format CSV yang Diharapkan:\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"Separator: Semicolon (;)\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Encoding: UTF-8\"}),/*#__PURE__*/_jsx(\"li\",{children:\"EID akan di-generate otomatis\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Join Date = Probation Start\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Probation End = Join Date + 3 bulan\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Designation akan di-mapping ke Role\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Major akan di-mapping ke Jurusan\"})]})]}),/*#__PURE__*/_jsxs(Col,{md:6,children:[/*#__PURE__*/_jsx(\"h6\",{children:\"\\uD83D\\uDD0D Deteksi Otomatis:\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"Early Resign: Resign sebelum kontrak berakhir\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Tipe Kontrak terakhir dari kolom CONTRACT EXPIRED\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Auto-create Divisi jika belum ada\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Validasi format Birth Date\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Validasi format Email\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Mapping Gender (Male/Female)\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Filter otomatis: Graduate Development Program dilewati\"})]})]})]})})]})]});};export default UploadCSV;","map":{"version":3,"names":["React","useState","useRef","Card","Table","Button","Alert","ProgressBar","Badge","Modal","Row","Col","Form","axios","jsx","_jsx","jsxs","_jsxs","UploadCSV","_uploadResults$summar","_uploadResults$summar2","_uploadResults$summar3","_uploadResults$summar4","_uploadResults$summar5","file","setFile","uploadStatus","setUploadStatus","isUploading","setIsUploading","uploadProgress","setUploadProgress","uploadResults","setUploadResults","showModal","setShowModal","selectedEmployee","setSelectedEmployee","validationErrors","setValidationErrors","previewData","setPreviewData","showPreview","setShowPreview","fileInputRef","handleFileSelect","event","selectedFile","target","files","type","reader","FileReader","onload","e","text","result","lines","split","slice","preview","map","line","index","columns","rowIndex","data","isHeader","readAsText","handleUpload","formData","FormData","append","response","post","headers","withCredentials","onUploadProgress","progressEvent","percentCompleted","Math","round","loaded","total","success","results","errors","error","_error$response","_error$response2","_error$response3","_error$response3$data","_error$response4","_error$response5","_error$response6","console","status","errorMessages","push","debug","message","resetUpload","current","value","viewEmployeeDetail","employee","getStatusBadge","bg","children","getResignStatusBadge","isEarlyResign","resignDate","className","variant","onClick","Header","style","backgroundColor","color","Body","md","Group","Label","Control","accept","onChange","ref","Text","disabled","now","animated","length","responsive","bordered","size","row","width","cell","cellIndex","maxWidth","summary","total_processed","successful","warnings","skipped","details","striped","hover","eid","original_eid","name","contract_info","current_type","total_contracts","early_resign","resign_date","division","division_created","warning","wIndex","logs","maxHeight","overflowY","log","timestamp","show","onHide","closeButton","Title","role","join_date","Footer"],"sources":["C:/xampp/htdocs/web_srk_BI/frontend/src/pages/UploadCSV.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { Card, Table, Button, Alert, ProgressBar, Badge, Modal, Row, Col, Form } from 'react-bootstrap';\nimport axios from 'axios';\n\nconst UploadCSV = () => {\n  const [file, setFile] = useState(null);\n  const [uploadStatus, setUploadStatus] = useState('');\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [uploadResults, setUploadResults] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [selectedEmployee, setSelectedEmployee] = useState(null);\n  const [validationErrors, setValidationErrors] = useState([]);\n  const [previewData, setPreviewData] = useState([]);\n  const [showPreview, setShowPreview] = useState(false);\n  const fileInputRef = useRef(null);\n\n  const handleFileSelect = (event) => {\n    const selectedFile = event.target.files[0];\n    if (selectedFile && selectedFile.type === 'text/csv') {\n      setFile(selectedFile);\n      setUploadStatus('');\n      setValidationErrors([]);\n      setUploadResults(null);\n      setShowPreview(false);\n      \n      // Preview first few rows\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        const text = e.target.result;\n        const lines = text.split('\\n').slice(0, 6); // Header + 5 data rows\n        const preview = lines.map((line, index) => {\n          const columns = line.split(';');\n          return {\n            rowIndex: index,\n            data: columns,\n            isHeader: index === 0\n          };\n        });\n        setPreviewData(preview);\n        setShowPreview(true);\n      };\n      reader.readAsText(selectedFile);\n    } else {\n      setUploadStatus('error');\n      setValidationErrors(['Please select a valid CSV file']);\n    }\n  };\n\n  const handleUpload = async () => {\n    if (!file) {\n      setUploadStatus('error');\n      setValidationErrors(['No file selected']);\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append('csv_file', file);\n\n    setIsUploading(true);\n    setUploadProgress(0);\n    setUploadStatus('uploading');\n\n    try {\n      const response = await axios.post(\n        'http://localhost/web_srk_BI/backend/api/csv_upload_endpoint.php',\n        formData,\n        {\n          headers: {\n            'Content-Type': 'multipart/form-data',\n          },\n          withCredentials: true,\n          onUploadProgress: (progressEvent) => {\n            const percentCompleted = Math.round(\n              (progressEvent.loaded * 100) / progressEvent.total\n            );\n            setUploadProgress(percentCompleted);\n          },\n        }\n      );\n\n      if (response.data.success) {\n        setUploadStatus('success');\n        setUploadResults(response.data.results);\n        setValidationErrors([]);\n      } else {\n        setUploadStatus('error');\n        setValidationErrors(response.data.errors || ['Upload failed']);\n        setUploadResults(null);\n      }\n    } catch (error) {\n      console.error('Upload error:', error);\n      console.error('Response status:', error.response?.status);\n      console.error('Response data:', error.response?.data);\n      \n      setUploadStatus('error');\n      \n      let errorMessages = [];\n      \n      if (error.response?.data?.error) {\n        errorMessages.push(error.response.data.error);\n        \n        // Add debug info if available\n        if (error.response.data.debug) {\n          errorMessages.push(`Debug: ${error.response.data.debug.file}:${error.response.data.debug.line}`);\n        }\n      } else if (error.response?.status === 401) {\n        errorMessages.push('Unauthorized - Please login again');\n      } else if (error.response?.status === 403) {\n        errorMessages.push('Forbidden - Only HR can upload CSV files');\n      } else if (error.response?.status === 500) {\n        errorMessages.push('Server error - Check server logs');\n      } else if (error.message === 'Network Error') {\n        errorMessages.push('Network error - Check if server is running');\n      } else {\n        errorMessages.push(error.message || 'Unknown error occurred');\n      }\n      \n      setValidationErrors(errorMessages);\n      setUploadResults(null);\n    } finally {\n      setIsUploading(false);\n      setUploadProgress(0);\n    }\n  };\n\n  const resetUpload = () => {\n    setFile(null);\n    setUploadStatus('');\n    setUploadResults(null);\n    setValidationErrors([]);\n    setPreviewData([]);\n    setShowPreview(false);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n\n  const viewEmployeeDetail = (employee) => {\n    setSelectedEmployee(employee);\n    setShowModal(true);\n  };\n\n  const getStatusBadge = (status) => {\n    switch (status) {\n      case 'success':\n        return <Badge bg=\"success\">✅ Berhasil</Badge>;\n      case 'warning':\n        return <Badge bg=\"warning\">⚠️ Warning</Badge>;\n      case 'error':\n        return <Badge bg=\"danger\">❌ Error</Badge>;\n      case 'skipped':\n        return <Badge bg=\"secondary\">⏭️ Dilewati</Badge>;\n      default:\n        return <Badge bg=\"light\">-</Badge>;\n    }\n  };\n\n  const getResignStatusBadge = (isEarlyResign, resignDate) => {\n    if (!resignDate) return <Badge bg=\"success\">Active</Badge>;\n    if (isEarlyResign) return <Badge bg=\"warning\">Early Resign</Badge>;\n    return <Badge bg=\"info\">Normal Resign</Badge>;\n  };\n\n  return (\n    <div className=\"container-fluid mt-4\">\n      <div className=\"d-flex justify-content-between align-items-center mb-4\">\n        <h2>📁 Upload Data Karyawan CSV</h2>\n        <Button variant=\"outline-secondary\" onClick={resetUpload}>\n          🔄 Reset\n        </Button>\n      </div>\n\n      {/* Upload Section */}\n      <Card className=\"mb-4\">\n        <Card.Header style={{ backgroundColor: '#007bff', color: 'white' }}>\n          <h5 className=\"mb-0\">📤 Upload File CSV</h5>\n        </Card.Header>\n        <Card.Body>\n          <Row>\n            <Col md={8}>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Pilih File CSV</Form.Label>\n                <Form.Control\n                  type=\"file\"\n                  accept=\".csv\"\n                  onChange={handleFileSelect}\n                  ref={fileInputRef}\n                />\n                <Form.Text className=\"text-muted\">\n                  Format: CSV dengan separator semicolon (;). Maksimal 50MB.\n                </Form.Text>\n              </Form.Group>\n            </Col>\n            <Col md={4} className=\"d-flex align-items-end\">\n              <Button\n                variant=\"primary\"\n                onClick={handleUpload}\n                disabled={!file || isUploading}\n                className=\"w-100\"\n              >\n                {isUploading ? '📡 Uploading...' : '📤 Upload CSV'}\n              </Button>\n            </Col>\n          </Row>\n\n          {/* Upload Progress */}\n          {isUploading && (\n            <div className=\"mt-3\">\n              <div className=\"d-flex justify-content-between mb-2\">\n                <span>Progress Upload:</span>\n                <span>{uploadProgress}%</span>\n              </div>\n              <ProgressBar now={uploadProgress} animated />\n            </div>\n          )}\n\n          {/* Status Messages */}\n          {uploadStatus === 'success' && (\n            <Alert variant=\"success\" className=\"mt-3\">\n              ✅ <strong>Upload berhasil!</strong> Data karyawan telah diproses.\n            </Alert>\n          )}\n\n          {uploadStatus === 'error' && (\n            <Alert variant=\"danger\" className=\"mt-3\">\n              ❌ <strong>Upload gagal!</strong>\n              <ul className=\"mb-0 mt-2\">\n                {validationErrors.map((error, index) => (\n                  <li key={index}>{error}</li>\n                ))}\n              </ul>\n            </Alert>\n          )}\n        </Card.Body>\n      </Card>\n\n      {/* CSV Preview */}\n      {showPreview && previewData.length > 0 && (\n        <Card className=\"mb-4\">\n          <Card.Header style={{ backgroundColor: '#28a745', color: 'white' }}>\n            <h5 className=\"mb-0\">👁️ Preview Data CSV</h5>\n          </Card.Header>\n          <Card.Body>\n            <Table responsive bordered size=\"sm\">\n              <tbody>\n                {previewData.map((row, index) => (\n                  <tr key={index} className={row.isHeader ? 'table-primary' : ''}>\n                    <td width=\"50px\">\n                      <strong>{row.isHeader ? 'Header' : `Row ${index}`}</strong>\n                    </td>\n                    {row.data.slice(0, 10).map((cell, cellIndex) => (\n                      <td key={cellIndex} className=\"text-truncate\" style={{ maxWidth: '150px' }}>\n                        {cell || '-'}\n                      </td>\n                    ))}\n                    {row.data.length > 10 && (\n                      <td className=\"text-muted\">... +{row.data.length - 10} kolom lagi</td>\n                    )}\n                  </tr>\n                ))}\n              </tbody>\n            </Table>\n          </Card.Body>\n        </Card>\n      )}\n\n      {/* Upload Results */}\n      {uploadResults && (\n        <Card>\n          <Card.Header style={{ backgroundColor: '#17a2b8', color: 'white' }}>\n            <h5 className=\"mb-0\">📊 Hasil Upload</h5>\n          </Card.Header>\n          <Card.Body>\n            {/* Summary Stats */}\n            <Row className=\"mb-4\">\n              <Col md={2}>\n                <div className=\"text-center\">\n                  <h4 className=\"text-primary\">{uploadResults.summary?.total_processed || 0}</h4>\n                  <small className=\"text-muted\">Total Diproses</small>\n                </div>\n              </Col>\n              <Col md={2}>\n                <div className=\"text-center\">\n                  <h4 className=\"text-success\">{uploadResults.summary?.successful || 0}</h4>\n                  <small className=\"text-muted\">Berhasil</small>\n                </div>\n              </Col>\n              <Col md={2}>\n                <div className=\"text-center\">\n                  <h4 className=\"text-warning\">{uploadResults.summary?.warnings || 0}</h4>\n                  <small className=\"text-muted\">Warning</small>\n                </div>\n              </Col>\n              <Col md={2}>\n                <div className=\"text-center\">\n                  <h4 className=\"text-danger\">{uploadResults.summary?.errors || 0}</h4>\n                  <small className=\"text-muted\">Error</small>\n                </div>\n              </Col>\n              <Col md={2}>\n                <div className=\"text-center\">\n                  <h4 className=\"text-secondary\">{uploadResults.summary?.skipped || 0}</h4>\n                  <small className=\"text-muted\">Dilewati</small>\n                </div>\n              </Col>\n            </Row>\n\n            {/* Detailed Results Table */}\n            {uploadResults.details && uploadResults.details.length > 0 && (\n              <Table responsive striped hover>\n                <thead style={{ backgroundColor: '#17a2b8', color: 'white' }}>\n                  <tr>\n                    <th>No</th>\n                    <th>EID</th>\n                    <th>Nama</th>\n                    <th>Status</th>\n                    <th>Kontrak</th>\n                    <th>Resign Status</th>\n                    <th>Divisi</th>\n                    <th>Pesan</th>\n                    <th>Action</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {uploadResults.details.map((result, index) => (\n                    <tr key={index}>\n                      <td>{index + 1}</td>\n                      <td>\n                        <strong>{result.eid || result.original_eid}</strong>\n                      </td>\n                      <td>{result.name}</td>\n                      <td>{getStatusBadge(result.status)}</td>\n                      <td>\n                        {result.contract_info && (\n                          <div>\n                            <Badge bg={result.contract_info.current_type === 'probation' ? 'warning' : 'info'}>\n                              {result.contract_info.current_type}\n                            </Badge>\n                            {result.contract_info.total_contracts && (\n                              <small className=\"d-block text-muted\">\n                                {result.contract_info.total_contracts} kontrak\n                              </small>\n                            )}\n                          </div>\n                        )}\n                      </td>\n                      <td>\n                        {getResignStatusBadge(result.early_resign, result.resign_date)}\n                      </td>\n                      <td>\n                        <div>{result.division}</div>\n                        {result.division_created && (\n                          <small className=\"text-success\">✨ Divisi baru</small>\n                        )}\n                      </td>\n                      <td>\n                        <small>{result.message}</small>\n                        {result.warnings && result.warnings.length > 0 && (\n                          <div>\n                            {result.warnings.map((warning, wIndex) => (\n                              <small key={wIndex} className=\"d-block text-warning\">\n                                ⚠️ {warning}\n                              </small>\n                            ))}\n                          </div>\n                        )}\n                      </td>\n                      <td>\n                        <Button\n                          size=\"sm\"\n                          variant=\"outline-primary\"\n                          onClick={() => viewEmployeeDetail(result)}\n                        >\n                          👁️ Detail\n                        </Button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </Table>\n            )}\n\n            {/* Processing Logs */}\n            {uploadResults.logs && uploadResults.logs.length > 0 && (\n              <div className=\"mt-4\">\n                <h6>📋 Log Pemrosesan</h6>\n                <div className=\"bg-light p-3 rounded\" style={{ maxHeight: '300px', overflowY: 'auto' }}>\n                  {uploadResults.logs.map((log, index) => (\n                    <div key={index} className=\"mb-1\">\n                      <small className={`text-${log.type === 'error' ? 'danger' : log.type === 'warning' ? 'warning' : 'muted'}`}>\n                        [{log.timestamp}] {log.message}\n                      </small>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </Card.Body>\n        </Card>\n      )}\n\n      {/* Employee Detail Modal */}\n      <Modal show={showModal} onHide={() => setShowModal(false)} size=\"lg\">\n        <Modal.Header closeButton>\n          <Modal.Title>👤 Detail Karyawan</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {selectedEmployee && (\n            <Row>\n              <Col md={6}>\n                <h6>📋 Informasi Dasar</h6>\n                <table className=\"table table-sm\">\n                  <tbody>\n                    <tr>\n                      <td><strong>EID:</strong></td>\n                      <td>{selectedEmployee.eid}</td>\n                    </tr>\n                    <tr>\n                      <td><strong>Nama:</strong></td>\n                      <td>{selectedEmployee.name}</td>\n                    </tr>\n                    <tr>\n                      <td><strong>Posisi:</strong></td>\n                      <td>{selectedEmployee.role}</td>\n                    </tr>\n                    <tr>\n                      <td><strong>Divisi:</strong></td>\n                      <td>{selectedEmployee.division}</td>\n                    </tr>\n                    <tr>\n                      <td><strong>Join Date:</strong></td>\n                      <td>{selectedEmployee.join_date}</td>\n                    </tr>\n                    <tr>\n                      <td><strong>Resign Date:</strong></td>\n                      <td>{selectedEmployee.resign_date || 'Active'}</td>\n                    </tr>\n                  </tbody>\n                </table>\n              </Col>\n              <Col md={6}>\n                <h6>📝 Detail Kontrak</h6>\n                {selectedEmployee.contract_info && (\n                  <div>\n                    <p><strong>Tipe Saat Ini:</strong> {selectedEmployee.contract_info.current_type}</p>\n                    <p><strong>Total Kontrak:</strong> {selectedEmployee.contract_info.total_contracts}</p>\n                    {selectedEmployee.early_resign && (\n                      <Alert variant=\"warning\" className=\"p-2\">\n                        ⚠️ <strong>Early Resign Detected</strong><br/>\n                        Karyawan resign sebelum kontrak berakhir\n                      </Alert>\n                    )}\n                  </div>\n                )}\n                \n                <h6 className=\"mt-3\">📊 Status Pemrosesan</h6>\n                <p><strong>Status:</strong> {getStatusBadge(selectedEmployee.status)}</p>\n                <p><strong>Pesan:</strong> {selectedEmployee.message}</p>\n              </Col>\n            </Row>\n          )}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={() => setShowModal(false)}>\n            Tutup\n          </Button>\n        </Modal.Footer>\n      </Modal>\n\n      {/* Instructions */}\n      <Card className=\"mt-4\">\n        <Card.Header style={{ backgroundColor: '#6f42c1', color: 'white' }}>\n          <h5 className=\"mb-0\">📋 Panduan Upload CSV</h5>\n        </Card.Header>\n        <Card.Body>\n          <Row>\n            <Col md={6}>\n              <h6>📊 Format CSV yang Diharapkan:</h6>\n              <ul>\n                <li>Separator: Semicolon (;)</li>\n                <li>Encoding: UTF-8</li>\n                <li>EID akan di-generate otomatis</li>\n                <li>Join Date = Probation Start</li>\n                <li>Probation End = Join Date + 3 bulan</li>\n                <li>Designation akan di-mapping ke Role</li>\n                <li>Major akan di-mapping ke Jurusan</li>\n              </ul>\n            </Col>\n            <Col md={6}>\n              <h6>🔍 Deteksi Otomatis:</h6>\n              <ul>\n                <li>Early Resign: Resign sebelum kontrak berakhir</li>\n                <li>Tipe Kontrak terakhir dari kolom CONTRACT EXPIRED</li>\n                <li>Auto-create Divisi jika belum ada</li>\n                <li>Validasi format Birth Date</li>\n                <li>Validasi format Email</li>\n                <li>Mapping Gender (Male/Female)</li>\n                <li>Filter otomatis: Graduate Development Program dilewati</li>\n              </ul>\n            </Col>\n          </Row>\n        </Card.Body>\n      </Card>\n    </div>\n  );\n};\n\nexport default UploadCSV; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}