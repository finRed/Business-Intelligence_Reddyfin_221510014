{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{Chart as ChartJS,CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend,ArcElement,PointElement,LineElement,Filler}from'chart.js';import{Bar,Doughnut}from'react-chartjs-2';import{useAuth}from'../App';import{Card,Container,Row,Col,Nav,Tab,Table,Badge,Button,Modal,Alert,Spinner,ProgressBar,Form}from'react-bootstrap';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,BarElement,PointElement,LineElement,Title,Tooltip,Legend,ArcElement,Filler);const ManagerDashboard=()=>{var _analytics$division_s,_analytics$division_s2,_analytics$division_s3,_analytics$division_s4,_analytics$division_s5,_analytics$division_s6,_analytics$division_s7,_analytics$division_s8,_analytics$division_s9,_analytics$division_s0,_analytics$division_s1,_analytics$division_s10,_analytics$division_s11,_analytics$employees,_employeeDetail$educa,_employeeDetail$dynam,_employeeDetail$dynam2,_employeeDetail$dynam5,_employeeDetail$dynam6,_employeeDetail$dynam7,_employeeDetail$dynam8,_employeeDetail$dynam9,_employeeDetail$dynam0,_employeeDetail$emplo3,_employeeDetail$emplo4,_employeeDetail$emplo5,_employeeDetail$emplo6,_employeeDetail$emplo7;const[analytics,setAnalytics]=useState(null);const[educationAnalysis,setEducationAnalysis]=useState(null);const[divisionIntelligence,setDivisionIntelligence]=useState(null);const[loading,setLoading]=useState(true);const[activeTab,setActiveTab]=useState('overview');const{user}=useAuth();const[showEmployeeModal,setShowEmployeeModal]=useState(false);const[selectedEmployee,setSelectedEmployee]=useState(null);const[employeeDetail,setEmployeeDetail]=useState(null);const[loadingDetail,setLoadingDetail]=useState(false);const[recommendationData,setRecommendationData]=useState({recommendation_type:'extend',recommended_duration:'',reason:''});const[alert,setAlert]=useState({show:false,message:'',type:''});const[processedRecommendations,setProcessedRecommendations]=useState([]);useEffect(()=>{if((user===null||user===void 0?void 0:user.role)==='manager'){fetchManagerData();fetchProcessedRecommendations();// Auto refresh processed recommendations every 30 seconds\nconst interval=setInterval(()=>{fetchProcessedRecommendations();},30000);return()=>clearInterval(interval);}else if((user===null||user===void 0?void 0:user.role)==='hr'){showAlert('HR tidak dapat membuat rekomendasi. Hanya manager yang dapat membuat rekomendasi karyawan.','warning');}},[user]);// Update recommendation form when employee detail is loaded\nuseEffect(()=>{if(employeeDetail&&employeeDetail.dynamic_intelligence&&selectedEmployee){const intelligence=employeeDetail.dynamic_intelligence;const duration=intelligence.optimal_duration;const category=intelligence.match_category;// PROPER FORM DEFAULTS based on dynamic intelligence\nlet defaultType='kontrak2';let defaultDuration=duration||6;// Check for Non-IT major elimination first\nconst nonItMajors=['kedokteran','farmasi','hukum','akuntansi','manajemen','ekonomi','psikologi','bahasa','sastra','pendidikan','sejarah','geografi','biologi','kimia','fisika','matematika','pertanian','kehutanan','perikanan','kedokteran hewan','arsitektur','sipil','mesin','elektro','industri','teknik','seni','desain','komunikasi','jurnalistik','sosiologi','antropologi','ilmu politik','hubungan internasional','administrasi','keperawatan','kebidanan','gizi','kesehatan masyarakat','olahraga','keolahragaan'];const employeeMajor=selectedEmployee.major?selectedEmployee.major.toLowerCase().trim():'';const isNonIT=nonItMajors.some(nonItMajor=>employeeMajor.includes(nonItMajor));if(isNonIT){// Automatic elimination for Non-IT majors\ndefaultType='terminate';defaultDuration=0;}// Untuk MATCH employees, ikuti dynamic intelligence\nelse if(selectedEmployee.education_job_match==='Match'){if(category==='Siap Permanent'||duration===0){defaultType='permanent';defaultDuration=0;}else if(category==='Berpotensi Kontrak 3'||duration>=18){defaultType='kontrak3';defaultDuration=duration||18;}else if(category==='Berpotensi Kontrak 2'||duration>=6){defaultType='kontrak2';defaultDuration=duration||12;}else{defaultType='kontrak2';defaultDuration=6;}}// UNMATCH employees - POLICY: Tetap evaluasi kontrak, tidak langsung permanent\nelse if(selectedEmployee.education_job_match==='Unmatch'){// UNMATCH - determine evaluation contract based on current contract\n// KONSISTEN dengan getRecommendationStatusBadge di tabel\nif(selectedEmployee.current_contract_type==='probation'){defaultType='kontrak2';defaultDuration=6;}else if(selectedEmployee.current_contract_type==='1'){defaultType='kontrak2';defaultDuration=6;}else if(selectedEmployee.current_contract_type==='2'){defaultType='kontrak3';defaultDuration=6;}else if(selectedEmployee.current_contract_type==='3'){// POLICY: Kontrak 3 unmatch tetap evaluasi kontrak 3, tidak langsung permanent\n// Meskipun dynamic intelligence suggest permanent, kita tetap konservatif\n// untuk unmatch employees karena tingginya risk resign\ndefaultType='kontrak3';defaultDuration=6;}else{defaultType='kontrak2';defaultDuration=6;}}// Special handling untuk reasoning text - kosong sesuai permintaan user\nlet reasonPrefix='';setRecommendationData({eid:selectedEmployee.eid,employee_name:selectedEmployee.name,recommendation_type:defaultType,recommended_duration:defaultDuration,reason:''});}},[employeeDetail,selectedEmployee]);const fetchManagerData=async()=>{try{setLoading(true);// Use the session-based endpoint that filters by manager's division\nconst timestamp=new Date().getTime();const analyticsRes=await axios.get(`http://localhost/web_srk_BI/backend/manager_analytics_by_division.php?t=${timestamp}`,{withCredentials:true});console.log('ðŸ”¥ NEW API Response:',analyticsRes.data);if(analyticsRes.data.success){setAnalytics(analyticsRes.data.data);console.log('âœ… Analytics data set:',analyticsRes.data.data);// Use the same analytics data for education analysis\nif(analyticsRes.data.data.employees){const employees=analyticsRes.data.data.employees;const matchDistribution={'Match':employees.filter(emp=>emp.education_job_match==='Match').length,'Unmatch':employees.filter(emp=>emp.education_job_match==='Unmatch').length};setEducationAnalysis({education_analysis:employees,match_distribution:matchDistribution,contract_progression:employees.filter(emp=>emp.contract_status==='Ready for Review'||emp.tenure_months>=3).map(emp=>{var _emp$data_mining_reco;return{name:emp.name,status:emp.contract_status,recommendation:((_emp$data_mining_reco=emp.data_mining_recommendation)===null||_emp$data_mining_reco===void 0?void 0:_emp$data_mining_reco.reason)||'Standard review'};})});setDivisionIntelligence({performance_predictions:employees.map(emp=>({name:emp.name,success_probability:emp.success_probability,risk_level:emp.risk_level,contract_recommendation:emp.data_mining_recommendation})),urgent_contract_decisions:employees.filter(emp=>{var _emp$data_mining_reco2;return((_emp$data_mining_reco2=emp.data_mining_recommendation)===null||_emp$data_mining_reco2===void 0?void 0:_emp$data_mining_reco2.risk_level)==='High'||emp.contract_status==='Ready for Review';})});}}}catch(error){console.error('Error fetching manager data:',error);}finally{setLoading(false);}};const fetchProcessedRecommendations=async()=>{try{const response=await axios.get('http://localhost/web_srk_BI/backend/api/recommendations.php?action=processed',{withCredentials:true});if(response.data.success){setProcessedRecommendations(response.data.data);console.log('âœ… Processed recommendations loaded:',response.data.data);// Debug: Check for resign status\nconst resignRecs=response.data.data.filter(rec=>rec.status==='resign');if(resignRecs.length>0){console.log('ðŸ” Found resign recommendations:',resignRecs);}}else{console.error('Failed to fetch processed recommendations:',response.data.error);}}catch(error){console.error('Error fetching processed recommendations:',error);}};const fetchEmployeeDetail=async eid=>{setLoadingDetail(true);try{console.log('Fetching employee detail for eid:',eid);const response=await fetch(`http://localhost/web_srk_BI/backend/api/employees.php?action=employee_data_mining_detail&eid=${eid}`,{credentials:'include',headers:{'Content-Type':'application/json'}});console.log('Response status:',response.status);console.log('Response OK:',response.ok);if(!response.ok){throw new Error(`HTTP error! status: ${response.status}`);}const responseText=await response.text();console.log('Raw response text (first 200 chars):',responseText.substring(0,200));let result;try{result=JSON.parse(responseText);}catch(jsonError){console.error('JSON Parse Error:',jsonError);console.log('Full response text:',responseText);throw new Error('Server returned invalid JSON. Check browser console for details.');}console.log('Employee detail API Response:',result);if(result.success){setEmployeeDetail(result.data);console.log('Employee detail loaded successfully');return result.data;// Return the data for await\n}else{console.error('API Error:',result.error);setEmployeeDetail(null);throw new Error(result.error||'Failed to load employee data');}}catch(error){console.error('Network/Parse error:',error);setEmployeeDetail(null);throw error;// Re-throw for handleEmployeeClick to catch\n}finally{setLoadingDetail(false);}};const handleEmployeeClick=async employee=>{console.log('ðŸ” handleEmployeeClick called for:',employee.name,'EID:',employee.eid);setSelectedEmployee(employee);setLoadingDetail(true);// Always show the modal first (will show loading state)\nsetShowEmployeeModal(true);// Fetch fresh employee detail data\ntry{var _employeeData$employe,_employeeData$dynamic,_employeeData$dynamic2;console.log('â³ Fetching employee detail...');const employeeData=await fetchEmployeeDetail(employee.eid);console.log('âœ… Employee data loaded, setting state');console.log('   - Employee Contract Type:',employeeData===null||employeeData===void 0?void 0:(_employeeData$employe=employeeData.employee)===null||_employeeData$employe===void 0?void 0:_employeeData$employe.current_contract_type);console.log('   - Dynamic Intelligence:',employeeData===null||employeeData===void 0?void 0:employeeData.dynamic_intelligence);console.log('   - Match Category:',employeeData===null||employeeData===void 0?void 0:(_employeeData$dynamic=employeeData.dynamic_intelligence)===null||_employeeData$dynamic===void 0?void 0:_employeeData$dynamic.match_category);console.log('   - Optimal Duration:',employeeData===null||employeeData===void 0?void 0:(_employeeData$dynamic2=employeeData.dynamic_intelligence)===null||_employeeData$dynamic2===void 0?void 0:_employeeData$dynamic2.optimal_duration);// Set the employee detail state\nsetEmployeeDetail(employeeData);setLoadingDetail(false);}catch(error){console.error('âŒ Failed to fetch employee detail:',error);setLoadingDetail(false);// Don't close modal, show error in modal instead\nsetEmployeeDetail({error:true,errorMessage:error.message,employee:{name:employee.name,eid:employee.eid,current_contract_type:employee.current_contract_type}});}// Initialize recommendation data based on employee status - will be updated with dynamic intelligence later\nconst defaultType=employee.education_job_match==='Unmatch'?'kontrak2':'kontrak2';setRecommendationData({eid:employee.eid,employee_name:employee.name,recommendation_type:defaultType,recommended_duration:6,reason:'Rekomendasi akan diupdate berdasarkan dynamic intelligence analysis...'});};const handleCreateRecommendation=async employee=>{console.log('ðŸ”§ handleCreateRecommendation called for:',employee.name,'Contract:',employee.current_contract_type);// Call the same function as handleEmployeeClick to open detail modal with form\nawait handleEmployeeClick(employee);};const submitRecommendation=async()=>{try{var _employeeDetail$emplo,_employeeDetail$emplo2;// Enhanced validation with fallback\nconst employeeEid=(employeeDetail===null||employeeDetail===void 0?void 0:(_employeeDetail$emplo=employeeDetail.employee)===null||_employeeDetail$emplo===void 0?void 0:_employeeDetail$emplo.eid)||(selectedEmployee===null||selectedEmployee===void 0?void 0:selectedEmployee.eid);const employeeName=(employeeDetail===null||employeeDetail===void 0?void 0:(_employeeDetail$emplo2=employeeDetail.employee)===null||_employeeDetail$emplo2===void 0?void 0:_employeeDetail$emplo2.name)||(selectedEmployee===null||selectedEmployee===void 0?void 0:selectedEmployee.name);if(!employeeEid){showAlert('Data karyawan tidak lengkap. Silakan muat ulang halaman.','danger');console.error('Employee EID not found. Employee detail:',employeeDetail,'Selected employee:',selectedEmployee);return;}if(!recommendationData.recommendation_type){showAlert('Pilih jenis rekomendasi terlebih dahulu','warning');return;}// Validasi reason dihapus - reason boleh kosong sesuai permintaan user\n// Validate duration for contracts that require it\nif(['kontrak2','kontrak3'].includes(recommendationData.recommendation_type)&&(!recommendationData.recommended_duration||recommendationData.recommended_duration==='0')){showAlert('Durasi kontrak harus diisi untuk jenis kontrak yang dipilih','warning');return;}// Show loading state\nshowAlert('Sedang mengirim rekomendasi...','info');const formData=new FormData();formData.append('action','create');formData.append('eid',employeeEid);formData.append('recommendation_type',recommendationData.recommendation_type);formData.append('recommended_duration',recommendationData.recommended_duration||'0');formData.append('reason',recommendationData.reason||'');// Enhanced system recommendation with dynamic intelligence\nconst systemRec=employeeDetail!==null&&employeeDetail!==void 0&&employeeDetail.dynamic_intelligence?`Rekomendasi sistem: ${employeeDetail.dynamic_intelligence.match_category||'Analysis'} (${employeeDetail.dynamic_intelligence.optimal_duration||'N/A'} bulan), Confidence: ${employeeDetail.dynamic_intelligence.confidence_level||'Medium'}, Sample Size: ${employeeDetail.dynamic_intelligence.sample_size||0}`:`Rekomendasi sistem: ${recommendationData.recommendation_type} kontrak ${recommendationData.recommended_duration||'N/A'} bulan berdasarkan analisis data mining`;formData.append('system_recommendation',systemRec);console.log('=== SENDING RECOMMENDATION ===');console.log('Employee EID:',employeeEid);console.log('Employee Name:',employeeName);console.log('Recommendation Type:',recommendationData.recommendation_type);console.log('Recommended Duration:',recommendationData.recommended_duration);console.log('Reason:',recommendationData.reason);console.log('FormData contents:');for(let[key,value]of formData.entries()){console.log(`  ${key}: ${value}`);}console.log('Employee detail structure:',employeeDetail);console.log('Selected employee:',selectedEmployee);const response=await axios.post('http://localhost/web_srk_BI/backend/api/recommendations.php',formData,{withCredentials:true,headers:{'Content-Type':'multipart/form-data'},timeout:30000// 30 second timeout\n});console.log('=== RESPONSE RECEIVED ===');console.log('Response status:',response.status);console.log('Response data:',response.data);if(response.data.success){showAlert('Rekomendasi berhasil dibuat dan dikirim ke HR','success');setShowEmployeeModal(false);// Reset form\nsetRecommendationData({recommendation_type:'',recommended_duration:'',reason:''});// Refresh data after creating recommendation\nfetchManagerData();fetchProcessedRecommendations();}else{console.error('Server error response:',response.data);showAlert(response.data.error||'Gagal membuat rekomendasi','danger');}}catch(error){console.error('Error creating recommendation:',error);// Enhanced error handling\nif(error.response){var _error$response$data,_error$response$data2;// Server responded with error status\nconsole.error('Server error response:',error.response.data);console.error('Server error status:',error.response.status);const errorMsg=((_error$response$data=error.response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||((_error$response$data2=error.response.data)===null||_error$response$data2===void 0?void 0:_error$response$data2.message)||'Server error';showAlert(`Gagal membuat rekomendasi: ${errorMsg}`,'danger');}else if(error.request){// Request was made but no response received\nconsole.error('Network error - no response received:',error.request);showAlert('Tidak dapat terhubung ke server. Periksa koneksi internet Anda.','danger');}else{// Something happened in setting up the request\nconsole.error('Request setup error:',error.message);showAlert('Terjadi kesalahan saat mengirim rekomendasi. Silakan coba lagi.','danger');}}};const showAlert=(message,type)=>{setAlert({show:true,message,type});setTimeout(()=>setAlert({show:false,message:'',type:''}),5000);};const getMatchDistributionChart=()=>{if(!(educationAnalysis!==null&&educationAnalysis!==void 0&&educationAnalysis.match_distribution)){return{labels:['Match','Unmatch'],datasets:[{label:'Distribusi Kecocokan',data:[0,0],backgroundColor:['#28a745','#dc3545'],borderWidth:1}]};}const data=educationAnalysis.match_distribution;return{labels:['Match','Unmatch'],datasets:[{label:'Distribusi Kecocokan',data:[data.Match||0,data.Unmatch||0],backgroundColor:['#28a745','#dc3545'],borderWidth:1}]};};const getRiskLevelChart=()=>{if(!(analytics!==null&&analytics!==void 0&&analytics.employees)||analytics.employees.length===0){return{labels:['Low Risk','Medium Risk','High Risk'],datasets:[{label:'Distribusi Risk Level',data:[0,0,0],backgroundColor:['#28a745','#ffc107','#dc3545'],borderWidth:1}]};}const employees=analytics.employees;const lowRisk=employees.filter(emp=>{var _emp$data_mining_reco3;return((_emp$data_mining_reco3=emp.data_mining_recommendation)===null||_emp$data_mining_reco3===void 0?void 0:_emp$data_mining_reco3.risk_level)==='Low';}).length;const mediumRisk=employees.filter(emp=>{var _emp$data_mining_reco4;return((_emp$data_mining_reco4=emp.data_mining_recommendation)===null||_emp$data_mining_reco4===void 0?void 0:_emp$data_mining_reco4.risk_level)==='Medium';}).length;const highRisk=employees.filter(emp=>{var _emp$data_mining_reco5;return((_emp$data_mining_reco5=emp.data_mining_recommendation)===null||_emp$data_mining_reco5===void 0?void 0:_emp$data_mining_reco5.risk_level)==='High';}).length;return{labels:['Low Risk','Medium Risk','High Risk'],datasets:[{label:'Distribusi Risk Level',data:[lowRisk,mediumRisk,highRisk],backgroundColor:['#28a745','#ffc107','#dc3545'],borderWidth:1}]};};const getContractRecommendationChart=()=>{if(!(analytics!==null&&analytics!==void 0&&analytics.employees)||analytics.employees.length===0){return{labels:['6 bulan','12 bulan','18 bulan','24 bulan','36 bulan'],datasets:[{label:'Jumlah Rekomendasi',data:[0,0,0,0,0],backgroundColor:'rgba(0, 123, 255, 0.8)',borderColor:'#007bff',borderWidth:2}]};}const employees=analytics.employees;const duration6=employees.filter(emp=>{var _emp$data_mining_reco6;return((_emp$data_mining_reco6=emp.data_mining_recommendation)===null||_emp$data_mining_reco6===void 0?void 0:_emp$data_mining_reco6.recommended_duration)===6;}).length;const duration12=employees.filter(emp=>{var _emp$data_mining_reco7;return((_emp$data_mining_reco7=emp.data_mining_recommendation)===null||_emp$data_mining_reco7===void 0?void 0:_emp$data_mining_reco7.recommended_duration)===12;}).length;const duration18=employees.filter(emp=>{var _emp$data_mining_reco8;return((_emp$data_mining_reco8=emp.data_mining_recommendation)===null||_emp$data_mining_reco8===void 0?void 0:_emp$data_mining_reco8.recommended_duration)===18;}).length;const duration24=employees.filter(emp=>{var _emp$data_mining_reco9;return((_emp$data_mining_reco9=emp.data_mining_recommendation)===null||_emp$data_mining_reco9===void 0?void 0:_emp$data_mining_reco9.recommended_duration)===24;}).length;const duration36=employees.filter(emp=>{var _emp$data_mining_reco0;return((_emp$data_mining_reco0=emp.data_mining_recommendation)===null||_emp$data_mining_reco0===void 0?void 0:_emp$data_mining_reco0.recommended_duration)===36;}).length;return{labels:['6 bulan','12 bulan','18 bulan','24 bulan','36 bulan'],datasets:[{label:'Jumlah Rekomendasi',data:[duration6,duration12,duration18,duration24,duration36],backgroundColor:'rgba(0, 123, 255, 0.8)',borderColor:'#007bff',borderWidth:2}]};};// Fungsi untuk mendapatkan rekomendasi kontrak berdasarkan data mining\nconst getDataMiningRecommendation=employee=>{// Gunakan data mining recommendation dari backend\nif(employee.data_mining_recommendation){return{type:'data_mining',duration:`${employee.data_mining_recommendation.recommended_duration} bulan`,risk_level:employee.data_mining_recommendation.risk_level,confidence:employee.data_mining_recommendation.confidence_level,reasoning:employee.data_mining_recommendation.reasoning||[]};}// Fallback untuk backward compatibility\nconst matchStatus=employee.education_job_match||'Unmatch';const tenure=employee.tenure_months||0;const currentContract=employee.current_contract_type;if(currentContract==='probation'&&tenure>=3){if(matchStatus==='Match'){return{type:'permanent',reason:'Good education-job match',duration:'Permanent',confidence:'High'};}else{return{type:'review',reason:'No education-job match, need performance evaluation',duration:'Review diperlukan',confidence:'Low'};}}if(tenure>=12&&currentContract!=='permanent'){return{type:'extension',reason:'Long tenure with good performance',duration:'Extension recommended',confidence:'High'};}return{type:'monitor',reason:'Continue monitoring',duration:'Monitoring berkelanjutan',confidence:'Medium'};};// Fungsi untuk mendapatkan status match dengan warna\n// Function to calculate match status locally (same logic as detail modal)\nconst calculateMatchStatusLocal=employee=>{const major=(employee.major||'').toUpperCase();const role=(employee.role||'').toUpperCase();const designation=(employee.designation||'').toUpperCase();// IT Education Keywords\nconst itEducationKeywords=['INFORMATION TECHNOLOGY','TEKNIK INFORMATIKA','ILMU KOMPUTER','SISTEM INFORMASI','COMPUTER SCIENCE','SOFTWARE ENGINEERING','INFORMATIKA','TEKNIK KOMPUTER','KOMPUTER','TEKNOLOGI INFORMASI','INFORMATION SYSTEM','INFORMATICS ENGINEERING','INFORMATIC ENGINEERING','COMPUTER ENGINEERING','INFORMATION MANAGEMENT','INFORMATICS MANAGEMENT','MANAGEMENT INFORMATIKA','SISTEM KOMPUTER','KOMPUTERISASI AKUNTANASI','COMPUTERIZED ACCOUNTING','COMPUTATIONAL SCIENCE','INFORMATICS','INFORMATICS TECHNOLOGY','COMPUTER AND INFORMATICS ENGINEERING','ENGINEERING INFORMATIC','INDUSTRIAL ENGINEERING_INFORMATIC'];// IT Job Keywords\nconst itJobKeywords=['DEVELOPER','PROGRAMMER','SOFTWARE','TECHNICAL','FRONTEND','BACKEND','FULLSTACK','FULL STACK','JAVA','NET','.NET','API','ETL','MOBILE','ANDROID','WEB','UI/UX','FRONT END','BACK END','PEGA','RPA','ANALYST','BUSINESS ANALYST','SYSTEM ANALYST','DATA ANALYST','DATA SCIENTIST','QUALITY ASSURANCE','QA','TESTER','TEST ENGINEER','CONSULTANT','IT CONSULTANT','TECHNOLOGY CONSULTANT','TECHNICAL CONSULTANT','PRODUCT OWNER','SCRUM MASTER','PMO','IT OPERATION','DEVOPS','SYSTEM ADMINISTRATOR','DATABASE ADMINISTRATOR','NETWORK','IT QUALITY ASSURANCE','TESTING ENGINEER','TESTER SUPPORT','JR TESTER','IT TESTER','TESTING SPECIALIST','TESTING COORDINATOR','QUALITY TESTER','JR QUALITY ASSURANCE','QUALITY ASSURANCE TESTER','TESTING ENGINEER SPECIALIST','APPRENTICE TESTER','JR TESTER LEVEL 1','LEAD QA','LEAD BACKEND DEVELOPER'];// Check IT Education\nconst isItEducation=itEducationKeywords.some(keyword=>major.includes(keyword));// Check IT Job (check both role and designation)\nconst isItJob=itJobKeywords.some(keyword=>role.includes(keyword)||designation.includes(keyword));return isItEducation&&isItJob?'Match':'Unmatch';};const getMatchLevelBadge=employee=>{// Use local calculation instead of backend data to ensure consistency\nconst matchStatus=calculateMatchStatusLocal(employee);if(matchStatus==='Match')return/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:\"Match\"});return/*#__PURE__*/_jsx(Badge,{bg:\"danger\",children:\"Unmatch\"});};const getRiskLevelBadge=riskLevel=>{if(riskLevel==='Low')return/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:\"Risiko Rendah\"});if(riskLevel==='Medium')return/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:\"Risiko Sedang\"});return/*#__PURE__*/_jsx(Badge,{bg:\"danger\",children:\"Risiko Tinggi\"});};const getContractStatusBadge=(contractType,tenure)=>{const badges={'probation':{variant:'warning',text:'Probation'},'1':{variant:'info',text:'Kontrak 1'},'2':{variant:'primary',text:'Kontrak 2'},'3':{variant:'secondary',text:'Kontrak 3'},'permanent':{variant:'success',text:'Permanent'},null:{variant:'light',text:'N/A'}};const badge=badges[contractType]||badges[null];if(contractType==='probation'&&tenure>=3){return/*#__PURE__*/_jsx(Badge,{bg:\"warning\",className:\"border border-danger\",children:\"Probation (Ready for Review)\"});}return/*#__PURE__*/_jsx(Badge,{bg:badge.variant,children:badge.text});};const getRecommendationStatusBadge=employee=>{if(employee.current_contract_type==='permanent'){return/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:\"-\"});}// Check for Non-IT major elimination\nconst nonItMajors=['kedokteran','farmasi','hukum','akuntansi','manajemen','ekonomi','psikologi','bahasa','sastra','pendidikan','sejarah','geografi','biologi','kimia','fisika','matematika','pertanian','kehutanan','perikanan','kedokteran hewan','arsitektur','sipil','mesin','elektro','industri','teknik','seni','desain','komunikasi','jurnalistik','sosiologi','antropologi','ilmu politik','hubungan internasional','administrasi','keperawatan','kebidanan','gizi','kesehatan masyarakat','olahraga','keolahragaan'];const employeeMajor=employee.major?employee.major.toLowerCase().trim():'';const isNonIT=nonItMajors.some(nonItMajor=>employeeMajor.includes(nonItMajor));if(isNonIT){return/*#__PURE__*/_jsx(Badge,{bg:\"danger\",children:\"TIDAK DIREKOMENDASIKAN\"});}else if(employee.education_job_match==='Unmatch'){// POLICY: Unmatch employees tetap evaluasi kontrak, tidak langsung permanent\n// meskipun dynamic intelligence mengatakan \"Siap Permanent\"\n// Ini untuk memitigasi risk tingginya resign rate pada unmatch employees\n// Tentukan jenis kontrak evaluasi berdasarkan kontrak saat ini\nlet contractType='';switch(employee.current_contract_type){case'probation':contractType='Kontrak 2 (Evaluasi)';break;case'1':contractType='Kontrak 2 (Evaluasi)';break;case'2':contractType='Kontrak 3 (Evaluasi)';break;case'3':contractType='Kontrak 3 (Evaluasi)';break;default:contractType='Probation (Evaluasi)';break;}return/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:contractType});}else{// Match - show contract type recommendation, not duration\nconst existingRecommendation=processedRecommendations.find(rec=>rec.employee_id===employee.eid);if(existingRecommendation&&existingRecommendation.recommendation_type){// Convert recommendation type to display format\nswitch(existingRecommendation.recommendation_type){case'permanent':return/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:\"PERMANENT\"});case'kontrak2':return/*#__PURE__*/_jsx(Badge,{bg:\"info\",children:\"Kontrak 2\"});case'kontrak3':return/*#__PURE__*/_jsx(Badge,{bg:\"primary\",children:\"Kontrak 3\"});case'terminate':return/*#__PURE__*/_jsx(Badge,{bg:\"danger\",children:\"Tidak Diperpanjang\"});default:return/*#__PURE__*/_jsxs(Badge,{bg:\"secondary\",children:[\"Kontrak \",existingRecommendation.recommendation_type]});}}else{var _employee$data_mining;// Use Data Intelligence dari backend to determine contract type\nconst duration=(_employee$data_mining=employee.data_mining_recommendation)===null||_employee$data_mining===void 0?void 0:_employee$data_mining.recommended_duration;// Untuk Kontrak 3, duration 0 berarti Permanent\nif((employee.current_contract_type==='3'||employee.current_contract_type==='kontrak3')&&duration===0){return/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:\"PERMANENT\"});}// Determine contract type based on current contract progression\nelse if(employee.current_contract_type==='probation'){return/*#__PURE__*/_jsx(Badge,{bg:\"info\",children:\"Kontrak 2\"});}else if(employee.current_contract_type==='1'||employee.current_contract_type==='2'){return/*#__PURE__*/_jsx(Badge,{bg:\"primary\",children:\"Kontrak 3\"});}else if(employee.current_contract_type==='3'){return/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:\"PERMANENT\"});}else{return/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:\"Kontrak 2\"});}}}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2\",children:\"Memuat data intelligence...\"})]})});}return/*#__PURE__*/_jsxs(Container,{fluid:true,className:\"mt-3\",children:[alert.show&&/*#__PURE__*/_jsx(Alert,{variant:alert.type,dismissible:true,onClose:()=>setAlert({show:false,message:'',type:''}),children:alert.message}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-4 rounded\",style:{background:'linear-gradient(135deg, #007bff 0%, #0056b3 100%)',color:'white'},children:/*#__PURE__*/_jsxs(Row,{className:\"align-items-center\",children:[/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Manager Dashboard\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0\",children:[\"Manager Divisi \",user.division_name]}),/*#__PURE__*/_jsx(\"small\",{children:\"Analisis Kecocokan Pendidikan & Rekomendasi Kontrak\"})]}),/*#__PURE__*/_jsx(Col,{xs:\"auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-end\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-0\",children:(analytics===null||analytics===void 0?void 0:(_analytics$division_s=analytics.division_stats)===null||_analytics$division_s===void 0?void 0:_analytics$division_s.total_employees)||0}),/*#__PURE__*/_jsx(\"small\",{children:\"Karyawan Aktif\"})]})})]})}),/*#__PURE__*/_jsxs(Tab.Container,{activeKey:activeTab,onSelect:setActiveTab,children:[/*#__PURE__*/_jsxs(Nav,{variant:\"tabs\",className:\"mb-4\",children:[/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(Nav.Link,{eventKey:\"overview\",style:{color:activeTab==='overview'?'#fff':'#007bff',backgroundColor:activeTab==='overview'?'#007bff':'transparent',borderColor:'#007bff'},children:\"Overview\"})}),/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(Nav.Link,{eventKey:\"education\",style:{color:activeTab==='education'?'#fff':'#007bff',backgroundColor:activeTab==='education'?'#007bff':'transparent',borderColor:'#007bff'},children:\"Analisis Pendidikan\"})}),/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(Nav.Link,{eventKey:\"employees\",style:{color:activeTab==='employees'?'#fff':'#007bff',backgroundColor:activeTab==='employees'?'#007bff':'transparent',borderColor:'#007bff'},children:\"Detail Karyawan\"})}),/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsxs(Nav.Link,{eventKey:\"processed\",style:{color:activeTab==='processed'?'#fff':'#007bff',backgroundColor:activeTab==='processed'?'#007bff':'transparent',borderColor:'#007bff'},children:[\"Rekomendasi Diproses (\",processedRecommendations.length,\")\"]})})]}),/*#__PURE__*/_jsxs(Tab.Content,{children:[/*#__PURE__*/_jsxs(Tab.Pane,{eventKey:\"overview\",children:[/*#__PURE__*/_jsxs(Row,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Col,{md:4,className:\"mb-3\",children:/*#__PURE__*/_jsx(Card,{className:\"h-100\",style:{background:'linear-gradient(135deg, #28a745 0%, #1e7e34 100%)',color:'white'},children:/*#__PURE__*/_jsxs(Card.Body,{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{children:(analytics===null||analytics===void 0?void 0:(_analytics$division_s2=analytics.division_stats)===null||_analytics$division_s2===void 0?void 0:(_analytics$division_s3=_analytics$division_s2.data_mining_summary)===null||_analytics$division_s3===void 0?void 0:_analytics$division_s3.match_employees)||0}),/*#__PURE__*/_jsx(\"small\",{children:\"Match Employees\"})]})})}),/*#__PURE__*/_jsx(Col,{md:4,className:\"mb-3\",children:/*#__PURE__*/_jsx(Card,{className:\"h-100\",style:{background:'linear-gradient(135deg, #ffc107 0%, #e0a800 100%)',color:'white'},children:/*#__PURE__*/_jsxs(Card.Body,{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{children:(analytics===null||analytics===void 0?void 0:(_analytics$division_s4=analytics.division_stats)===null||_analytics$division_s4===void 0?void 0:(_analytics$division_s5=_analytics$division_s4.data_mining_summary)===null||_analytics$division_s5===void 0?void 0:_analytics$division_s5.recommended_extensions)||0}),/*#__PURE__*/_jsx(\"small\",{children:\"Rekomendasi Perpanjangan\"})]})})}),/*#__PURE__*/_jsx(Col,{md:4,className:\"mb-3\",children:/*#__PURE__*/_jsx(Card,{className:\"h-100\",style:{background:'linear-gradient(135deg, #dc3545 0%, #c82333 100%)',color:'white'},children:/*#__PURE__*/_jsxs(Card.Body,{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{children:(analytics===null||analytics===void 0?void 0:(_analytics$division_s6=analytics.division_stats)===null||_analytics$division_s6===void 0?void 0:(_analytics$division_s7=_analytics$division_s6.data_mining_summary)===null||_analytics$division_s7===void 0?void 0:_analytics$division_s7.high_risk_employees)||0}),/*#__PURE__*/_jsx(\"small\",{children:\"High Risk Employees\"})]})})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{style:{backgroundColor:'#007bff',color:'white'},children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"\\uD83D\\uDCCA Distribusi Tingkat Risiko\"})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsx(Doughnut,{data:getRiskLevelChart(),options:{responsive:true,plugins:{legend:{position:'bottom'}}}})})]})}),/*#__PURE__*/_jsx(Col,{md:6,className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{style:{backgroundColor:'#007bff',color:'white'},children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"\\uD83D\\uDCC8 Rekomendasi Durasi Kontrak\"})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsx(Bar,{data:getContractRecommendationChart(),options:{responsive:true,plugins:{legend:{display:false}},scales:{y:{beginAtZero:true}}}})})]})})]}),/*#__PURE__*/_jsxs(Card,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Card.Header,{style:{backgroundColor:'#007bff',color:'white'},children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"\\uD83E\\uDDE0 Contract Intelligence Summary\"})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 border rounded\",style:{backgroundColor:'#e3f2fd'},children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-primary\",children:(analytics===null||analytics===void 0?void 0:(_analytics$division_s8=analytics.division_stats)===null||_analytics$division_s8===void 0?void 0:(_analytics$division_s9=_analytics$division_s8.contract_summary)===null||_analytics$division_s9===void 0?void 0:_analytics$division_s9.probation_ready)||0}),/*#__PURE__*/_jsx(\"small\",{children:\"Probation Ready for Review\"})]})}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 border rounded\",style:{backgroundColor:'#fff3e0'},children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-warning\",children:(analytics===null||analytics===void 0?void 0:(_analytics$division_s0=analytics.division_stats)===null||_analytics$division_s0===void 0?void 0:(_analytics$division_s1=_analytics$division_s0.contract_summary)===null||_analytics$division_s1===void 0?void 0:_analytics$division_s1.contracts_ending)||0}),/*#__PURE__*/_jsx(\"small\",{children:\"Contracts Ending Soon\"})]})}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 border rounded\",style:{backgroundColor:'#e8f5e8'},children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-success\",children:(analytics===null||analytics===void 0?void 0:(_analytics$division_s10=analytics.division_stats)===null||_analytics$division_s10===void 0?void 0:(_analytics$division_s11=_analytics$division_s10.contract_summary)===null||_analytics$division_s11===void 0?void 0:_analytics$division_s11.permanent_eligible)||0}),/*#__PURE__*/_jsx(\"small\",{children:\"Permanent Eligible\"})]})})]})})]})]}),/*#__PURE__*/_jsx(Tab.Pane,{eventKey:\"education\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{style:{backgroundColor:'#007bff',color:'white'},children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"\\uD83C\\uDF93 Analisis Kecocokan Pendidikan-Pekerjaan (Data Mining)\"})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Table,{responsive:true,striped:true,children:[/*#__PURE__*/_jsx(\"thead\",{style:{backgroundColor:'#007bff',color:'white'},children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Nama\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Pendidikan\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Posisi\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status Match\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Rekomendasi Durasi\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:(analytics===null||analytics===void 0?void 0:(_analytics$employees=analytics.employees)===null||_analytics$employees===void 0?void 0:_analytics$employees.map((emp,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:emp.name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[emp.tenure_months,\" bulan\"]})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:emp.major}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:emp.education_level})]}),/*#__PURE__*/_jsx(\"td\",{children:emp.role}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center\",children:getMatchLevelBadge(emp)})}),/*#__PURE__*/_jsx(\"td\",{children:emp.current_contract_type==='permanent'?/*#__PURE__*/_jsx(\"span\",{children:\"-\"}):(()=>{// Check for Non-IT elimination first\nconst nonItMajors=['kedokteran','farmasi','hukum','akuntansi','manajemen','ekonomi','psikologi','bahasa','sastra','pendidikan','sejarah','geografi','biologi','kimia','fisika','matematika','pertanian','kehutanan','perikanan','kedokteran hewan','arsitektur','sipil','mesin','elektro','industri','teknik','seni','desain','komunikasi','jurnalistik','sosiologi','antropologi','ilmu politik','hubungan internasional','administrasi','keperawatan','kebidanan','gizi','kesehatan masyarakat','olahraga','keolahragaan'];const employeeMajor=(emp.major||'').toLowerCase().trim();const isNonIT=nonItMajors.some(nonItMajor=>employeeMajor.includes(nonItMajor));if(isNonIT){return/*#__PURE__*/_jsx(Badge,{bg:\"danger\",children:\"TIDAK DIREKOMENDASIKAN\"});}else if(emp.education_job_match==='Unmatch'){// Unmatch - show contract type based on current contract\nswitch(emp.current_contract_type){case'probation':return/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:\"Kontrak 2 (Evaluasi)\"});case'1':return/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:\"Kontrak 2 (Evaluasi)\"});case'2':return/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:\"Kontrak 3 (Evaluasi)\"});case'3':return/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:\"Kontrak 3 (Evaluasi)\"});default:return/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:\"Probation (Evaluasi)\"});}}else{// Match - show next contract type progression\nif(emp.current_contract_type==='3'||emp.current_contract_type==='kontrak3'){return/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:\"PERMANENT\"});}else if(emp.current_contract_type==='probation'){return/*#__PURE__*/_jsx(Badge,{bg:\"info\",children:\"Kontrak 2\"});}else if(emp.current_contract_type==='1'||emp.current_contract_type==='2'){return/*#__PURE__*/_jsx(Badge,{bg:\"primary\",children:\"Kontrak 3\"});}else{return/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:\"Kontrak 2\"});}}})()})]},index)))||[]})]})})]})}),/*#__PURE__*/_jsx(Tab.Pane,{eventKey:\"employees\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{style:{backgroundColor:'#007bff',color:'white'},children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"\\uD83D\\uDC65 Detail Karyawan Divisi\"})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Table,{responsive:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{style:{backgroundColor:'#e3f2fd'},children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Nama & Departemen\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Pendidikan\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Join Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Years Of Service\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status Kontrak\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status Match\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Rekomendasi Kontrak\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status Rekomendasi\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:analytics===null||analytics===void 0?void 0:analytics.employees.map((emp,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:emp.name}),/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:emp.role})]})]})}),/*#__PURE__*/_jsxs(\"td\",{children:[emp.major,/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:emp.education_level})]})]}),/*#__PURE__*/_jsx(\"td\",{children:new Date(emp.join_date).toLocaleDateString('id-ID')}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(Badge,{bg:\"info\",children:[emp.tenure_months,\" bulan\"]})}),/*#__PURE__*/_jsx(\"td\",{children:getContractStatusBadge(emp.current_contract_type,emp.days_to_contract_end)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center\",children:getMatchLevelBadge(emp)})}),/*#__PURE__*/_jsx(\"td\",{children:emp.current_contract_type==='permanent'?/*#__PURE__*/_jsx(\"span\",{children:\"-\"}):(()=>{// Check for Non-IT elimination first\nconst nonItMajors=['kedokteran','farmasi','hukum','akuntansi','manajemen','ekonomi','psikologi','bahasa','sastra','pendidikan','sejarah','geografi','biologi','kimia','fisika','matematika','pertanian','kehutanan','perikanan','kedokteran hewan','arsitektur','sipil','mesin','elektro','industri','teknik','seni','desain','komunikasi','jurnalistik','sosiologi','antropologi','ilmu politik','hubungan internasional','administrasi','keperawatan','kebidanan','gizi','kesehatan masyarakat','olahraga','keolahragaan'];const employeeMajor=(emp.major||'').toLowerCase().trim();const isNonIT=nonItMajors.some(nonItMajor=>employeeMajor.includes(nonItMajor));if(isNonIT){return/*#__PURE__*/_jsx(Badge,{bg:\"danger\",children:\"TIDAK DIREKOMENDASIKAN\"});}else if(emp.education_job_match==='Unmatch'){// Unmatch - show contract type based on current contract\nswitch(emp.current_contract_type){case'probation':return/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:\"Kontrak 2 (Evaluasi)\"});case'1':return/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:\"Kontrak 2 (Evaluasi)\"});case'2':return/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:\"Kontrak 3 (Evaluasi)\"});case'3':return/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:\"Kontrak 3 (Evaluasi)\"});default:return/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:\"Probation (Evaluasi)\"});}}else{// Match - show next contract type progression\nif(emp.current_contract_type==='3'||emp.current_contract_type==='kontrak3'){return/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:\"PERMANENT\"});}else if(emp.current_contract_type==='probation'){return/*#__PURE__*/_jsx(Badge,{bg:\"info\",children:\"Kontrak 2\"});}else if(emp.current_contract_type==='1'||emp.current_contract_type==='2'){return/*#__PURE__*/_jsx(Badge,{bg:\"primary\",children:\"Kontrak 3\"});}else{return/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:\"Kontrak 2\"});}}})()}),/*#__PURE__*/_jsx(\"td\",{children:getRecommendationStatusBadge(emp)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex gap-2\",children:emp.current_contract_type==='permanent'?/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column gap-1\",children:[/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"outline-primary\",onClick:()=>handleEmployeeClick(emp),children:\"Detail\"}),/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"outline-danger\",disabled:true,title:\"Karyawan memiliki kontrak permanent\",style:{backgroundColor:'#f8f9fa',borderColor:'#dc3545',color:'#dc3545',cursor:'not-allowed',opacity:0.7,fontSize:'0.7rem',padding:'0.25rem 0.4rem',lineHeight:'1.2'},children:\"\\u274C Tidak Dapat Direkomendasikan\"})]}):/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"success\",onClick:()=>handleCreateRecommendation(emp),disabled:emp.has_pending_recommendation||emp.days_to_contract_end>30,title:emp.has_pending_recommendation?'Sudah ada rekomendasi pending':emp.days_to_contract_end>30?`Kontrak masih berlaku ${emp.days_to_contract_end} hari lagi`:'Lihat detail dan buat rekomendasi untuk karyawan ini',children:\"Detail & Rekomendasi\"})})})]},index))})]})})]})}),/*#__PURE__*/_jsx(Tab.Pane,{eventKey:\"processed\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(Card.Header,{style:{backgroundColor:'#28a745',color:'white'},className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"\\u2705 Rekomendasi yang Sudah Diproses HR\"}),/*#__PURE__*/_jsx(\"small\",{children:\"Lihat status rekomendasi Anda dan kontrak yang telah diperpanjang\"})]}),/*#__PURE__*/_jsx(Button,{variant:\"outline-light\",size:\"sm\",onClick:fetchProcessedRecommendations,className:\"ms-2\",children:\"\\uD83D\\uDD04 Refresh\"})]}),/*#__PURE__*/_jsx(Card.Body,{children:processedRecommendations.length>0?/*#__PURE__*/_jsxs(Table,{responsive:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{style:{backgroundColor:'#e8f5e8'},children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Karyawan\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Rekomendasi Anda\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status HR\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Kontrak Baru\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tanggal Diproses\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:processedRecommendations.map((rec,index)=>{var _rec$new_contract,_rec$new_contract2;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:rec.employee.name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:rec.employee.role})]})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Badge,{bg:\"primary\",className:\"me-1\",children:rec.recommendation_type==='kontrak1'?'Kontrak 1':rec.recommendation_type==='kontrak2'?'Kontrak 2':rec.recommendation_type==='kontrak3'?'Kontrak 3':rec.recommendation_type}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[rec.recommended_duration,\" bulan\"]})]}),/*#__PURE__*/_jsx(\"td\",{children:rec.status==='approved'?/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:\"\\u2705 Disetujui\"}):rec.status==='extended'?/*#__PURE__*/_jsx(Badge,{bg:\"info\",children:\"\\uD83D\\uDD04 Sudah Diperpanjang\"}):rec.status==='resign'?/*#__PURE__*/_jsx(Badge,{bg:\"dark\",children:\"\\uD83D\\uDC4B Resign\"}):/*#__PURE__*/_jsx(Badge,{bg:\"danger\",children:\"\\u274C Ditolak\"})}),/*#__PURE__*/_jsx(\"td\",{children:rec.status==='resign'?/*#__PURE__*/_jsx(Badge,{bg:\"dark\",children:\"\\uD83D\\uDC4B Resign\"}):rec.status==='approved'&&(_rec$new_contract=rec.new_contract)!==null&&_rec$new_contract!==void 0&&_rec$new_contract.is_created?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Badge,{bg:\"success\",className:\"mb-1\",children:rec.new_contract.type}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-success\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u2705 Kontrak Aktif:\"}),/*#__PURE__*/_jsx(\"br\",{}),rec.new_contract.end_date?`${new Date(rec.new_contract.start_date).toLocaleDateString('id-ID')} - ${new Date(rec.new_contract.end_date).toLocaleDateString('id-ID')}`:`Mulai: ${new Date(rec.new_contract.start_date).toLocaleDateString('id-ID')} (Permanent)`,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted\",children:[\"Durasi: \",rec.recommended_duration==='permanent'?'Permanent':`${rec.recommended_duration} bulan`]})]})]}):rec.status==='approved'?/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:\"\\u23F3 Kontrak sedang dibuat\"}):/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Tidak ada kontrak baru\"})}),/*#__PURE__*/_jsx(\"td\",{children:new Date(rec.updated_at).toLocaleDateString('id-ID')}),/*#__PURE__*/_jsx(\"td\",{children:rec.status==='resign'?/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:\"\\uD83D\\uDEAB Tidak Dilanjutkan\"}):rec.status==='approved'&&(_rec$new_contract2=rec.new_contract)!==null&&_rec$new_contract2!==void 0&&_rec$new_contract2.is_created?/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:\"\\uD83C\\uDF89 Kontrak Berhasil Diperpanjang\"}):rec.status==='approved'?/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:\"\\u23F3 Sedang Memproses Kontrak\"}):/*#__PURE__*/_jsx(Badge,{bg:\"danger\",children:\"\\u274C Rekomendasi Ditolak\"})})]},index);})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"display-1 mb-3\",children:\"\\uD83D\\uDCCB\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Belum Ada Rekomendasi yang Diproses\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Rekomendasi yang Anda buat akan muncul di sini setelah diproses oleh HR.\"})]})})]})})]})]}),showEmployeeModal&&selectedEmployee&&/*#__PURE__*/_jsx(\"div\",{className:\"modal active\",onClick:()=>setShowEmployeeModal(false),children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-xl\",style:{maxWidth:'90vw'},onClick:e=>e.stopPropagation(),children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header py-3\",style:{background:'linear-gradient(135deg, #007bff 0%, #6610f2 100%)',color:'white'},children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"modal-title\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-circle me-2\"}),selectedEmployee.name,\" - Detail dan Rekomendasi\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close btn-close-white\",onClick:()=>setShowEmployeeModal(false)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body p-3\",style:{maxHeight:'80vh',overflowY:'auto'},children:loadingDetail?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-5\",children:[/*#__PURE__*/_jsx(Spinner,{animation:\"border\",variant:\"primary\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:\"Memuat detail karyawan...\"})]}):employeeDetail&&!employeeDetail.error?/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid p-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card h-100 border-0 shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header py-3 bg-primary text-white\",children:/*#__PURE__*/_jsxs(\"h6\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user me-2\"}),\"Informasi Karyawan\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Nama\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-dark\",children:employeeDetail.employee.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Posisi\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-dark\",children:employeeDetail.employee.role})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Divisi\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-dark\",children:employeeDetail.employee.division_name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Tenure\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fw-bold text-dark\",children:[Math.round(employeeDetail.employee.tenure_months),\" bulan\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Pendidikan\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fw-bold text-dark\",children:[employeeDetail.employee.education_level,\" - \",employeeDetail.employee.major]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Match Status\"}),/*#__PURE__*/_jsx(\"div\",{children:(_employeeDetail$educa=employeeDetail.education_match_analysis)!==null&&_employeeDetail$educa!==void 0&&_employeeDetail$educa.match_status?/*#__PURE__*/_jsx(\"span\",{className:`badge ${employeeDetail.education_match_analysis.match_status==='Match'?'bg-success':'bg-warning'}`,children:employeeDetail.education_match_analysis.match_status}):/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-secondary\",children:\"N/A\"})})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card h-100 border-0 shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header py-3 bg-success text-white\",children:/*#__PURE__*/_jsxs(\"h6\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-brain me-2\"}),\"Data Intelligence & Statistics\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body p-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-success\",children:((_employeeDetail$dynam=employeeDetail.dynamic_intelligence)===null||_employeeDetail$dynam===void 0?void 0:_employeeDetail$dynam.match_category)||'Tidak Ada Data'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Sample Size\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fw-bold text-dark\",children:[((_employeeDetail$dynam2=employeeDetail.dynamic_intelligence)===null||_employeeDetail$dynam2===void 0?void 0:_employeeDetail$dynam2.sample_size)||0,\" profil\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Rekomendasi\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-primary\",children:((_employeeDetail$dynam3,_employeeDetail$dynam4)=>{const duration=(_employeeDetail$dynam3=employeeDetail.dynamic_intelligence)===null||_employeeDetail$dynam3===void 0?void 0:_employeeDetail$dynam3.optimal_duration;const category=(_employeeDetail$dynam4=employeeDetail.dynamic_intelligence)===null||_employeeDetail$dynam4===void 0?void 0:_employeeDetail$dynam4.match_category;const employee=employeeDetail.employee;// Check for Non-IT elimination first\nconst nonItMajors=['kedokteran','farmasi','hukum','akuntansi','manajemen','ekonomi','psikologi','bahasa','sastra','pendidikan','sejarah','geografi','biologi','kimia','fisika','matematika','pertanian','kehutanan','perikanan','kedokteran hewan','arsitektur','sipil','mesin','elektro','industri','teknik','seni','desain','komunikasi','jurnalistik','sosiologi','antropologi','ilmu politik','hubungan internasional','administrasi','keperawatan','kebidanan','gizi','kesehatan masyarakat','olahraga','keolahragaan'];const employeeMajor=employee.major?employee.major.toLowerCase().trim():'';const isNonIT=nonItMajors.some(nonItMajor=>employeeMajor.includes(nonItMajor));if(isNonIT||category==='Tidak Direkomendasikan'){return'Tidak Direkomendasikan';}else if(category==='Sudah Permanent'){return'Sudah Permanent';}// UNMATCH employees - KONSISTEN dengan tabel dan form\nelse if(employee.education_job_match==='Unmatch'){// Untuk unmatch, selalu evaluasi kontrak sesuai kontrak saat ini\nif(employee.current_contract_type==='3'){return'Kontrak 3 (Evaluasi)';}else if(employee.current_contract_type==='2'){return'Kontrak 3 (Evaluasi)';}else{return'Kontrak 2 (Evaluasi)';}}// MATCH employees - ikuti dynamic intelligence\nelse if(employee.education_job_match==='Match'){if(employee.current_contract_type==='3'&&(category==='Siap Permanent'||duration===0)){return'Permanent';}else if(duration===0&&category!=='Tidak Direkomendasikan'){return'Permanent';}else if(duration&&duration>0){return`${duration} bulan`;}else{return'Perlu Evaluasi';}}else{return'Perlu Evaluasi';}})()})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:((_employeeDetail$dynam5=employeeDetail.dynamic_intelligence)===null||_employeeDetail$dynam5===void 0?void 0:_employeeDetail$dynam5.historical_patterns)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Masih Aktif\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fw-bold text-success\",children:[employeeDetail.dynamic_intelligence.historical_patterns.success_rate||0,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Sudah Resign\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fw-bold text-danger\",children:[employeeDetail.dynamic_intelligence.historical_patterns.resign_rate||0,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Avg Tenure\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fw-bold text-primary\",children:[employeeDetail.dynamic_intelligence.historical_patterns.avg_duration?employeeDetail.dynamic_intelligence.historical_patterns.avg_duration.toFixed(1):'0',\" bulan\"]})]})]})})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card h-100 border-0 shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header py-3\",style:{background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',color:'white'},children:/*#__PURE__*/_jsxs(\"h6\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-users me-2\"}),\"Profil Serupa (\",((_employeeDetail$dynam6=employeeDetail.dynamic_intelligence)===null||_employeeDetail$dynam6===void 0?void 0:(_employeeDetail$dynam7=_employeeDetail$dynam6.historical_patterns)===null||_employeeDetail$dynam7===void 0?void 0:_employeeDetail$dynam7.total_similar)||0,\")\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body p-2\",style:{maxHeight:'300px',overflowY:'auto',backgroundColor:'#f8f9fa'},children:((_employeeDetail$dynam8=employeeDetail.dynamic_intelligence)===null||_employeeDetail$dynam8===void 0?void 0:(_employeeDetail$dynam9=_employeeDetail$dynam8.historical_patterns)===null||_employeeDetail$dynam9===void 0?void 0:(_employeeDetail$dynam0=_employeeDetail$dynam9.profiles)===null||_employeeDetail$dynam0===void 0?void 0:_employeeDetail$dynam0.length)>0?/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-column gap-2\",children:employeeDetail.dynamic_intelligence.historical_patterns.profiles.slice(0,6).map((profile,idx)=>/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 shadow-sm\",style:{backgroundColor:'white',borderRadius:'6px'},children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body p-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"small\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"fw-bold text-primary mb-1 text-truncate\",title:profile.name,style:{fontSize:'0.8rem'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-circle me-1\"}),profile.name]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-muted mb-1\",style:{fontSize:'0.7rem',lineHeight:'1.2'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-graduation-cap me-1\"}),profile.major,\" \\u2192 \",profile.role]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"badge bg-info text-dark\",style:{fontSize:'0.6rem',padding:'0.2rem 0.4rem'},children:profile.current_contract_type||'N/A'}),/*#__PURE__*/_jsxs(\"div\",{className:`fw-bold ${profile.status_summary==='Aktif'?'text-success':'text-danger'}`,style:{fontSize:'0.7rem'},children:[profile.status_summary,\" (\",Math.round(profile.total_tenure_months),\"m)\"]})]})]})})},profile.eid))}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-users fa-2x text-muted mb-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-muted small\",children:\"Tidak ada profil serupa\"})]})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card border-0 shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header py-3\",style:{background:'linear-gradient(135deg, #fd7e14 0%, #ffc107 100%)',color:'white'},children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-file-signature me-2\"}),\"Form Rekomendasi Kontrak\"]}),/*#__PURE__*/_jsx(\"small\",{className:\"opacity-75\",children:\"Pilih tipe kontrak dan durasi yang sesuai berdasarkan analisis data\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-4\",children:[employeeDetail.dynamic_intelligence&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info border-0 shadow-sm mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-brain fa-2x text-info me-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"alert-heading mb-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lightbulb me-1\"}),\"Dynamic Intelligence Suggestion\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Status Kategori\"}),/*#__PURE__*/_jsx(\"strong\",{children:employeeDetail.dynamic_intelligence.match_category})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Durasi Optimal\"}),/*#__PURE__*/_jsx(\"strong\",{className:\"text-primary\",children:employeeDetail.dynamic_intelligence.match_category==='Tidak Direkomendasikan'?'Tidak Direkomendasikan':employeeDetail.dynamic_intelligence.optimal_duration===0?'Permanent':`${employeeDetail.dynamic_intelligence.optimal_duration} bulan`})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Sample Size\"}),/*#__PURE__*/_jsxs(\"strong\",{children:[employeeDetail.dynamic_intelligence.sample_size,\" profil serupa\"]})]})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"recommendation_type\",className:\"form-label fw-bold\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-clipboard-list me-2\"}),\"Jenis Rekomendasi\"]}),/*#__PURE__*/_jsxs(\"select\",{id:\"recommendation_type\",name:\"recommendation_type\",className:\"form-select form-select-lg\",value:recommendationData.recommendation_type||'',onChange:e=>{const newType=e.target.value;setRecommendationData(prev=>({...prev,recommendation_type:newType,// Reset duration when changing contract type\nrecommended_duration:newType==='permanent'?0:newType==='terminate'?0:''}));},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Pilih Jenis Kontrak\"}),/*#__PURE__*/_jsx(\"option\",{value:\"kontrak2\",children:\"Kontrak 2\"}),/*#__PURE__*/_jsx(\"option\",{value:\"kontrak3\",children:\"Kontrak 3\"}),/*#__PURE__*/_jsx(\"option\",{value:\"permanent\",children:\"Permanent\"}),/*#__PURE__*/_jsx(\"option\",{value:\"terminate\",children:recommendationData.reason&&recommendationData.reason.includes('ELIMINASI OTOMATIS')?'TIDAK DIREKOMENDASIKAN':'Tidak Diperpanjang'})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"recommended_duration_select\",className:\"form-label fw-bold\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-calendar-alt me-2\"}),\"Durasi Optimal (bulan)\"]}),recommendationData.recommendation_type==='kontrak2'||recommendationData.recommendation_type==='kontrak3'?/*#__PURE__*/_jsxs(\"select\",{id:\"recommended_duration_select\",name:\"recommended_duration_select\",className:\"form-select form-select-lg\",value:recommendationData.recommended_duration||'',onChange:e=>setRecommendationData(prev=>({...prev,recommended_duration:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Pilih durasi kontrak\"}),/*#__PURE__*/_jsx(\"option\",{value:\"6\",children:\"6 Bulan\"}),/*#__PURE__*/_jsx(\"option\",{value:\"12\",children:\"12 Bulan\"}),/*#__PURE__*/_jsx(\"option\",{value:\"18\",children:\"18 Bulan\"}),/*#__PURE__*/_jsx(\"option\",{value:\"24\",children:\"24 Bulan\"})]}):/*#__PURE__*/_jsx(\"input\",{id:\"recommended_duration\",name:\"recommended_duration\",type:\"number\",className:\"form-control form-control-lg\",value:recommendationData.recommended_duration||'',onChange:e=>setRecommendationData(prev=>({...prev,recommended_duration:e.target.value})),disabled:recommendationData.recommendation_type==='permanent'||recommendationData.recommendation_type==='terminate',placeholder:\"Masukkan durasi dalam bulan\",min:\"1\",max:\"36\"}),(recommendationData.recommendation_type==='kontrak2'||recommendationData.recommendation_type==='kontrak3')&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsxs(\"small\",{className:\"text-info\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-info-circle me-1\"}),\"Pilih durasi yang sesuai berdasarkan rekomendasi sistem dan performa karyawan\"]})}),recommendationData.recommendation_type==='permanent'&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsxs(\"small\",{className:\"text-success\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-info-circle me-1\"}),\"Permanent - tidak memerlukan durasi\"]})}),recommendationData.recommendation_type==='terminate'&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsxs(\"small\",{className:\"text-danger\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-triangle me-1\"}),recommendationData.reason&&recommendationData.reason.includes('ELIMINASI OTOMATIS')?'ELIMINASI OTOMATIS - Jurusan Non-IT tidak direkomendasikan':'Tidak diperpanjang - kontrak berakhir']})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"recommendationReason\",className:\"form-label fw-bold\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-comment-alt me-2\"}),\"Alasan Rekomendasi\"]}),/*#__PURE__*/_jsx(\"textarea\",{id:\"recommendationReason\",name:\"recommendationReason\",className:\"form-control\",rows:\"4\",value:recommendationData.reason||'',onChange:e=>setRecommendationData(prev=>({...prev,reason:e.target.value})),placeholder:\"Jelaskan alasan rekomendasi berdasarkan analisis data, performa karyawan, dan kebutuhan perusahaan...\",style:{resize:'vertical'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-text\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lightbulb me-1\"}),\"Tip: Sertakan justifikasi berdasarkan match status, tenure, dan analisis data mining\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-success btn-lg px-5\",onClick:submitRecommendation,disabled:!(employeeDetail!==null&&employeeDetail!==void 0&&(_employeeDetail$emplo3=employeeDetail.employee)!==null&&_employeeDetail$emplo3!==void 0&&_employeeDetail$emplo3.eid||selectedEmployee!==null&&selectedEmployee!==void 0&&selectedEmployee.eid)||!recommendationData.recommendation_type||// Validate duration for kontrak2 and kontrak3\n['kontrak2','kontrak3'].includes(recommendationData.recommendation_type)&&(!recommendationData.recommended_duration||recommendationData.recommended_duration==='0'),title:!(employeeDetail!==null&&employeeDetail!==void 0&&(_employeeDetail$emplo4=employeeDetail.employee)!==null&&_employeeDetail$emplo4!==void 0&&_employeeDetail$emplo4.eid||selectedEmployee!==null&&selectedEmployee!==void 0&&selectedEmployee.eid)?'Data karyawan tidak lengkap':!recommendationData.recommendation_type?'Pilih jenis rekomendasi':['kontrak2','kontrak3'].includes(recommendationData.recommendation_type)&&(!recommendationData.recommended_duration||recommendationData.recommended_duration==='0')?'Pilih durasi kontrak':'Kirim rekomendasi ke HR',children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-paper-plane me-2\"}),\"Kirim Rekomendasi ke HR\"]})})]})]})})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger border-0 shadow-sm\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"alert-heading\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-triangle me-2\"}),\"Gagal memuat detail karyawan\"]}),employeeDetail!==null&&employeeDetail!==void 0&&employeeDetail.error?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Error:\"}),\" \",employeeDetail.errorMessage]}),/*#__PURE__*/_jsxs(\"details\",{children:[/*#__PURE__*/_jsx(\"summary\",{children:\"Debug Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Employee:\"}),\" \",(_employeeDetail$emplo5=employeeDetail.employee)===null||_employeeDetail$emplo5===void 0?void 0:_employeeDetail$emplo5.name,\" (EID: \",(_employeeDetail$emplo6=employeeDetail.employee)===null||_employeeDetail$emplo6===void 0?void 0:_employeeDetail$emplo6.eid,\")\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Contract:\"}),\" \",(_employeeDetail$emplo7=employeeDetail.employee)===null||_employeeDetail$emplo7===void 0?void 0:_employeeDetail$emplo7.current_contract_type]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Possible causes:\"})}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"Session expired - try refreshing the page\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Network connection issues\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Server configuration problems\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"small text-muted\",children:\"Check browser console for more details (F12 \\u2192 Console)\"})]})]})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Terjadi kesalahan saat mengambil data analisis karyawan. Silakan coba lagi atau hubungi administrator sistem.\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer py-3 bg-light\",children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-secondary px-4\",onClick:()=>setShowEmployeeModal(false),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times me-2\"}),\"Tutup\"]})})]})})})]});};export default ManagerDashboard;","map":{"version":3,"names":["React","useState","useEffect","axios","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","ArcElement","PointElement","LineElement","Filler","Bar","Doughnut","useAuth","Card","Container","Row","Col","Nav","Tab","Table","Badge","Button","Modal","Alert","Spinner","ProgressBar","Form","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","register","ManagerDashboard","_analytics$division_s","_analytics$division_s2","_analytics$division_s3","_analytics$division_s4","_analytics$division_s5","_analytics$division_s6","_analytics$division_s7","_analytics$division_s8","_analytics$division_s9","_analytics$division_s0","_analytics$division_s1","_analytics$division_s10","_analytics$division_s11","_analytics$employees","_employeeDetail$educa","_employeeDetail$dynam","_employeeDetail$dynam2","_employeeDetail$dynam5","_employeeDetail$dynam6","_employeeDetail$dynam7","_employeeDetail$dynam8","_employeeDetail$dynam9","_employeeDetail$dynam0","_employeeDetail$emplo3","_employeeDetail$emplo4","_employeeDetail$emplo5","_employeeDetail$emplo6","_employeeDetail$emplo7","analytics","setAnalytics","educationAnalysis","setEducationAnalysis","divisionIntelligence","setDivisionIntelligence","loading","setLoading","activeTab","setActiveTab","user","showEmployeeModal","setShowEmployeeModal","selectedEmployee","setSelectedEmployee","employeeDetail","setEmployeeDetail","loadingDetail","setLoadingDetail","recommendationData","setRecommendationData","recommendation_type","recommended_duration","reason","alert","setAlert","show","message","type","processedRecommendations","setProcessedRecommendations","role","fetchManagerData","fetchProcessedRecommendations","interval","setInterval","clearInterval","showAlert","dynamic_intelligence","intelligence","duration","optimal_duration","category","match_category","defaultType","defaultDuration","nonItMajors","employeeMajor","major","toLowerCase","trim","isNonIT","some","nonItMajor","includes","education_job_match","current_contract_type","reasonPrefix","eid","employee_name","name","timestamp","Date","getTime","analyticsRes","get","withCredentials","console","log","data","success","employees","matchDistribution","filter","emp","length","education_analysis","match_distribution","contract_progression","contract_status","tenure_months","map","_emp$data_mining_reco","status","recommendation","data_mining_recommendation","performance_predictions","success_probability","risk_level","contract_recommendation","urgent_contract_decisions","_emp$data_mining_reco2","error","response","resignRecs","rec","fetchEmployeeDetail","fetch","credentials","headers","ok","Error","responseText","text","substring","result","JSON","parse","jsonError","handleEmployeeClick","employee","_employeeData$employe","_employeeData$dynamic","_employeeData$dynamic2","employeeData","errorMessage","handleCreateRecommendation","submitRecommendation","_employeeDetail$emplo","_employeeDetail$emplo2","employeeEid","employeeName","formData","FormData","append","systemRec","confidence_level","sample_size","key","value","entries","post","timeout","_error$response$data","_error$response$data2","errorMsg","request","setTimeout","getMatchDistributionChart","labels","datasets","label","backgroundColor","borderWidth","Match","Unmatch","getRiskLevelChart","lowRisk","_emp$data_mining_reco3","mediumRisk","_emp$data_mining_reco4","highRisk","_emp$data_mining_reco5","getContractRecommendationChart","borderColor","duration6","_emp$data_mining_reco6","duration12","_emp$data_mining_reco7","duration18","_emp$data_mining_reco8","duration24","_emp$data_mining_reco9","duration36","_emp$data_mining_reco0","getDataMiningRecommendation","confidence","reasoning","matchStatus","tenure","currentContract","calculateMatchStatusLocal","toUpperCase","designation","itEducationKeywords","itJobKeywords","isItEducation","keyword","isItJob","getMatchLevelBadge","bg","children","getRiskLevelBadge","riskLevel","getContractStatusBadge","contractType","badges","variant","null","badge","className","getRecommendationStatusBadge","existingRecommendation","find","employee_id","_employee$data_mining","fluid","dismissible","onClose","style","background","color","division_name","xs","division_stats","total_employees","activeKey","onSelect","Item","Link","eventKey","Content","Pane","md","Body","data_mining_summary","match_employees","recommended_extensions","high_risk_employees","Header","options","responsive","plugins","legend","position","display","scales","y","beginAtZero","contract_summary","probation_ready","contracts_ending","permanent_eligible","striped","index","education_level","hover","join_date","toLocaleDateString","days_to_contract_end","size","onClick","disabled","title","cursor","opacity","fontSize","padding","lineHeight","has_pending_recommendation","_rec$new_contract","_rec$new_contract2","new_contract","is_created","end_date","start_date","updated_at","maxWidth","e","stopPropagation","maxHeight","overflowY","animation","Math","round","education_match_analysis","match_status","_employeeDetail$dynam3","_employeeDetail$dynam4","historical_patterns","success_rate","resign_rate","avg_duration","toFixed","total_similar","profiles","slice","profile","idx","borderRadius","status_summary","total_tenure_months","htmlFor","id","onChange","newType","target","prev","placeholder","min","max","rows","resize"],"sources":["C:/xampp/htdocs/web_srk_BI/frontend/src/pages/ManagerDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend,\n  ArcElement,\n  PointElement,\n  LineElement,\n  Filler,\n} from 'chart.js';\nimport { Bar, Doughnut } from 'react-chartjs-2';\nimport { useAuth } from '../App';\nimport { Card, Container, Row, Col, Nav, Tab, Table, Badge, Button, Modal, Alert, Spinner, ProgressBar, Form } from 'react-bootstrap';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n  ArcElement,\n  Filler\n);\n\nconst ManagerDashboard = () => {\n  const [analytics, setAnalytics] = useState(null);\n  const [educationAnalysis, setEducationAnalysis] = useState(null);\n  const [divisionIntelligence, setDivisionIntelligence] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState('overview');\n  const { user } = useAuth();\n  const [showEmployeeModal, setShowEmployeeModal] = useState(false);\n  const [selectedEmployee, setSelectedEmployee] = useState(null);\n  const [employeeDetail, setEmployeeDetail] = useState(null);\n  const [loadingDetail, setLoadingDetail] = useState(false);\n\n  const [recommendationData, setRecommendationData] = useState({\n    recommendation_type: 'extend',\n    recommended_duration: '',\n    reason: ''\n  });\n  const [alert, setAlert] = useState({ show: false, message: '', type: '' });\n  const [processedRecommendations, setProcessedRecommendations] = useState([]);\n\n  useEffect(() => {\n    if (user?.role === 'manager') {\n      fetchManagerData();\n      fetchProcessedRecommendations();\n      \n      // Auto refresh processed recommendations every 30 seconds\n      const interval = setInterval(() => {\n        fetchProcessedRecommendations();\n      }, 30000);\n      \n      return () => clearInterval(interval);\n    } else if (user?.role === 'hr') {\n      showAlert('HR tidak dapat membuat rekomendasi. Hanya manager yang dapat membuat rekomendasi karyawan.', 'warning');\n    }\n  }, [user]);\n\n  // Update recommendation form when employee detail is loaded\n  useEffect(() => {\n    if (employeeDetail && employeeDetail.dynamic_intelligence && selectedEmployee) {\n      const intelligence = employeeDetail.dynamic_intelligence;\n      const duration = intelligence.optimal_duration;\n      const category = intelligence.match_category;\n      \n      // PROPER FORM DEFAULTS based on dynamic intelligence\n      let defaultType = 'kontrak2';\n      let defaultDuration = duration || 6;\n      \n      // Check for Non-IT major elimination first\n      const nonItMajors = [\n        'kedokteran', 'farmasi', 'hukum', 'akuntansi', 'manajemen', 'ekonomi',\n        'psikologi', 'bahasa', 'sastra', 'pendidikan', 'sejarah', 'geografi',\n        'biologi', 'kimia', 'fisika', 'matematika', 'pertanian', 'kehutanan',\n        'perikanan', 'kedokteran hewan', 'arsitektur', 'sipil', 'mesin',\n        'elektro', 'industri', 'teknik', 'seni', 'desain', 'komunikasi',\n        'jurnalistik', 'sosiologi', 'antropologi', 'ilmu politik',\n        'hubungan internasional', 'administrasi', 'keperawatan', 'kebidanan',\n        'gizi', 'kesehatan masyarakat', 'olahraga', 'keolahragaan'\n      ];\n      \n      const employeeMajor = selectedEmployee.major ? selectedEmployee.major.toLowerCase().trim() : '';\n      const isNonIT = nonItMajors.some(nonItMajor => employeeMajor.includes(nonItMajor));\n      \n      if (isNonIT) {\n        // Automatic elimination for Non-IT majors\n        defaultType = 'terminate';\n        defaultDuration = 0;\n      }\n      // Untuk MATCH employees, ikuti dynamic intelligence\n      else if (selectedEmployee.education_job_match === 'Match') {\n        if (category === 'Siap Permanent' || duration === 0) {\n          defaultType = 'permanent';\n          defaultDuration = 0;\n        } else if (category === 'Berpotensi Kontrak 3' || duration >= 18) {\n          defaultType = 'kontrak3';\n          defaultDuration = duration || 18;\n        } else if (category === 'Berpotensi Kontrak 2' || duration >= 6) {\n          defaultType = 'kontrak2';\n          defaultDuration = duration || 12;\n        } else {\n          defaultType = 'kontrak2';\n          defaultDuration = 6;\n        }\n      } \n      // UNMATCH employees - POLICY: Tetap evaluasi kontrak, tidak langsung permanent\n      else if (selectedEmployee.education_job_match === 'Unmatch') {\n        // UNMATCH - determine evaluation contract based on current contract\n        // KONSISTEN dengan getRecommendationStatusBadge di tabel\n        if (selectedEmployee.current_contract_type === 'probation') {\n          defaultType = 'kontrak2';\n          defaultDuration = 6;\n        } else if (selectedEmployee.current_contract_type === '1') {\n          defaultType = 'kontrak2';\n          defaultDuration = 6;\n        } else if (selectedEmployee.current_contract_type === '2') {\n          defaultType = 'kontrak3';\n          defaultDuration = 6;\n        } else if (selectedEmployee.current_contract_type === '3') {\n          // POLICY: Kontrak 3 unmatch tetap evaluasi kontrak 3, tidak langsung permanent\n          // Meskipun dynamic intelligence suggest permanent, kita tetap konservatif\n          // untuk unmatch employees karena tingginya risk resign\n          defaultType = 'kontrak3';\n          defaultDuration = 6;\n        } else {\n          defaultType = 'kontrak2';\n          defaultDuration = 6;\n        }\n      }\n      \n      // Special handling untuk reasoning text - kosong sesuai permintaan user\n      let reasonPrefix = '';\n      \n      setRecommendationData({\n        eid: selectedEmployee.eid,\n        employee_name: selectedEmployee.name,\n        recommendation_type: defaultType,\n        recommended_duration: defaultDuration,\n        reason: ''\n      });\n    }\n  }, [employeeDetail, selectedEmployee]);\n\n  const fetchManagerData = async () => {\n    try {\n      setLoading(true);\n      \n      // Use the session-based endpoint that filters by manager's division\n      const timestamp = new Date().getTime();\n              const analyticsRes = await axios.get(`http://localhost/web_srk_BI/backend/manager_analytics_by_division.php?t=${timestamp}`, {\n        withCredentials: true\n      });\n\n      console.log('ðŸ”¥ NEW API Response:', analyticsRes.data);\n      \n      if (analyticsRes.data.success) {\n        setAnalytics(analyticsRes.data.data);\n        console.log('âœ… Analytics data set:', analyticsRes.data.data);\n        \n        // Use the same analytics data for education analysis\n        if (analyticsRes.data.data.employees) {\n          const employees = analyticsRes.data.data.employees;\n          const matchDistribution = {\n            'Match': employees.filter(emp => emp.education_job_match === 'Match').length,\n            'Unmatch': employees.filter(emp => emp.education_job_match === 'Unmatch').length\n          };\n          \n          setEducationAnalysis({\n            education_analysis: employees,\n            match_distribution: matchDistribution,\n            contract_progression: employees.filter(emp => \n              emp.contract_status === 'Ready for Review' || \n              emp.tenure_months >= 3\n            ).map(emp => ({\n              name: emp.name,\n              status: emp.contract_status,\n              recommendation: emp.data_mining_recommendation?.reason || 'Standard review'\n            }))\n          });\n          \n          setDivisionIntelligence({\n            performance_predictions: employees.map(emp => ({\n              name: emp.name,\n              success_probability: emp.success_probability,\n              risk_level: emp.risk_level,\n              contract_recommendation: emp.data_mining_recommendation\n            })),\n            urgent_contract_decisions: employees.filter(emp => \n              emp.data_mining_recommendation?.risk_level === 'High' ||\n              emp.contract_status === 'Ready for Review'\n            )\n          });\n        }\n      }\n      \n    } catch (error) {\n      console.error('Error fetching manager data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchProcessedRecommendations = async () => {\n    try {\n      const response = await axios.get('http://localhost/web_srk_BI/backend/api/recommendations.php?action=processed', {\n        withCredentials: true\n      });\n\n      if (response.data.success) {\n        setProcessedRecommendations(response.data.data);\n        console.log('âœ… Processed recommendations loaded:', response.data.data);\n        \n        // Debug: Check for resign status\n        const resignRecs = response.data.data.filter(rec => rec.status === 'resign');\n        if (resignRecs.length > 0) {\n          console.log('ðŸ” Found resign recommendations:', resignRecs);\n        }\n      } else {\n        console.error('Failed to fetch processed recommendations:', response.data.error);\n      }\n    } catch (error) {\n      console.error('Error fetching processed recommendations:', error);\n    }\n  };\n\n  const fetchEmployeeDetail = async (eid) => {\n    setLoadingDetail(true);\n    try {\n      console.log('Fetching employee detail for eid:', eid);\n      const response = await fetch(`http://localhost/web_srk_BI/backend/api/employees.php?action=employee_data_mining_detail&eid=${eid}`, {\n        credentials: 'include',\n        headers: {\n          'Content-Type': 'application/json',\n        }\n      });\n      \n      console.log('Response status:', response.status);\n      console.log('Response OK:', response.ok);\n      \n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      \n      const responseText = await response.text();\n      console.log('Raw response text (first 200 chars):', responseText.substring(0, 200));\n      \n      let result;\n      try {\n        result = JSON.parse(responseText);\n      } catch (jsonError) {\n        console.error('JSON Parse Error:', jsonError);\n        console.log('Full response text:', responseText);\n        throw new Error('Server returned invalid JSON. Check browser console for details.');\n      }\n      \n      console.log('Employee detail API Response:', result);\n      \n      if (result.success) {\n        setEmployeeDetail(result.data);\n        console.log('Employee detail loaded successfully');\n        return result.data; // Return the data for await\n      } else {\n        console.error('API Error:', result.error);\n        setEmployeeDetail(null);\n        throw new Error(result.error || 'Failed to load employee data');\n      }\n    } catch (error) {\n      console.error('Network/Parse error:', error);\n      setEmployeeDetail(null);\n      throw error; // Re-throw for handleEmployeeClick to catch\n    } finally {\n      setLoadingDetail(false);\n    }\n  };\n\n  const handleEmployeeClick = async (employee) => {\n    console.log('ðŸ” handleEmployeeClick called for:', employee.name, 'EID:', employee.eid);\n    setSelectedEmployee(employee);\n    setLoadingDetail(true);\n    \n    // Always show the modal first (will show loading state)\n    setShowEmployeeModal(true);\n    \n    // Fetch fresh employee detail data\n    try {\n      console.log('â³ Fetching employee detail...');\n      const employeeData = await fetchEmployeeDetail(employee.eid);\n      console.log('âœ… Employee data loaded, setting state');\n      console.log('   - Employee Contract Type:', employeeData?.employee?.current_contract_type);\n      console.log('   - Dynamic Intelligence:', employeeData?.dynamic_intelligence);\n      console.log('   - Match Category:', employeeData?.dynamic_intelligence?.match_category);\n      console.log('   - Optimal Duration:', employeeData?.dynamic_intelligence?.optimal_duration);\n      \n      // Set the employee detail state\n      setEmployeeDetail(employeeData);\n      setLoadingDetail(false);\n    } catch (error) {\n      console.error('âŒ Failed to fetch employee detail:', error);\n      setLoadingDetail(false);\n      // Don't close modal, show error in modal instead\n      setEmployeeDetail({\n        error: true,\n        errorMessage: error.message,\n        employee: {\n          name: employee.name,\n          eid: employee.eid,\n          current_contract_type: employee.current_contract_type\n        }\n      });\n    }\n    \n    // Initialize recommendation data based on employee status - will be updated with dynamic intelligence later\n    const defaultType = employee.education_job_match === 'Unmatch' ? 'kontrak2' : 'kontrak2';\n    setRecommendationData({\n      eid: employee.eid,\n      employee_name: employee.name,\n      recommendation_type: defaultType,\n      recommended_duration: 6,\n      reason: 'Rekomendasi akan diupdate berdasarkan dynamic intelligence analysis...'\n    });\n  };\n\n  const handleCreateRecommendation = async (employee) => {\n    console.log('ðŸ”§ handleCreateRecommendation called for:', employee.name, 'Contract:', employee.current_contract_type);\n    \n    // Call the same function as handleEmployeeClick to open detail modal with form\n    await handleEmployeeClick(employee);\n  };\n\n  const submitRecommendation = async () => {\n    try {\n      // Enhanced validation with fallback\n      const employeeEid = employeeDetail?.employee?.eid || selectedEmployee?.eid;\n      const employeeName = employeeDetail?.employee?.name || selectedEmployee?.name;\n      \n      if (!employeeEid) {\n        showAlert('Data karyawan tidak lengkap. Silakan muat ulang halaman.', 'danger');\n        console.error('Employee EID not found. Employee detail:', employeeDetail, 'Selected employee:', selectedEmployee);\n        return;\n      }\n\n      if (!recommendationData.recommendation_type) {\n        showAlert('Pilih jenis rekomendasi terlebih dahulu', 'warning');\n        return;\n      }\n\n      // Validasi reason dihapus - reason boleh kosong sesuai permintaan user\n\n      // Validate duration for contracts that require it\n      if (['kontrak2', 'kontrak3'].includes(recommendationData.recommendation_type) && \n          (!recommendationData.recommended_duration || recommendationData.recommended_duration === '0')) {\n        showAlert('Durasi kontrak harus diisi untuk jenis kontrak yang dipilih', 'warning');\n        return;\n      }\n\n      // Show loading state\n      showAlert('Sedang mengirim rekomendasi...', 'info');\n\n      const formData = new FormData();\n      formData.append('action', 'create');\n      formData.append('eid', employeeEid);\n      formData.append('recommendation_type', recommendationData.recommendation_type);\n      formData.append('recommended_duration', recommendationData.recommended_duration || '0');\n      formData.append('reason', recommendationData.reason || '');\n      \n      // Enhanced system recommendation with dynamic intelligence\n      const systemRec = employeeDetail?.dynamic_intelligence ? \n        `Rekomendasi sistem: ${employeeDetail.dynamic_intelligence.match_category || 'Analysis'} (${employeeDetail.dynamic_intelligence.optimal_duration || 'N/A'} bulan), Confidence: ${employeeDetail.dynamic_intelligence.confidence_level || 'Medium'}, Sample Size: ${employeeDetail.dynamic_intelligence.sample_size || 0}` :\n        `Rekomendasi sistem: ${recommendationData.recommendation_type} kontrak ${recommendationData.recommended_duration || 'N/A'} bulan berdasarkan analisis data mining`;\n      \n      formData.append('system_recommendation', systemRec);\n\n      console.log('=== SENDING RECOMMENDATION ===');\n      console.log('Employee EID:', employeeEid);\n      console.log('Employee Name:', employeeName);\n      console.log('Recommendation Type:', recommendationData.recommendation_type);\n      console.log('Recommended Duration:', recommendationData.recommended_duration);\n      console.log('Reason:', recommendationData.reason);\n      console.log('FormData contents:');\n      for (let [key, value] of formData.entries()) {\n        console.log(`  ${key}: ${value}`);\n      }\n      console.log('Employee detail structure:', employeeDetail);\n      console.log('Selected employee:', selectedEmployee);\n\n      const response = await axios.post('http://localhost/web_srk_BI/backend/api/recommendations.php', formData, {\n        withCredentials: true,\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        },\n        timeout: 30000 // 30 second timeout\n      });\n\n      console.log('=== RESPONSE RECEIVED ===');\n      console.log('Response status:', response.status);\n      console.log('Response data:', response.data);\n\n      if (response.data.success) {\n        showAlert('Rekomendasi berhasil dibuat dan dikirim ke HR', 'success');\n        setShowEmployeeModal(false);\n        // Reset form\n        setRecommendationData({\n          recommendation_type: '',\n          recommended_duration: '',\n          reason: ''\n        });\n        // Refresh data after creating recommendation\n        fetchManagerData();\n        fetchProcessedRecommendations();\n      } else {\n        console.error('Server error response:', response.data);\n        showAlert(response.data.error || 'Gagal membuat rekomendasi', 'danger');\n      }\n    } catch (error) {\n      console.error('Error creating recommendation:', error);\n      \n      // Enhanced error handling\n      if (error.response) {\n        // Server responded with error status\n        console.error('Server error response:', error.response.data);\n        console.error('Server error status:', error.response.status);\n        const errorMsg = error.response.data?.error || error.response.data?.message || 'Server error';\n        showAlert(`Gagal membuat rekomendasi: ${errorMsg}`, 'danger');\n      } else if (error.request) {\n        // Request was made but no response received\n        console.error('Network error - no response received:', error.request);\n        showAlert('Tidak dapat terhubung ke server. Periksa koneksi internet Anda.', 'danger');\n      } else {\n        // Something happened in setting up the request\n        console.error('Request setup error:', error.message);\n        showAlert('Terjadi kesalahan saat mengirim rekomendasi. Silakan coba lagi.', 'danger');\n      }\n    }\n  };\n\n  const showAlert = (message, type) => {\n    setAlert({ show: true, message, type });\n    setTimeout(() => setAlert({ show: false, message: '', type: '' }), 5000);\n  };\n\n  const getMatchDistributionChart = () => {\n    if (!educationAnalysis?.match_distribution) {\n      return {\n        labels: ['Match', 'Unmatch'],\n        datasets: [{\n          label: 'Distribusi Kecocokan',\n          data: [0, 0],\n          backgroundColor: ['#28a745', '#dc3545'],\n          borderWidth: 1\n        }]\n      };\n    }\n\n    const data = educationAnalysis.match_distribution;\n    return {\n      labels: ['Match', 'Unmatch'],\n      datasets: [{\n        label: 'Distribusi Kecocokan',\n        data: [data.Match || 0, data.Unmatch || 0],\n        backgroundColor: ['#28a745', '#dc3545'],\n        borderWidth: 1\n      }]\n    };\n  };\n\n\n\n  const getRiskLevelChart = () => {\n    if (!analytics?.employees || analytics.employees.length === 0) {\n      return {\n        labels: ['Low Risk', 'Medium Risk', 'High Risk'],\n        datasets: [{\n          label: 'Distribusi Risk Level',\n          data: [0, 0, 0],\n          backgroundColor: ['#28a745', '#ffc107', '#dc3545'],\n          borderWidth: 1\n        }]\n      };\n    }\n\n    const employees = analytics.employees;\n    const lowRisk = employees.filter(emp => emp.data_mining_recommendation?.risk_level === 'Low').length;\n    const mediumRisk = employees.filter(emp => emp.data_mining_recommendation?.risk_level === 'Medium').length;\n    const highRisk = employees.filter(emp => emp.data_mining_recommendation?.risk_level === 'High').length;\n\n    return {\n      labels: ['Low Risk', 'Medium Risk', 'High Risk'],\n      datasets: [{\n        label: 'Distribusi Risk Level',\n        data: [lowRisk, mediumRisk, highRisk],\n        backgroundColor: ['#28a745', '#ffc107', '#dc3545'],\n        borderWidth: 1\n      }]\n    };\n  };\n\n  const getContractRecommendationChart = () => {\n    if (!analytics?.employees || analytics.employees.length === 0) {\n      return {\n        labels: ['6 bulan', '12 bulan', '18 bulan', '24 bulan', '36 bulan'],\n        datasets: [{\n          label: 'Jumlah Rekomendasi',\n          data: [0, 0, 0, 0, 0],\n          backgroundColor: 'rgba(0, 123, 255, 0.8)',\n          borderColor: '#007bff',\n          borderWidth: 2\n        }]\n      };\n    }\n\n    const employees = analytics.employees;\n    const duration6 = employees.filter(emp => emp.data_mining_recommendation?.recommended_duration === 6).length;\n    const duration12 = employees.filter(emp => emp.data_mining_recommendation?.recommended_duration === 12).length;\n    const duration18 = employees.filter(emp => emp.data_mining_recommendation?.recommended_duration === 18).length;\n    const duration24 = employees.filter(emp => emp.data_mining_recommendation?.recommended_duration === 24).length;\n    const duration36 = employees.filter(emp => emp.data_mining_recommendation?.recommended_duration === 36).length;\n\n    return {\n      labels: ['6 bulan', '12 bulan', '18 bulan', '24 bulan', '36 bulan'],\n      datasets: [{\n        label: 'Jumlah Rekomendasi',\n        data: [duration6, duration12, duration18, duration24, duration36],\n        backgroundColor: 'rgba(0, 123, 255, 0.8)',\n        borderColor: '#007bff',\n        borderWidth: 2\n      }]\n    };\n  };\n\n  // Fungsi untuk mendapatkan rekomendasi kontrak berdasarkan data mining\n  const getDataMiningRecommendation = (employee) => {\n    // Gunakan data mining recommendation dari backend\n    if (employee.data_mining_recommendation) {\n      return {\n        type: 'data_mining',\n        duration: `${employee.data_mining_recommendation.recommended_duration} bulan`,\n        risk_level: employee.data_mining_recommendation.risk_level,\n        confidence: employee.data_mining_recommendation.confidence_level,\n        reasoning: employee.data_mining_recommendation.reasoning || []\n      };\n    }\n\n    // Fallback untuk backward compatibility\n    const matchStatus = employee.education_job_match || 'Unmatch';\n    const tenure = employee.tenure_months || 0;\n    const currentContract = employee.current_contract_type;\n\n    if (currentContract === 'probation' && tenure >= 3) {\n      if (matchStatus === 'Match') {\n        return {\n          type: 'permanent',\n          reason: 'Good education-job match',\n          duration: 'Permanent',\n          confidence: 'High'\n        };\n      } else {\n        return {\n          type: 'review',\n          reason: 'No education-job match, need performance evaluation',\n          duration: 'Review diperlukan',\n          confidence: 'Low'\n        };\n      }\n    }\n\n    if (tenure >= 12 && currentContract !== 'permanent') {\n      return {\n        type: 'extension',\n        reason: 'Long tenure with good performance',\n        duration: 'Extension recommended',\n        confidence: 'High'\n      };\n    }\n\n    return {\n      type: 'monitor',\n      reason: 'Continue monitoring',\n      duration: 'Monitoring berkelanjutan',\n      confidence: 'Medium'\n    };\n  };\n\n  // Fungsi untuk mendapatkan status match dengan warna\n  // Function to calculate match status locally (same logic as detail modal)\n  const calculateMatchStatusLocal = (employee) => {\n    const major = (employee.major || '').toUpperCase();\n    const role = (employee.role || '').toUpperCase();\n    const designation = (employee.designation || '').toUpperCase();\n    \n    // IT Education Keywords\n    const itEducationKeywords = [\n      'INFORMATION TECHNOLOGY', 'TEKNIK INFORMATIKA', 'ILMU KOMPUTER', 'SISTEM INFORMASI',\n      'COMPUTER SCIENCE', 'SOFTWARE ENGINEERING', 'INFORMATIKA', 'TEKNIK KOMPUTER',\n      'KOMPUTER', 'TEKNOLOGI INFORMASI', 'INFORMATION SYSTEM', 'INFORMATICS ENGINEERING',\n      'INFORMATIC ENGINEERING', 'COMPUTER ENGINEERING', 'INFORMATION MANAGEMENT',\n      'INFORMATICS MANAGEMENT', 'MANAGEMENT INFORMATIKA', 'SISTEM KOMPUTER',\n      'KOMPUTERISASI AKUNTANASI', 'COMPUTERIZED ACCOUNTING', 'COMPUTATIONAL SCIENCE',\n      'INFORMATICS', 'INFORMATICS TECHNOLOGY', 'COMPUTER AND INFORMATICS ENGINEERING',\n      'ENGINEERING INFORMATIC', 'INDUSTRIAL ENGINEERING_INFORMATIC'\n    ];\n    \n    // IT Job Keywords\n    const itJobKeywords = [\n      'DEVELOPER', 'PROGRAMMER', 'SOFTWARE', 'TECHNICAL', 'FRONTEND', 'BACKEND', \n      'FULLSTACK', 'FULL STACK', 'JAVA', 'NET', '.NET', 'API', 'ETL', 'MOBILE',\n      'ANDROID', 'WEB', 'UI/UX', 'FRONT END', 'BACK END', 'PEGA', 'RPA',\n      'ANALYST', 'BUSINESS ANALYST', 'SYSTEM ANALYST', 'DATA ANALYST', 'DATA SCIENTIST',\n      'QUALITY ASSURANCE', 'QA', 'TESTER', 'TEST ENGINEER', 'CONSULTANT',\n      'IT CONSULTANT', 'TECHNOLOGY CONSULTANT', 'TECHNICAL CONSULTANT',\n      'PRODUCT OWNER', 'SCRUM MASTER', 'PMO', 'IT OPERATION', 'DEVOPS',\n      'SYSTEM ADMINISTRATOR', 'DATABASE ADMINISTRATOR', 'NETWORK',\n      'IT QUALITY ASSURANCE', 'TESTING ENGINEER', 'TESTER SUPPORT', 'JR TESTER',\n      'IT TESTER', 'TESTING SPECIALIST', 'TESTING COORDINATOR', 'QUALITY TESTER',\n      'JR QUALITY ASSURANCE', 'QUALITY ASSURANCE TESTER', 'TESTING ENGINEER SPECIALIST',\n      'APPRENTICE TESTER', 'JR TESTER LEVEL 1', 'LEAD QA', 'LEAD BACKEND DEVELOPER'\n    ];\n    \n    // Check IT Education\n    const isItEducation = itEducationKeywords.some(keyword => major.includes(keyword));\n    \n    // Check IT Job (check both role and designation)\n    const isItJob = itJobKeywords.some(keyword => \n      role.includes(keyword) || designation.includes(keyword)\n    );\n    \n    return (isItEducation && isItJob) ? 'Match' : 'Unmatch';\n  };\n\n  const getMatchLevelBadge = (employee) => {\n    // Use local calculation instead of backend data to ensure consistency\n    const matchStatus = calculateMatchStatusLocal(employee);\n    if (matchStatus === 'Match') return <Badge bg=\"success\">Match</Badge>;\n    return <Badge bg=\"danger\">Unmatch</Badge>;\n  };\n\n  const getRiskLevelBadge = (riskLevel) => {\n    if (riskLevel === 'Low') return <Badge bg=\"success\">Risiko Rendah</Badge>;\n    if (riskLevel === 'Medium') return <Badge bg=\"warning\">Risiko Sedang</Badge>;\n    return <Badge bg=\"danger\">Risiko Tinggi</Badge>;\n  };\n\n  const getContractStatusBadge = (contractType, tenure) => {\n    const badges = {\n      'probation': { variant: 'warning', text: 'Probation' },\n      '1': { variant: 'info', text: 'Kontrak 1' },\n      '2': { variant: 'primary', text: 'Kontrak 2' },\n      '3': { variant: 'secondary', text: 'Kontrak 3' },\n      'permanent': { variant: 'success', text: 'Permanent' },\n      null: { variant: 'light', text: 'N/A' }\n    };\n\n    const badge = badges[contractType] || badges[null];\n    \n    if (contractType === 'probation' && tenure >= 3) {\n      return <Badge bg=\"warning\" className=\"border border-danger\">Probation (Ready for Review)</Badge>;\n    }\n\n    return <Badge bg={badge.variant}>{badge.text}</Badge>;\n  };\n\n  const getRecommendationStatusBadge = (employee) => {\n    if (employee.current_contract_type === 'permanent') {\n      return <Badge bg=\"secondary\">-</Badge>;\n    } \n    \n    // Check for Non-IT major elimination\n    const nonItMajors = [\n      'kedokteran', 'farmasi', 'hukum', 'akuntansi', 'manajemen', 'ekonomi',\n      'psikologi', 'bahasa', 'sastra', 'pendidikan', 'sejarah', 'geografi',\n      'biologi', 'kimia', 'fisika', 'matematika', 'pertanian', 'kehutanan',\n      'perikanan', 'kedokteran hewan', 'arsitektur', 'sipil', 'mesin',\n      'elektro', 'industri', 'teknik', 'seni', 'desain', 'komunikasi',\n      'jurnalistik', 'sosiologi', 'antropologi', 'ilmu politik',\n      'hubungan internasional', 'administrasi', 'keperawatan', 'kebidanan',\n      'gizi', 'kesehatan masyarakat', 'olahraga', 'keolahragaan'\n    ];\n    \n    const employeeMajor = employee.major ? employee.major.toLowerCase().trim() : '';\n    const isNonIT = nonItMajors.some(nonItMajor => employeeMajor.includes(nonItMajor));\n    \n    if (isNonIT) {\n      return <Badge bg=\"danger\">TIDAK DIREKOMENDASIKAN</Badge>;\n    }\n    \n    else if (employee.education_job_match === 'Unmatch') {\n      // POLICY: Unmatch employees tetap evaluasi kontrak, tidak langsung permanent\n      // meskipun dynamic intelligence mengatakan \"Siap Permanent\"\n      // Ini untuk memitigasi risk tingginya resign rate pada unmatch employees\n      \n      // Tentukan jenis kontrak evaluasi berdasarkan kontrak saat ini\n      let contractType = '';\n      switch (employee.current_contract_type) {\n        case 'probation':\n          contractType = 'Kontrak 2 (Evaluasi)';\n          break;\n        case '1':\n          contractType = 'Kontrak 2 (Evaluasi)';\n          break;\n        case '2':\n          contractType = 'Kontrak 3 (Evaluasi)';\n          break;\n        case '3':\n          contractType = 'Kontrak 3 (Evaluasi)';\n          break;\n        default:\n          contractType = 'Probation (Evaluasi)';\n          break;\n      }\n      return <Badge bg=\"warning\">{contractType}</Badge>;\n    } else {\n      // Match - show contract type recommendation, not duration\n      const existingRecommendation = processedRecommendations.find(rec => rec.employee_id === employee.eid);\n      if (existingRecommendation && existingRecommendation.recommendation_type) {\n        // Convert recommendation type to display format\n        switch (existingRecommendation.recommendation_type) {\n          case 'permanent':\n            return <Badge bg=\"success\">PERMANENT</Badge>;\n          case 'kontrak2':\n            return <Badge bg=\"info\">Kontrak 2</Badge>;\n          case 'kontrak3':\n            return <Badge bg=\"primary\">Kontrak 3</Badge>;\n          case 'terminate':\n            return <Badge bg=\"danger\">Tidak Diperpanjang</Badge>;\n          default:\n            return <Badge bg=\"secondary\">Kontrak {existingRecommendation.recommendation_type}</Badge>;\n        }\n      } else {\n        // Use Data Intelligence dari backend to determine contract type\n        const duration = employee.data_mining_recommendation?.recommended_duration;\n        \n        // Untuk Kontrak 3, duration 0 berarti Permanent\n        if ((employee.current_contract_type === '3' || employee.current_contract_type === 'kontrak3') && duration === 0) {\n          return <Badge bg=\"success\">PERMANENT</Badge>;\n        }\n        // Determine contract type based on current contract progression\n        else if (employee.current_contract_type === 'probation') {\n          return <Badge bg=\"info\">Kontrak 2</Badge>;\n        } else if (employee.current_contract_type === '1' || employee.current_contract_type === '2') {\n          return <Badge bg=\"primary\">Kontrak 3</Badge>;\n        } else if (employee.current_contract_type === '3') {\n          return <Badge bg=\"success\">PERMANENT</Badge>;\n        } else {\n          return <Badge bg=\"secondary\">Kontrak 2</Badge>;\n        }\n      }\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"container-fluid mt-4\">\n        <div className=\"text-center\">\n          <div className=\"spinner-border text-primary\" role=\"status\">\n            <span className=\"visually-hidden\">Loading...</span>\n          </div>\n          <p className=\"mt-2\">Memuat data intelligence...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <Container fluid className=\"mt-3\">\n      {alert.show && (\n        <Alert variant={alert.type} dismissible onClose={() => setAlert({ show: false, message: '', type: '' })}>\n          {alert.message}\n        </Alert>\n      )}\n      \n      {/* Header dengan tema biru konsisten */}\n      <div className=\"mb-4 p-4 rounded\" style={{\n        background: 'linear-gradient(135deg, #007bff 0%, #0056b3 100%)',\n        color: 'white'\n      }}>\n        <Row className=\"align-items-center\">\n          <Col>\n            <h2>Manager Dashboard</h2>\n            <p className=\"mb-0\">Manager Divisi {user.division_name}</p>\n            <small>Analisis Kecocokan Pendidikan & Rekomendasi Kontrak</small>\n          </Col>\n          <Col xs=\"auto\">\n            <div className=\"text-end\">\n              <h3 className=\"mb-0\">{analytics?.division_stats?.total_employees || 0}</h3>\n              <small>Karyawan Aktif</small>\n            </div>\n          </Col>\n        </Row>\n      </div>\n\n      {/* Navigation Tabs dengan tema biru */}\n      <Tab.Container activeKey={activeTab} onSelect={setActiveTab}>\n        <Nav variant=\"tabs\" className=\"mb-4\">\n          <Nav.Item>\n            <Nav.Link eventKey=\"overview\" style={{\n              color: activeTab === 'overview' ? '#fff' : '#007bff',\n              backgroundColor: activeTab === 'overview' ? '#007bff' : 'transparent',\n              borderColor: '#007bff'\n            }}>\n              Overview\n            </Nav.Link>\n          </Nav.Item>\n          <Nav.Item>\n            <Nav.Link eventKey=\"education\" style={{\n              color: activeTab === 'education' ? '#fff' : '#007bff',\n              backgroundColor: activeTab === 'education' ? '#007bff' : 'transparent',\n              borderColor: '#007bff'\n            }}>\n              Analisis Pendidikan\n            </Nav.Link>\n          </Nav.Item>\n\n          <Nav.Item>\n            <Nav.Link eventKey=\"employees\" style={{\n              color: activeTab === 'employees' ? '#fff' : '#007bff',\n              backgroundColor: activeTab === 'employees' ? '#007bff' : 'transparent',\n              borderColor: '#007bff'\n            }}>\n              Detail Karyawan\n            </Nav.Link>\n          </Nav.Item>\n          <Nav.Item>\n            <Nav.Link eventKey=\"processed\" style={{\n              color: activeTab === 'processed' ? '#fff' : '#007bff',\n              backgroundColor: activeTab === 'processed' ? '#007bff' : 'transparent',\n              borderColor: '#007bff'\n            }}>\n              Rekomendasi Diproses ({processedRecommendations.length})\n            </Nav.Link>\n          </Nav.Item>\n        </Nav>\n\n        <Tab.Content>\n          {/* Overview Tab */}\n          <Tab.Pane eventKey=\"overview\">\n            <Row className=\"mb-4\">\n              {/* Key Metrics Cards dengan gradient biru */}\n              <Col md={4} className=\"mb-3\">\n                <Card className=\"h-100\" style={{\n                  background: 'linear-gradient(135deg, #28a745 0%, #1e7e34 100%)',\n                  color: 'white'\n                }}>\n                  <Card.Body className=\"text-center\">\n                    <h3>{analytics?.division_stats?.data_mining_summary?.match_employees || 0}</h3>\n                    <small>Match Employees</small>\n                  </Card.Body>\n                </Card>\n              </Col>\n              <Col md={4} className=\"mb-3\">\n                <Card className=\"h-100\" style={{\n                  background: 'linear-gradient(135deg, #ffc107 0%, #e0a800 100%)',\n                  color: 'white'\n                }}>\n                  <Card.Body className=\"text-center\">\n                    <h3>{analytics?.division_stats?.data_mining_summary?.recommended_extensions || 0}</h3>\n                    <small>Rekomendasi Perpanjangan</small>\n                  </Card.Body>\n                </Card>\n              </Col>\n              <Col md={4} className=\"mb-3\">\n                <Card className=\"h-100\" style={{\n                  background: 'linear-gradient(135deg, #dc3545 0%, #c82333 100%)',\n                  color: 'white'\n                }}>\n                  <Card.Body className=\"text-center\">\n                    <h3>{analytics?.division_stats?.data_mining_summary?.high_risk_employees || 0}</h3>\n                    <small>High Risk Employees</small>\n                  </Card.Body>\n                </Card>\n              </Col>\n            </Row>\n\n            <Row>\n              <Col md={6} className=\"mb-4\">\n                <Card>\n                  <Card.Header style={{ backgroundColor: '#007bff', color: 'white' }}>\n                    <h5 className=\"mb-0\">ðŸ“Š Distribusi Tingkat Risiko</h5>\n                  </Card.Header>\n                  <Card.Body>\n                    <Doughnut data={getRiskLevelChart()} options={{\n                      responsive: true,\n                      plugins: {\n                        legend: { position: 'bottom' }\n                      }\n                    }} />\n                  </Card.Body>\n                </Card>\n              </Col>\n              <Col md={6} className=\"mb-4\">\n                <Card>\n                  <Card.Header style={{ backgroundColor: '#007bff', color: 'white' }}>\n                    <h5 className=\"mb-0\">ðŸ“ˆ Rekomendasi Durasi Kontrak</h5>\n                  </Card.Header>\n                  <Card.Body>\n                    <Bar data={getContractRecommendationChart()} options={{\n                      responsive: true,\n                      plugins: {\n                        legend: { display: false }\n                      },\n                      scales: {\n                        y: { beginAtZero: true }\n                      }\n                    }} />\n                  </Card.Body>\n                </Card>\n              </Col>\n            </Row>\n\n            {/* Contract Intelligence Summary */}\n            <Card className=\"mb-4\">\n              <Card.Header style={{ backgroundColor: '#007bff', color: 'white' }}>\n                <h5 className=\"mb-0\">ðŸ§  Contract Intelligence Summary</h5>\n              </Card.Header>\n              <Card.Body>\n                <Row>\n                  <Col md={4}>\n                    <div className=\"text-center p-3 border rounded\" style={{ backgroundColor: '#e3f2fd' }}>\n                      <h4 className=\"text-primary\">{analytics?.division_stats?.contract_summary?.probation_ready || 0}</h4>\n                      <small>Probation Ready for Review</small>\n                    </div>\n                  </Col>\n                  <Col md={4}>\n                    <div className=\"text-center p-3 border rounded\" style={{ backgroundColor: '#fff3e0' }}>\n                      <h4 className=\"text-warning\">{analytics?.division_stats?.contract_summary?.contracts_ending || 0}</h4>\n                      <small>Contracts Ending Soon</small>\n                    </div>\n                  </Col>\n                  <Col md={4}>\n                    <div className=\"text-center p-3 border rounded\" style={{ backgroundColor: '#e8f5e8' }}>\n                      <h4 className=\"text-success\">{analytics?.division_stats?.contract_summary?.permanent_eligible || 0}</h4>\n                      <small>Permanent Eligible</small>\n                    </div>\n                  </Col>\n                </Row>\n              </Card.Body>\n            </Card>\n          </Tab.Pane>\n\n          {/* Education Analysis Tab */}\n          <Tab.Pane eventKey=\"education\">\n            <Card>\n              <Card.Header style={{ backgroundColor: '#007bff', color: 'white' }}>\n                <h5 className=\"mb-0\">ðŸŽ“ Analisis Kecocokan Pendidikan-Pekerjaan (Data Mining)</h5>\n              </Card.Header>\n              <Card.Body>\n                <Table responsive striped>\n                  <thead style={{ backgroundColor: '#007bff', color: 'white' }}>\n                    <tr>\n                      <th>Nama</th>\n                      <th>Pendidikan</th>\n                      <th>Posisi</th>\n                      <th>Status Match</th>\n                      <th>Rekomendasi Durasi</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {analytics?.employees?.map((emp, index) => (\n                      <tr key={index}>\n                        <td>\n                          <strong>{emp.name}</strong>\n                          <br />\n                          <small className=\"text-muted\">{emp.tenure_months} bulan</small>\n                        </td>\n                        <td>\n                          <div>{emp.major}</div>\n                          <small className=\"text-muted\">{emp.education_level}</small>\n                        </td>\n                        <td>{emp.role}</td>\n                        <td>\n                          <div className=\"d-flex align-items-center\">\n                            {getMatchLevelBadge(emp)}\n                          </div>\n                        </td>\n                        <td>\n                          {/* FIX: Proper recommendation display with Non-IT check */}\n                          {emp.current_contract_type === 'permanent' ? (\n                            <span>-</span>\n                          ) : (() => {\n                            // Check for Non-IT elimination first\n                            const nonItMajors = [\n                              'kedokteran', 'farmasi', 'hukum', 'akuntansi', 'manajemen', 'ekonomi',\n                              'psikologi', 'bahasa', 'sastra', 'pendidikan', 'sejarah', 'geografi',\n                              'biologi', 'kimia', 'fisika', 'matematika', 'pertanian', 'kehutanan',\n                              'perikanan', 'kedokteran hewan', 'arsitektur', 'sipil', 'mesin',\n                              'elektro', 'industri', 'teknik', 'seni', 'desain', 'komunikasi',\n                              'jurnalistik', 'sosiologi', 'antropologi', 'ilmu politik',\n                              'hubungan internasional', 'administrasi', 'keperawatan', 'kebidanan',\n                              'gizi', 'kesehatan masyarakat', 'olahraga', 'keolahragaan'\n                            ];\n                            const employeeMajor = (emp.major || '').toLowerCase().trim();\n                            const isNonIT = nonItMajors.some(nonItMajor => employeeMajor.includes(nonItMajor));\n                            \n                            if (isNonIT) {\n                              return <Badge bg=\"danger\">TIDAK DIREKOMENDASIKAN</Badge>;\n                            } else if (emp.education_job_match === 'Unmatch') {\n                              // Unmatch - show contract type based on current contract\n                              switch (emp.current_contract_type) {\n                                case 'probation':\n                                  return <Badge bg=\"warning\">Kontrak 2 (Evaluasi)</Badge>;\n                                case '1':\n                                  return <Badge bg=\"warning\">Kontrak 2 (Evaluasi)</Badge>;\n                                case '2':\n                                  return <Badge bg=\"warning\">Kontrak 3 (Evaluasi)</Badge>;\n                                case '3':\n                                  return <Badge bg=\"warning\">Kontrak 3 (Evaluasi)</Badge>;\n                                default:\n                                  return <Badge bg=\"warning\">Probation (Evaluasi)</Badge>;\n                              }\n                            } else {\n                              // Match - show next contract type progression\n                              if ((emp.current_contract_type === '3' || emp.current_contract_type === 'kontrak3')) {\n                                return <Badge bg=\"success\">PERMANENT</Badge>;\n                              } else if (emp.current_contract_type === 'probation') {\n                                return <Badge bg=\"info\">Kontrak 2</Badge>;\n                              } else if (emp.current_contract_type === '1' || emp.current_contract_type === '2') {\n                                return <Badge bg=\"primary\">Kontrak 3</Badge>;\n                              } else {\n                                return <Badge bg=\"secondary\">Kontrak 2</Badge>;\n                              }\n                            }\n                          })()}\n                        </td>\n                      </tr>\n                    )) || []}\n                  </tbody>\n                </Table>\n              </Card.Body>\n            </Card>\n          </Tab.Pane>\n\n\n\n          {/* Employee Details Tab */}\n          <Tab.Pane eventKey=\"employees\">\n            <Card>\n              <Card.Header style={{ backgroundColor: '#007bff', color: 'white' }}>\n                <h5 className=\"mb-0\">ðŸ‘¥ Detail Karyawan Divisi</h5>\n              </Card.Header>\n              <Card.Body>\n                <Table responsive hover>\n                  <thead style={{ backgroundColor: '#e3f2fd' }}>\n                    <tr>\n                      <th>Nama & Departemen</th>\n                      <th>Pendidikan</th>\n                      <th>Join Date</th>\n                                              <th>Years Of Service</th>\n                      <th>Status Kontrak</th>\n                      <th>Status Match</th>\n                      <th>Rekomendasi Kontrak</th>\n                      <th>Status Rekomendasi</th>\n                      <th>Action</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {analytics?.employees.map((emp, index) => (\n                      <tr key={index}>\n                        <td>\n                          <div>\n                            <strong>{emp.name}</strong>\n                            <>\n                              <br />\n                              <small className=\"text-muted\">{emp.role}</small>\n                            </>\n                          </div>\n                        </td>\n                        <td>\n                          {emp.major}\n                          <>\n                            <br />\n                            <small className=\"text-muted\">{emp.education_level}</small>\n                          </>\n                        </td>\n                        <td>{new Date(emp.join_date).toLocaleDateString('id-ID')}</td>\n                        <td>\n                          <Badge bg=\"info\">{emp.tenure_months} bulan</Badge>\n                        </td>\n                        <td>\n                          {getContractStatusBadge(emp.current_contract_type, emp.days_to_contract_end)}\n                        </td>\n                        <td>\n                          <div className=\"d-flex align-items-center\">\n                            {getMatchLevelBadge(emp)}\n                          </div>\n                        </td>\n                        <td>\n                          {/* FIX: Proper recommendation display with Non-IT check */}\n                          {emp.current_contract_type === 'permanent' ? (\n                            <span>-</span>\n                          ) : (() => {\n                            // Check for Non-IT elimination first\n                            const nonItMajors = [\n                              'kedokteran', 'farmasi', 'hukum', 'akuntansi', 'manajemen', 'ekonomi',\n                              'psikologi', 'bahasa', 'sastra', 'pendidikan', 'sejarah', 'geografi',\n                              'biologi', 'kimia', 'fisika', 'matematika', 'pertanian', 'kehutanan',\n                              'perikanan', 'kedokteran hewan', 'arsitektur', 'sipil', 'mesin',\n                              'elektro', 'industri', 'teknik', 'seni', 'desain', 'komunikasi',\n                              'jurnalistik', 'sosiologi', 'antropologi', 'ilmu politik',\n                              'hubungan internasional', 'administrasi', 'keperawatan', 'kebidanan',\n                              'gizi', 'kesehatan masyarakat', 'olahraga', 'keolahragaan'\n                            ];\n                            const employeeMajor = (emp.major || '').toLowerCase().trim();\n                            const isNonIT = nonItMajors.some(nonItMajor => employeeMajor.includes(nonItMajor));\n                            \n                            if (isNonIT) {\n                              return <Badge bg=\"danger\">TIDAK DIREKOMENDASIKAN</Badge>;\n                            } else if (emp.education_job_match === 'Unmatch') {\n                              // Unmatch - show contract type based on current contract\n                              switch (emp.current_contract_type) {\n                                case 'probation':\n                                  return <Badge bg=\"warning\">Kontrak 2 (Evaluasi)</Badge>;\n                                case '1':\n                                  return <Badge bg=\"warning\">Kontrak 2 (Evaluasi)</Badge>;\n                                case '2':\n                                  return <Badge bg=\"warning\">Kontrak 3 (Evaluasi)</Badge>;\n                                case '3':\n                                  return <Badge bg=\"warning\">Kontrak 3 (Evaluasi)</Badge>;\n                                default:\n                                  return <Badge bg=\"warning\">Probation (Evaluasi)</Badge>;\n                              }\n                            } else {\n                              // Match - show next contract type progression\n                              if ((emp.current_contract_type === '3' || emp.current_contract_type === 'kontrak3')) {\n                                return <Badge bg=\"success\">PERMANENT</Badge>;\n                              } else if (emp.current_contract_type === 'probation') {\n                                return <Badge bg=\"info\">Kontrak 2</Badge>;\n                              } else if (emp.current_contract_type === '1' || emp.current_contract_type === '2') {\n                                return <Badge bg=\"primary\">Kontrak 3</Badge>;\n                              } else {\n                                return <Badge bg=\"secondary\">Kontrak 2</Badge>;\n                              }\n                            }\n                          })()}\n                        </td>\n                        <td>\n                          {getRecommendationStatusBadge(emp)}\n                        </td>\n                        <td>\n                          <div className=\"d-flex gap-2\">\n                            {/* Only permanent employees cannot be recommended */}\n                            {emp.current_contract_type === 'permanent' ? (\n                              <div className=\"d-flex flex-column gap-1\">\n                                <Button \n                                  size=\"sm\" \n                                  variant=\"outline-primary\"\n                                  onClick={() => handleEmployeeClick(emp)}\n                                >\n                                  Detail\n                                </Button>\n                                <Button \n                                  size=\"sm\" \n                                  variant=\"outline-danger\"\n                                  disabled\n                                  title=\"Karyawan memiliki kontrak permanent\"\n                                  style={{ \n                                    backgroundColor: '#f8f9fa',\n                                    borderColor: '#dc3545',\n                                    color: '#dc3545',\n                                    cursor: 'not-allowed',\n                                    opacity: 0.7,\n                                    fontSize: '0.7rem',\n                                    padding: '0.25rem 0.4rem',\n                                    lineHeight: '1.2'\n                                  }}\n                                >\n                                  âŒ Tidak Dapat Direkomendasikan\n                                </Button>\n                              </div>\n                            ) : (\n                              <Button \n                                size=\"sm\" \n                                variant=\"success\"\n                                onClick={() => handleCreateRecommendation(emp)}\n                                disabled={\n                                  emp.has_pending_recommendation || \n                                  emp.days_to_contract_end > 30\n                                }\n                                title={\n                                  emp.has_pending_recommendation ? 'Sudah ada rekomendasi pending' :\n                                  emp.days_to_contract_end > 30 ? `Kontrak masih berlaku ${emp.days_to_contract_end} hari lagi` :\n                                  'Lihat detail dan buat rekomendasi untuk karyawan ini'\n                                }\n                              >\n                                Detail & Rekomendasi\n                              </Button>\n                            )}\n                          </div>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </Table>\n              </Card.Body>\n            </Card>\n          </Tab.Pane>\n\n          {/* Processed Recommendations Tab */}\n          <Tab.Pane eventKey=\"processed\">\n            <Card>\n              <Card.Header style={{ backgroundColor: '#28a745', color: 'white' }} className=\"d-flex justify-content-between align-items-center\">\n                <div>\n                  <h5 className=\"mb-0\">âœ… Rekomendasi yang Sudah Diproses HR</h5>\n                  <small>Lihat status rekomendasi Anda dan kontrak yang telah diperpanjang</small>\n                </div>\n                <Button \n                  variant=\"outline-light\" \n                  size=\"sm\" \n                  onClick={fetchProcessedRecommendations}\n                  className=\"ms-2\"\n                >\n                  ðŸ”„ Refresh\n                </Button>\n              </Card.Header>\n              <Card.Body>\n                {processedRecommendations.length > 0 ? (\n                  <Table responsive hover>\n                    <thead style={{ backgroundColor: '#e8f5e8' }}>\n                      <tr>\n                        <th>Karyawan</th>\n                        <th>Rekomendasi Anda</th>\n                        <th>Status HR</th>\n                        <th>Kontrak Baru</th>\n                        <th>Tanggal Diproses</th>\n                        <th>Status</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {processedRecommendations.map((rec, index) => (\n                        <tr key={index}>\n                          <td>\n                            <div>\n                              <strong>{rec.employee.name}</strong>\n                              <br />\n                              <small className=\"text-muted\">{rec.employee.role}</small>\n                            </div>\n                          </td>\n                          <td>\n                            <Badge bg=\"primary\" className=\"me-1\">\n                              {rec.recommendation_type === 'kontrak1' ? 'Kontrak 1' :\n                               rec.recommendation_type === 'kontrak2' ? 'Kontrak 2' :\n                               rec.recommendation_type === 'kontrak3' ? 'Kontrak 3' : rec.recommendation_type}\n                            </Badge>\n                            <br />\n                            <small className=\"text-muted\">{rec.recommended_duration} bulan</small>\n                          </td>\n                          <td>\n                            {rec.status === 'approved' ? (\n                              <Badge bg=\"success\">âœ… Disetujui</Badge>\n                            ) : rec.status === 'extended' ? (\n                              <Badge bg=\"info\">ðŸ”„ Sudah Diperpanjang</Badge>\n                            ) : rec.status === 'resign' ? (\n                              <Badge bg=\"dark\">ðŸ‘‹ Resign</Badge>\n                            ) : (\n                              <Badge bg=\"danger\">âŒ Ditolak</Badge>\n                            )}\n                          </td>\n                                                     <td>\n                             {rec.status === 'resign' ? (\n                               <Badge bg=\"dark\">ðŸ‘‹ Resign</Badge>\n                             ) : rec.status === 'approved' && rec.new_contract?.is_created ? (\n                               <div>\n                                 <Badge bg=\"success\" className=\"mb-1\">{rec.new_contract.type}</Badge>\n                                 <br />\n                                 <small className=\"text-success\">\n                                   <strong>âœ… Kontrak Aktif:</strong><br />\n                                   {rec.new_contract.end_date ? \n                                     `${new Date(rec.new_contract.start_date).toLocaleDateString('id-ID')} - ${new Date(rec.new_contract.end_date).toLocaleDateString('id-ID')}` : \n                                     `Mulai: ${new Date(rec.new_contract.start_date).toLocaleDateString('id-ID')} (Permanent)`\n                                   }\n                                   <br />\n                                   <span className=\"text-muted\">Durasi: {rec.recommended_duration === 'permanent' ? 'Permanent' : `${rec.recommended_duration} bulan`}</span>\n                                 </small>\n                               </div>\n                             ) : rec.status === 'approved' ? (\n                               <Badge bg=\"warning\">â³ Kontrak sedang dibuat</Badge>\n                             ) : (\n                               <small className=\"text-muted\">Tidak ada kontrak baru</small>\n                             )}\n                           </td>\n                          <td>\n                            {new Date(rec.updated_at).toLocaleDateString('id-ID')}\n                          </td>\n                                                     <td>\n                             {rec.status === 'resign' ? (\n                               <Badge bg=\"secondary\">ðŸš« Tidak Dilanjutkan</Badge>\n                             ) : rec.status === 'approved' && rec.new_contract?.is_created ? (\n                               <Badge bg=\"success\">ðŸŽ‰ Kontrak Berhasil Diperpanjang</Badge>\n                             ) : rec.status === 'approved' ? (\n                               <Badge bg=\"warning\">â³ Sedang Memproses Kontrak</Badge>\n                             ) : (\n                               <Badge bg=\"danger\">âŒ Rekomendasi Ditolak</Badge>\n                             )}\n                           </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </Table>\n                ) : (\n                  <div className=\"text-center py-5\">\n                    <div className=\"display-1 mb-3\">ðŸ“‹</div>\n                    <h5>Belum Ada Rekomendasi yang Diproses</h5>\n                    <p className=\"text-muted\">\n                      Rekomendasi yang Anda buat akan muncul di sini setelah diproses oleh HR.\n                    </p>\n                  </div>\n                )}\n              </Card.Body>\n            </Card>\n          </Tab.Pane>\n        </Tab.Content>\n      </Tab.Container>\n\n      {/* Employee Detail Modal */}\n      {showEmployeeModal && selectedEmployee && (\n        <div className=\"modal active\" onClick={() => setShowEmployeeModal(false)}>\n          <div className=\"modal-dialog modal-xl\" style={{ maxWidth: '90vw' }} onClick={(e) => e.stopPropagation()}>\n            <div className=\"modal-content\">\n              <div className=\"modal-header py-3\" style={{ background: 'linear-gradient(135deg, #007bff 0%, #6610f2 100%)', color: 'white' }}>\n                <h5 className=\"modal-title\">\n                  <i className=\"fas fa-user-circle me-2\"></i>\n                  {selectedEmployee.name} - Detail dan Rekomendasi\n                </h5>\n                <button \n                  type=\"button\" \n                  className=\"btn-close btn-close-white\"\n                  onClick={() => setShowEmployeeModal(false)}\n                ></button>\n              </div>\n              \n              <div className=\"modal-body p-3\" style={{ maxHeight: '80vh', overflowY: 'auto' }}>\n                {loadingDetail ? (\n                  <div className=\"text-center py-5\">\n                    <Spinner animation=\"border\" variant=\"primary\" />\n                    <div className=\"mt-3\">Memuat detail karyawan...</div>\n                  </div>\n                ) : employeeDetail && !employeeDetail.error ? (\n                  <div className=\"container-fluid p-0\">\n                    {/* TOP ROW - Basic Info + Key Intelligence + Sample Profiles */}\n                    <div className=\"row mb-4\">\n                      {/* Basic Info */}\n                      <div className=\"col-lg-4\">\n                        <div className=\"card h-100 border-0 shadow-sm\">\n                          <div className=\"card-header py-3 bg-primary text-white\">\n                            <h6 className=\"mb-0\">\n                              <i className=\"fas fa-user me-2\"></i>\n                              Informasi Karyawan\n                            </h6>\n                          </div>\n                          <div className=\"card-body p-3\">\n                            <div className=\"mb-3\">\n                              <small className=\"text-muted d-block\">Nama</small>\n                              <div className=\"fw-bold text-dark\">{employeeDetail.employee.name}</div>\n                            </div>\n                            <div className=\"mb-3\">\n                              <small className=\"text-muted d-block\">Posisi</small>\n                              <div className=\"fw-bold text-dark\">{employeeDetail.employee.role}</div>\n                            </div>\n                            <div className=\"mb-3\">\n                              <small className=\"text-muted d-block\">Divisi</small>\n                              <div className=\"fw-bold text-dark\">{employeeDetail.employee.division_name}</div>\n                            </div>\n                            <div className=\"mb-3\">\n                              <small className=\"text-muted d-block\">Tenure</small>\n                              <div className=\"fw-bold text-dark\">{Math.round(employeeDetail.employee.tenure_months)} bulan</div>\n                            </div>\n                            <div className=\"mb-3\">\n                              <small className=\"text-muted d-block\">Pendidikan</small>\n                              <div className=\"fw-bold text-dark\">{employeeDetail.employee.education_level} - {employeeDetail.employee.major}</div>\n                            </div>\n                            <div className=\"mb-3\">\n                              <small className=\"text-muted d-block\">Match Status</small>\n                              <div>\n                                {employeeDetail.education_match_analysis?.match_status ? (\n                                  <span className={`badge ${employeeDetail.education_match_analysis.match_status === 'Match' ? 'bg-success' : 'bg-warning'}`}>\n                                    {employeeDetail.education_match_analysis.match_status}\n                                  </span>\n                                ) : (\n                                  <span className=\"badge bg-secondary\">N/A</span>\n                                )}\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      \n                      {/* Key Intelligence */}\n                      <div className=\"col-lg-4\">\n                        <div className=\"card h-100 border-0 shadow-sm\">\n                          <div className=\"card-header py-3 bg-success text-white\">\n                            <h6 className=\"mb-0\">\n                              <i className=\"fas fa-brain me-2\"></i>\n                              Data Intelligence & Statistics\n                            </h6>\n                          </div>\n                          <div className=\"card-body p-3\">\n                            <div className=\"row\">\n                              <div className=\"col-6\">\n                                <div className=\"mb-3\">\n                                  <small className=\"text-muted d-block\">Status</small>\n                                  <div className=\"fw-bold text-success\">{employeeDetail.dynamic_intelligence?.match_category || 'Tidak Ada Data'}</div>\n                                </div>\n                                <div className=\"mb-3\">\n                                  <small className=\"text-muted d-block\">Sample Size</small>\n                                  <div className=\"fw-bold text-dark\">{employeeDetail.dynamic_intelligence?.sample_size || 0} profil</div>\n                                </div>\n                                <div className=\"mb-3\">\n                                  <small className=\"text-muted d-block\">Rekomendasi</small>\n                                  <div className=\"fw-bold text-primary\">\n                                    {(() => {\n                                      const duration = employeeDetail.dynamic_intelligence?.optimal_duration;\n                                      const category = employeeDetail.dynamic_intelligence?.match_category;\n                                      const employee = employeeDetail.employee;\n                                      \n                                      // Check for Non-IT elimination first\n                                      const nonItMajors = [\n                                        'kedokteran', 'farmasi', 'hukum', 'akuntansi', 'manajemen', 'ekonomi',\n                                        'psikologi', 'bahasa', 'sastra', 'pendidikan', 'sejarah', 'geografi',\n                                        'biologi', 'kimia', 'fisika', 'matematika', 'pertanian', 'kehutanan',\n                                        'perikanan', 'kedokteran hewan', 'arsitektur', 'sipil', 'mesin',\n                                        'elektro', 'industri', 'teknik', 'seni', 'desain', 'komunikasi',\n                                        'jurnalistik', 'sosiologi', 'antropologi', 'ilmu politik',\n                                        'hubungan internasional', 'administrasi', 'keperawatan', 'kebidanan',\n                                        'gizi', 'kesehatan masyarakat', 'olahraga', 'keolahragaan'\n                                      ];\n                                      \n                                      const employeeMajor = employee.major ? employee.major.toLowerCase().trim() : '';\n                                      const isNonIT = nonItMajors.some(nonItMajor => employeeMajor.includes(nonItMajor));\n                                      \n                                      if (isNonIT || category === 'Tidak Direkomendasikan') {\n                                        return 'Tidak Direkomendasikan';\n                                      } else if (category === 'Sudah Permanent') {\n                                        return 'Sudah Permanent';\n                                      }\n                                      // UNMATCH employees - KONSISTEN dengan tabel dan form\n                                      else if (employee.education_job_match === 'Unmatch') {\n                                        // Untuk unmatch, selalu evaluasi kontrak sesuai kontrak saat ini\n                                        if (employee.current_contract_type === '3') {\n                                          return 'Kontrak 3 (Evaluasi)';\n                                        } else if (employee.current_contract_type === '2') {\n                                          return 'Kontrak 3 (Evaluasi)';\n                                        } else {\n                                          return 'Kontrak 2 (Evaluasi)';\n                                        }\n                                      }\n                                      // MATCH employees - ikuti dynamic intelligence\n                                      else if (employee.education_job_match === 'Match') {\n                                        if (employee.current_contract_type === '3' && \n                                            (category === 'Siap Permanent' || duration === 0)) {\n                                          return 'Permanent';\n                                        } else if (duration === 0 && category !== 'Tidak Direkomendasikan') {\n                                          return 'Permanent';\n                                        } else if (duration && duration > 0) {\n                                          return `${duration} bulan`;\n                                        } else {\n                                          return 'Perlu Evaluasi';\n                                        }\n                                      } else {\n                                        return 'Perlu Evaluasi';\n                                      }\n                                    })()}\n                                  </div>\n                                </div>\n                              </div>\n                              <div className=\"col-6\">\n                                {employeeDetail.dynamic_intelligence?.historical_patterns && (\n                                  <div>\n                                    <div className=\"mb-2\">\n                                      <small className=\"text-muted d-block\">Masih Aktif</small>\n                                      <div className=\"fw-bold text-success\">{employeeDetail.dynamic_intelligence.historical_patterns.success_rate || 0}%</div>\n                                    </div>\n                                    <div className=\"mb-2\">\n                                      <small className=\"text-muted d-block\">Sudah Resign</small>\n                                      <div className=\"fw-bold text-danger\">{employeeDetail.dynamic_intelligence.historical_patterns.resign_rate || 0}%</div>\n                                    </div>\n                                    <div className=\"mb-2\">\n                                      <small className=\"text-muted d-block\">Avg Tenure</small>\n                                      <div className=\"fw-bold text-primary\">\n                                        {employeeDetail.dynamic_intelligence.historical_patterns.avg_duration ? \n                                         employeeDetail.dynamic_intelligence.historical_patterns.avg_duration.toFixed(1) : '0'} bulan\n                                      </div>\n                                    </div>\n                                  </div>\n                                )}\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      \n                      {/* Sample Profiles - SINGLE SECTION */}\n                      <div className=\"col-lg-4\">\n                        <div className=\"card h-100 border-0 shadow-sm\">\n                          <div className=\"card-header py-3\" style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', color: 'white' }}>\n                            <h6 className=\"mb-0\">\n                              <i className=\"fas fa-users me-2\"></i>\n                              Profil Serupa ({employeeDetail.dynamic_intelligence?.historical_patterns?.total_similar || 0})\n                            </h6>\n                          </div>\n                          <div className=\"card-body p-2\" style={{ maxHeight: '300px', overflowY: 'auto', backgroundColor: '#f8f9fa' }}>\n                            {employeeDetail.dynamic_intelligence?.historical_patterns?.profiles?.length > 0 ? (\n                              <div className=\"d-flex flex-column gap-2\">\n                                {employeeDetail.dynamic_intelligence.historical_patterns.profiles.slice(0, 6).map((profile, idx) => (\n                                  <div key={profile.eid} className=\"card border-0 shadow-sm\" style={{ backgroundColor: 'white', borderRadius: '6px' }}>\n                                    <div className=\"card-body p-2\">\n                                      <div className=\"small\">\n                                        <div className=\"fw-bold text-primary mb-1 text-truncate\" title={profile.name} style={{ fontSize: '0.8rem' }}>\n                                          <i className=\"fas fa-user-circle me-1\"></i>\n                                          {profile.name}\n                                        </div>\n                                        <div className=\"text-muted mb-1\" style={{ fontSize: '0.7rem', lineHeight: '1.2' }}>\n                                          <i className=\"fas fa-graduation-cap me-1\"></i>\n                                          {profile.major} â†’ {profile.role}\n                                        </div>\n                                        <div className=\"d-flex justify-content-between align-items-center\">\n                                          <div className=\"badge bg-info text-dark\" style={{ fontSize: '0.6rem', padding: '0.2rem 0.4rem' }}>\n                                            {profile.current_contract_type || 'N/A'}\n                                          </div>\n                                          <div className={`fw-bold ${profile.status_summary === 'Aktif' ? 'text-success' : 'text-danger'}`} style={{ fontSize: '0.7rem' }}>\n                                            {profile.status_summary} ({Math.round(profile.total_tenure_months)}m)\n                                          </div>\n                                        </div>\n                                      </div>\n                                    </div>\n                                  </div>\n                                ))}\n                              </div>\n                            ) : (\n                              <div className=\"text-center py-3\">\n                                <i className=\"fas fa-users fa-2x text-muted mb-2\"></i>\n                                <div className=\"text-muted small\">Tidak ada profil serupa</div>\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  \n                    {/* FORM REKOMENDASI KONTRAK - MOVED HERE */}\n                    <div className=\"row\">\n                      <div className=\"col-12\">\n                        <div className=\"card border-0 shadow-sm\">\n                          <div className=\"card-header py-3\" style={{ background: 'linear-gradient(135deg, #fd7e14 0%, #ffc107 100%)', color: 'white' }}>\n                            <h6 className=\"mb-0\">\n                              <i className=\"fas fa-file-signature me-2\"></i>\n                              Form Rekomendasi Kontrak\n                            </h6>\n                            <small className=\"opacity-75\">Pilih tipe kontrak dan durasi yang sesuai berdasarkan analisis data</small>\n                          </div>\n                          <div className=\"card-body p-4\">\n                            {/* Dynamic Intelligence Suggestion */}\n                            {employeeDetail.dynamic_intelligence && (\n                              <div className=\"alert alert-info border-0 shadow-sm mb-4\">\n                                <div className=\"d-flex align-items-center\">\n                                  <i className=\"fas fa-brain fa-2x text-info me-3\"></i>\n                                  <div>\n                                    <h6 className=\"alert-heading mb-2\">\n                                      <i className=\"fas fa-lightbulb me-1\"></i>\n                                      Dynamic Intelligence Suggestion\n                                    </h6>\n                                    <div className=\"row\">\n                                      <div className=\"col-md-4\">\n                                        <small className=\"text-muted d-block\">Status Kategori</small>\n                                        <strong>{employeeDetail.dynamic_intelligence.match_category}</strong>\n                                      </div>\n                                      <div className=\"col-md-4\">\n                                        <small className=\"text-muted d-block\">Durasi Optimal</small>\n                                        <strong className=\"text-primary\">\n                                          {employeeDetail.dynamic_intelligence.match_category === 'Tidak Direkomendasikan' \n                                            ? 'Tidak Direkomendasikan' \n                                            : (employeeDetail.dynamic_intelligence.optimal_duration === 0 ? 'Permanent' : `${employeeDetail.dynamic_intelligence.optimal_duration} bulan`)}\n                                        </strong>\n                                      </div>\n                                      <div className=\"col-md-4\">\n                                        <small className=\"text-muted d-block\">Sample Size</small>\n                                        <strong>{employeeDetail.dynamic_intelligence.sample_size} profil serupa</strong>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            )}\n\n                            <div className=\"row\">\n                              <div className=\"col-md-6\">\n                                <div className=\"mb-4\">\n                                  <label htmlFor=\"recommendation_type\" className=\"form-label fw-bold\">\n                                    <i className=\"fas fa-clipboard-list me-2\"></i>\n                                    Jenis Rekomendasi\n                                  </label>\n                                  <select \n                                    id=\"recommendation_type\"\n                                    name=\"recommendation_type\"\n                                    className=\"form-select form-select-lg\"\n                                    value={recommendationData.recommendation_type || ''}\n                                    onChange={(e) => {\n                                      const newType = e.target.value;\n                                      setRecommendationData(prev => ({\n                                        ...prev,\n                                        recommendation_type: newType,\n                                        // Reset duration when changing contract type\n                                        recommended_duration: newType === 'permanent' ? 0 : (newType === 'terminate' ? 0 : '')\n                                      }));\n                                    }}\n                                  >\n                                    <option value=\"\">Pilih Jenis Kontrak</option>\n                                    <option value=\"kontrak2\">Kontrak 2</option>\n                                    <option value=\"kontrak3\">Kontrak 3</option>\n                                    <option value=\"permanent\">Permanent</option>\n                                    <option value=\"terminate\">\n                                      {recommendationData.reason && recommendationData.reason.includes('ELIMINASI OTOMATIS') \n                                        ? 'TIDAK DIREKOMENDASIKAN' \n                                        : 'Tidak Diperpanjang'}\n                                    </option>\n                                  </select>\n                                </div>\n                              </div>\n                              <div className=\"col-md-6\">\n                                <div className=\"mb-4\">\n                                  <label htmlFor=\"recommended_duration_select\" className=\"form-label fw-bold\">\n                                    <i className=\"fas fa-calendar-alt me-2\"></i>\n                                    Durasi Optimal (bulan)\n                                  </label>\n                                  \n                                  {/* Show dropdown for Kontrak 2 and Kontrak 3 */}\n                                  {(recommendationData.recommendation_type === 'kontrak2' || recommendationData.recommendation_type === 'kontrak3') ? (\n                                    <select\n                                      id=\"recommended_duration_select\"\n                                      name=\"recommended_duration_select\"\n                                      className=\"form-select form-select-lg\"\n                                      value={recommendationData.recommended_duration || ''}\n                                      onChange={(e) => setRecommendationData(prev => ({\n                                        ...prev,\n                                        recommended_duration: e.target.value\n                                      }))}\n                                    >\n                                      <option value=\"\">Pilih durasi kontrak</option>\n                                      <option value=\"6\">6 Bulan</option>\n                                      <option value=\"12\">12 Bulan</option>\n                                      <option value=\"18\">18 Bulan</option>\n                                      <option value=\"24\">24 Bulan</option>\n                                    </select>\n                                  ) : (\n                                    <input\n                                      id=\"recommended_duration\"\n                                      name=\"recommended_duration\"\n                                      type=\"number\"\n                                      className=\"form-control form-control-lg\"\n                                      value={recommendationData.recommended_duration || ''}\n                                      onChange={(e) => setRecommendationData(prev => ({\n                                        ...prev,\n                                        recommended_duration: e.target.value\n                                      }))}\n                                      disabled={recommendationData.recommendation_type === 'permanent' || recommendationData.recommendation_type === 'terminate'}\n                                      placeholder=\"Masukkan durasi dalam bulan\"\n                                      min=\"1\"\n                                      max=\"36\"\n                                    />\n                                  )}\n                                  \n                                  {/* Helper text for different contract types */}\n                                  {(recommendationData.recommendation_type === 'kontrak2' || recommendationData.recommendation_type === 'kontrak3') && (\n                                    <div className=\"mt-2\">\n                                      <small className=\"text-info\">\n                                        <i className=\"fas fa-info-circle me-1\"></i>\n                                        Pilih durasi yang sesuai berdasarkan rekomendasi sistem dan performa karyawan\n                                      </small>\n                                    </div>\n                                  )}\n                                  {recommendationData.recommendation_type === 'permanent' && (\n                                    <div className=\"mt-2\">\n                                      <small className=\"text-success\">\n                                        <i className=\"fas fa-info-circle me-1\"></i>\n                                        Permanent - tidak memerlukan durasi\n                                      </small>\n                                    </div>\n                                  )}\n                                  {recommendationData.recommendation_type === 'terminate' && (\n                                    <div className=\"mt-2\">\n                                      <small className=\"text-danger\">\n                                        <i className=\"fas fa-exclamation-triangle me-1\"></i>\n                                        {recommendationData.reason && recommendationData.reason.includes('ELIMINASI OTOMATIS') \n                                          ? 'ELIMINASI OTOMATIS - Jurusan Non-IT tidak direkomendasikan' \n                                          : 'Tidak diperpanjang - kontrak berakhir'}\n                                      </small>\n                                    </div>\n                                  )}\n                                </div>\n                              </div>\n                            </div>\n                            \n                            <div className=\"mb-4\">\n                              <label htmlFor=\"recommendationReason\" className=\"form-label fw-bold\">\n                                <i className=\"fas fa-comment-alt me-2\"></i>\n                                Alasan Rekomendasi\n                              </label>\n                              <textarea\n                                id=\"recommendationReason\"\n                                name=\"recommendationReason\"\n                                className=\"form-control\"\n                                rows=\"4\"\n                                value={recommendationData.reason || ''}\n                                onChange={(e) => setRecommendationData(prev => ({\n                                  ...prev,\n                                  reason: e.target.value\n                                }))}\n                                placeholder=\"Jelaskan alasan rekomendasi berdasarkan analisis data, performa karyawan, dan kebutuhan perusahaan...\"\n                                style={{ resize: 'vertical' }}\n                              />\n                              <div className=\"form-text\">\n                                <i className=\"fas fa-lightbulb me-1\"></i>\n                                Tip: Sertakan justifikasi berdasarkan match status, tenure, dan analisis data mining\n                              </div>\n                            </div>\n\n                            <div className=\"text-center\">\n                              <button \n                                type=\"button\" \n                                className=\"btn btn-success btn-lg px-5\"\n                                onClick={submitRecommendation}\n                                                                disabled={\n                                  !(employeeDetail?.employee?.eid || selectedEmployee?.eid) || \n                                  !recommendationData.recommendation_type || \n                                  // Validate duration for kontrak2 and kontrak3\n                                  (['kontrak2', 'kontrak3'].includes(recommendationData.recommendation_type) && \n                                   (!recommendationData.recommended_duration || recommendationData.recommended_duration === '0'))\n                                }\n                                title={\n                                  !(employeeDetail?.employee?.eid || selectedEmployee?.eid) ? 'Data karyawan tidak lengkap' :\n                                  !recommendationData.recommendation_type ? 'Pilih jenis rekomendasi' :\n                                  (['kontrak2', 'kontrak3'].includes(recommendationData.recommendation_type) && \n                                   (!recommendationData.recommended_duration || recommendationData.recommended_duration === '0')) ? 'Pilih durasi kontrak' :\n                                  'Kirim rekomendasi ke HR'\n                                }\n                              >\n                                <i className=\"fas fa-paper-plane me-2\"></i>\n                                Kirim Rekomendasi ke HR\n                              </button>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                ) : (\n                  <div className=\"alert alert-danger border-0 shadow-sm\">\n                    <h4 className=\"alert-heading\">\n                      <i className=\"fas fa-exclamation-triangle me-2\"></i>\n                      Gagal memuat detail karyawan\n                    </h4>\n                    {employeeDetail?.error ? (\n                      <div>\n                        <p><strong>Error:</strong> {employeeDetail.errorMessage}</p>\n                        <details>\n                          <summary>Debug Information</summary>\n                          <div className=\"mt-2\">\n                            <p><strong>Employee:</strong> {employeeDetail.employee?.name} (EID: {employeeDetail.employee?.eid})</p>\n                            <p><strong>Contract:</strong> {employeeDetail.employee?.current_contract_type}</p>\n                            <p><strong>Possible causes:</strong></p>\n                            <ul>\n                              <li>Session expired - try refreshing the page</li>\n                              <li>Network connection issues</li>\n                              <li>Server configuration problems</li>\n                            </ul>\n                            <p className=\"small text-muted\">Check browser console for more details (F12 â†’ Console)</p>\n                          </div>\n                        </details>\n                      </div>\n                    ) : (\n                      <p>Terjadi kesalahan saat mengambil data analisis karyawan. Silakan coba lagi atau hubungi administrator sistem.</p>\n                    )}\n                  </div>\n                )}\n              </div>\n              <div className=\"modal-footer py-3 bg-light\">\n                <button \n                  type=\"button\" \n                  className=\"btn btn-secondary px-4\"\n                  onClick={() => setShowEmployeeModal(false)}\n                >\n                  <i className=\"fas fa-times me-2\"></i>\n                  Tutup\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </Container>\n  );\n};\n\nexport default ManagerDashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}