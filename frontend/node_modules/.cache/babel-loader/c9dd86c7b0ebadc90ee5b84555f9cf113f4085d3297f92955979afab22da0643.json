{"ast":null,"code":"import _objectSpread from\"C:/xampp/htdocs/web_srk_BI/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{Container,Row,Col,Card,Table,Button,Badge,Nav,Tab,Alert}from'react-bootstrap';import{Chart as ChartJS,CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend,ArcElement}from'chart.js';import{Bar,Doughnut}from'react-chartjs-2';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend,ArcElement);const ManagerDashboard=()=>{var _analytics$division_s,_employeeDetail$emplo,_employeeDetail$dynam,_employeeDetail$dynam2,_employeeDetail$dynam5,_employeeDetail$dynam6,_employeeDetail$dynam7,_employeeDetail$dynam8,_employeeDetail$emplo2;const[analytics,setAnalytics]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[activeTab,setActiveTab]=useState('overview');const[showEmployeeModal,setShowEmployeeModal]=useState(false);const[showRecommendationModal,setShowRecommendationModal]=useState(false);const[employeeDetail,setEmployeeDetail]=useState(null);const[recommendationData,setRecommendationData]=useState({recommendation_type:'',recommended_duration:'',reason:''});const[alert,setAlert]=useState({show:false,message:'',type:''});const[processedRecommendations,setProcessedRecommendations]=useState([]);const user=JSON.parse(localStorage.getItem('user')||'{}');useEffect(()=>{fetchManagerData();fetchProcessedRecommendations();},[]);const fetchManagerData=async()=>{try{setLoading(true);const response=await axios.get('/employees.php?action=manager_analytics',{withCredentials:true,timeout:15000});if(response.data.success){setAnalytics(response.data.data);}else{setError(response.data.error||'Failed to fetch data');}}catch(err){console.error('Analytics error:',err);setError('Network error or session expired');}finally{setLoading(false);}};const fetchProcessedRecommendations=async()=>{try{const response=await axios.get('/recommendations.php',{withCredentials:true,timeout:10000});if(response.data.success){const processed=response.data.data.filter(rec=>rec.status==='approved'||rec.status==='rejected');setProcessedRecommendations(processed);}}catch(err){console.error('Processed recommendations error:',err);}};const fetchEmployeeDetail=async eid=>{try{console.log(\"\\uD83D\\uDD0D Fetching employee detail for EID: \".concat(eid));const response=await axios.get(\"/employees.php?action=employee_data_mining_detail&eid=\".concat(eid),{withCredentials:true,timeout:15000});console.log('âœ… Employee detail response:',response.data);if(response.data.success){setEmployeeDetail(response.data.data);return response.data.data;}else{console.error('âŒ Employee detail API error:',response.data.error);throw new Error(response.data.error||'Failed to fetch employee detail');}}catch(error){console.error('âŒ Network/Parse error:',error);setEmployeeDetail({error:true,errorMessage:error.message,employee:{eid,name:'Unknown'}});throw new Error('Server returned invalid JSON. Check browser console for details.');}};const handleEmployeeClick=async employee=>{try{setShowEmployeeModal(true);setEmployeeDetail(null);console.log(\"\\uD83D\\uDD0D Loading detail for employee:\",employee);const detail=await fetchEmployeeDetail(employee.eid);console.log('âœ… Employee detail loaded successfully');}catch(error){console.error('âŒ Failed to fetch employee detail:',error);showAlert(\"Gagal memuat detail karyawan: \".concat(error.message),'danger');}};const handleCreateRecommendation=async employee=>{try{var _detail$dynamic_intel,_detail$dynamic_intel2,_detail$dynamic_intel3,_detail$dynamic_intel4;setShowRecommendationModal(true);setEmployeeDetail(null);const detail=await fetchEmployeeDetail(employee.eid);const category=(_detail$dynamic_intel=detail.dynamic_intelligence)===null||_detail$dynamic_intel===void 0?void 0:_detail$dynamic_intel.match_category;const duration=(_detail$dynamic_intel2=detail.dynamic_intelligence)===null||_detail$dynamic_intel2===void 0?void 0:_detail$dynamic_intel2.optimal_duration;let defaultType='';let defaultDuration='';let defaultReason=\"Berdasarkan dynamic intelligence analysis: \".concat(category,\". \");if(category==='Siap Permanent'||employee.current_contract_type==='3'&&duration===0){defaultType='permanent';defaultDuration=0;defaultReason+='Karyawan layak untuk kontrak permanent.';}else if(duration>0){defaultType=employee.current_contract_type==='2'?'kontrak3':'kontrak2';defaultDuration=duration;defaultReason+=\"Rekomendasi durasi \".concat(duration,\" bulan berdasarkan analisis historical patterns.\");}setRecommendationData({eid:employee.eid,employee_name:employee.name,recommendation_type:defaultType,recommended_duration:defaultDuration,reason:defaultReason+(((_detail$dynamic_intel3=detail.dynamic_intelligence)===null||_detail$dynamic_intel3===void 0?void 0:(_detail$dynamic_intel4=_detail$dynamic_intel3.reasoning)===null||_detail$dynamic_intel4===void 0?void 0:_detail$dynamic_intel4[0])||' Analisis data mining menunjukkan tingkat kecocokan yang baik.')});}catch(error){console.error('Failed to load employee for recommendation:',error);showAlert(\"Gagal memuat data karyawan: \".concat(error.message),'danger');}};const submitRecommendation=async()=>{try{const response=await axios.post('/employees.php',_objectSpread({action:'recommend'},recommendationData),{withCredentials:true,headers:{'Content-Type':'application/json'}});if(response.data.success){showAlert('Rekomendasi berhasil dikirim ke HR!','success');setShowRecommendationModal(false);fetchManagerData();}else{showAlert(\"Gagal mengirim rekomendasi: \".concat(response.data.error),'danger');}}catch(error){console.error('Submit recommendation error:',error);showAlert('Error mengirim rekomendasi. Silakan coba lagi.','danger');}};const showAlert=(message,type)=>{setAlert({show:true,message,type});setTimeout(()=>setAlert({show:false,message:'',type:''}),5000);};const getMatchLevelBadge=matchStatus=>{if(matchStatus==='Match')return/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:\"Match\"});if(matchStatus==='Unmatch')return/*#__PURE__*/_jsx(Badge,{bg:\"danger\",children:\"Unmatch\"});return/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:\"N/A\"});};const getContractStatusBadge=(contractType,tenure)=>{if(contractType==='permanent')return/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:\"Permanent\"});if(contractType==='probation')return/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:\"Probation\"});if(contractType==='3'||contractType==='kontrak3')return/*#__PURE__*/_jsx(Badge,{bg:\"info\",children:\"Kontrak 3\"});if(contractType==='2'||contractType==='kontrak2')return/*#__PURE__*/_jsx(Badge,{bg:\"primary\",children:\"Kontrak 2\"});return/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:\"N/A\"});};const getRecommendationStatusBadge=employee=>{if(employee.current_contract_type==='permanent'){return/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:\"-\"});}else if(employee.education_job_match==='Unmatch'){return/*#__PURE__*/_jsx(Badge,{bg:\"danger\",children:\"TIDAK DIREKOMENDASIKAN\"});}else{const existingRecommendation=processedRecommendations.find(rec=>rec.employee_id===employee.eid);if(existingRecommendation&&existingRecommendation.recommended_duration){return/*#__PURE__*/_jsxs(Badge,{bg:\"success\",children:[existingRecommendation.recommended_duration,\" bulan\"]});}else{var _employee$data_mining;const duration=(_employee$data_mining=employee.data_mining_recommendation)===null||_employee$data_mining===void 0?void 0:_employee$data_mining.recommended_duration;if((employee.current_contract_type==='3'||employee.current_contract_type==='kontrak3')&&duration===0){return/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:\"PERMANENT\"});}else if(duration&&duration>0){return/*#__PURE__*/_jsxs(Badge,{bg:\"success\",children:[duration,\" bulan\"]});}else{if(employee.current_contract_type==='3'){return/*#__PURE__*/_jsx(Badge,{bg:\"info\",children:\"PERMANENT\"});}else if(employee.current_contract_type==='2'){return/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:\"6 bulan (Evaluasi)\"});}else{return/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:\"Tidak Ada Data\"});}}}}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2\",children:\"Memuat data intelligence...\"})]})});}return/*#__PURE__*/_jsxs(Container,{fluid:true,className:\"mt-3\",children:[alert.show&&/*#__PURE__*/_jsx(Alert,{variant:alert.type,dismissible:true,onClose:()=>setAlert({show:false,message:'',type:''}),children:alert.message}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-4 rounded\",style:{background:'linear-gradient(135deg, #007bff 0%, #0056b3 100%)',color:'white'},children:/*#__PURE__*/_jsxs(Row,{className:\"align-items-center\",children:[/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Manager Dashboard - Data Intelligence\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"Analisis Kecocokan Pendidikan & Rekomendasi Kontrak untuk Divisi\"}),/*#__PURE__*/_jsxs(\"small\",{children:[user.division_name,\" | Business Intelligence System\"]})]}),/*#__PURE__*/_jsx(Col,{xs:\"auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-end\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-0\",children:(analytics===null||analytics===void 0?void 0:(_analytics$division_s=analytics.division_stats)===null||_analytics$division_s===void 0?void 0:_analytics$division_s.total_employees)||0}),/*#__PURE__*/_jsx(\"small\",{children:\"Karyawan Aktif\"})]})})]})}),/*#__PURE__*/_jsxs(Tab.Container,{activeKey:activeTab,onSelect:setActiveTab,children:[/*#__PURE__*/_jsxs(Nav,{variant:\"tabs\",className:\"mb-4\",children:[/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(Nav.Link,{eventKey:\"employees\",style:{color:activeTab==='employees'?'#fff':'#007bff',backgroundColor:activeTab==='employees'?'#007bff':'transparent',borderColor:'#007bff'},children:\"Detail Karyawan\"})}),/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsxs(Nav.Link,{eventKey:\"processed\",style:{color:activeTab==='processed'?'#fff':'#007bff',backgroundColor:activeTab==='processed'?'#007bff':'transparent',borderColor:'#007bff'},children:[\"Rekomendasi Diproses (\",processedRecommendations.length,\")\"]})})]}),/*#__PURE__*/_jsxs(Tab.Content,{children:[/*#__PURE__*/_jsx(Tab.Pane,{eventKey:\"employees\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{style:{backgroundColor:'#007bff',color:'white'},children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"\\uD83D\\uDC65 Detail Karyawan Divisi\"})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Table,{responsive:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{style:{backgroundColor:'#e3f2fd'},children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Nama & Departemen\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Pendidikan\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Join Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Years Of Service\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status Kontrak\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status Match\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Rekomendasi Kontrak\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status Rekomendasi\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:analytics===null||analytics===void 0?void 0:analytics.employees.map((emp,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:emp.name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:emp.role})]})}),/*#__PURE__*/_jsxs(\"td\",{children:[emp.major,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:emp.education_level})]}),/*#__PURE__*/_jsx(\"td\",{children:new Date(emp.join_date).toLocaleDateString('id-ID')}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(Badge,{bg:\"info\",children:[emp.tenure_months,\" bulan\"]})}),/*#__PURE__*/_jsx(\"td\",{children:getContractStatusBadge(emp.current_contract_type,emp.days_to_contract_end)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center\",children:getMatchLevelBadge(emp.education_job_match)})}),/*#__PURE__*/_jsx(\"td\",{children:emp.current_contract_type==='permanent'?/*#__PURE__*/_jsx(\"span\",{children:\"-\"}):emp.education_job_match==='Unmatch'?/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:(_emp$data_mining_reco=>{const duration=(_emp$data_mining_reco=emp.data_mining_recommendation)===null||_emp$data_mining_reco===void 0?void 0:_emp$data_mining_reco.recommended_duration;if(duration&&duration>0){return\"\".concat(duration,\" bulan (Evaluasi)\");}else{return'6 bulan (Evaluasi)';}})()}):/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:(_emp$data_mining_reco2=>{const duration=(_emp$data_mining_reco2=emp.data_mining_recommendation)===null||_emp$data_mining_reco2===void 0?void 0:_emp$data_mining_reco2.recommended_duration;if((emp.current_contract_type==='3'||emp.current_contract_type==='kontrak3')&&(duration===0||duration===null)){return'Permanent';}else if(duration&&duration>0){return\"\".concat(duration,\" bulan\");}else{return'6 bulan (Default)';}})()})}),/*#__PURE__*/_jsx(\"td\",{children:getRecommendationStatusBadge(emp)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2\",children:[/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"outline-primary\",onClick:()=>handleEmployeeClick(emp),children:\"Detail\"}),emp.current_contract_type==='permanent'?/*#__PURE__*/_jsxs(Button,{size:\"sm\",variant:\"outline-danger\",disabled:true,title:\"Karyawan memiliki kontrak permanent\",style:{backgroundColor:'#f8f9fa',borderColor:'#dc3545',color:'#dc3545',cursor:'not-allowed',opacity:0.7,fontSize:'0.7rem',padding:'0.25rem 0.4rem',lineHeight:'1.2'},children:[\"\\u274C Tidak Dapat\",/*#__PURE__*/_jsx(\"br\",{}),\"Direkomendasikan\"]}):/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"success\",onClick:()=>handleCreateRecommendation(emp),disabled:emp.has_pending_recommendation||emp.days_to_contract_end>30,title:emp.has_pending_recommendation?'Sudah ada rekomendasi pending':emp.days_to_contract_end>30?\"Kontrak masih berlaku \".concat(emp.days_to_contract_end,\" hari lagi\"):'Buat rekomendasi untuk karyawan ini',children:\"Rekomendasi\"})]})})]},index))})]})})]})}),/*#__PURE__*/_jsx(Tab.Pane,{eventKey:\"processed\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(Card.Header,{style:{backgroundColor:'#28a745',color:'white'},className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"\\u2705 Rekomendasi yang Sudah Diproses HR\"}),/*#__PURE__*/_jsx(\"small\",{children:\"Lihat status rekomendasi Anda dan kontrak yang telah diperpanjang\"})]}),/*#__PURE__*/_jsx(Button,{variant:\"outline-light\",size:\"sm\",onClick:fetchProcessedRecommendations,className:\"ms-2\",children:\"\\uD83D\\uDD04 Refresh\"})]}),/*#__PURE__*/_jsx(Card.Body,{children:processedRecommendations.length>0?/*#__PURE__*/_jsxs(Table,{responsive:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{style:{backgroundColor:'#e8f5e8'},children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Karyawan\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Rekomendasi Anda\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status HR\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Kontrak Baru\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tanggal Diproses\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:processedRecommendations.map((rec,index)=>{var _rec$new_contract,_rec$new_contract2;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:rec.employee.name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:rec.employee.role})]})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Badge,{bg:\"primary\",className:\"me-1\",children:rec.recommendation_type==='kontrak1'?'Kontrak 1':rec.recommendation_type==='kontrak2'?'Kontrak 2':rec.recommendation_type==='kontrak3'?'Kontrak 3':rec.recommendation_type}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[rec.recommended_duration,\" bulan\"]})]}),/*#__PURE__*/_jsx(\"td\",{children:rec.status==='approved'?/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:\"\\u2705 Disetujui\"}):/*#__PURE__*/_jsx(Badge,{bg:\"danger\",children:\"\\u274C Ditolak\"})}),/*#__PURE__*/_jsx(\"td\",{children:rec.status==='approved'&&(_rec$new_contract=rec.new_contract)!==null&&_rec$new_contract!==void 0&&_rec$new_contract.is_created?/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:\"\\uD83C\\uDF89 Kontrak Berhasil Dibuat\"}):rec.status==='approved'?/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:\"\\u23F3 Kontrak sedang dibuat\"}):/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Tidak ada kontrak baru\"})}),/*#__PURE__*/_jsx(\"td\",{children:new Date(rec.updated_at).toLocaleDateString('id-ID')}),/*#__PURE__*/_jsx(\"td\",{children:rec.status==='approved'&&(_rec$new_contract2=rec.new_contract)!==null&&_rec$new_contract2!==void 0&&_rec$new_contract2.is_created?/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:\"\\uD83C\\uDF89 Kontrak Berhasil Diperpanjang\"}):rec.status==='approved'?/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:\"\\u23F3 Sedang Memproses Kontrak\"}):/*#__PURE__*/_jsx(Badge,{bg:\"danger\",children:\"\\u274C Rekomendasi Ditolak\"})})]},index);})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"display-1 mb-3\",children:\"\\uD83D\\uDCCB\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Belum Ada Rekomendasi yang Diproses\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Rekomendasi yang Anda buat akan muncul di sini setelah diproses oleh HR.\"})]})})]})})]})]}),showEmployeeModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal\",style:{display:'block',backgroundColor:'rgba(0,0,0,0.5)'},children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header py-3\",style:{background:'linear-gradient(135deg, #007bff 0%, #0056b3 100%)',color:'white'},children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"modal-title\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-chart me-2\"}),employeeDetail===null||employeeDetail===void 0?void 0:(_employeeDetail$emplo=employeeDetail.employee)===null||_employeeDetail$emplo===void 0?void 0:_employeeDetail$emplo.name,\" - Data Intelligence\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close btn-close-white\",onClick:()=>setShowEmployeeModal(false)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body p-4\",children:employeeDetail&&!(employeeDetail!==null&&employeeDetail!==void 0&&employeeDetail.error)?/*#__PURE__*/_jsxs(\"div\",{className:\"row g-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card border-0 shadow-sm h-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header py-3 bg-primary text-white\",children:/*#__PURE__*/_jsxs(\"h6\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user me-2\"}),\"Informasi Karyawan\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Nama\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-dark fs-5\",children:employeeDetail.employee.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Posisi\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-dark\",children:employeeDetail.employee.role})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Tenure\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fw-bold text-primary\",children:[Math.round(employeeDetail.employee.tenure_months),\" bulan\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Divisi\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-dark\",children:employeeDetail.employee.division_name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Pendidikan\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fw-bold text-dark\",children:[employeeDetail.employee.education_level,\" - \",employeeDetail.employee.major]})]})]})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card border-0 shadow-sm h-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header py-3 bg-success text-white\",children:/*#__PURE__*/_jsxs(\"h6\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-brain me-2\"}),\"Data Intelligence\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-success\",children:((_employeeDetail$dynam=employeeDetail.dynamic_intelligence)===null||_employeeDetail$dynam===void 0?void 0:_employeeDetail$dynam.match_category)||'Tidak Ada Data'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Sample Size\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fw-bold text-dark\",children:[((_employeeDetail$dynam2=employeeDetail.dynamic_intelligence)===null||_employeeDetail$dynam2===void 0?void 0:_employeeDetail$dynam2.sample_size)||0,\" profil\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Rekomendasi\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-primary fs-5\",children:((_employeeDetail$dynam3,_employeeDetail$dynam4)=>{const duration=(_employeeDetail$dynam3=employeeDetail.dynamic_intelligence)===null||_employeeDetail$dynam3===void 0?void 0:_employeeDetail$dynam3.optimal_duration;const category=(_employeeDetail$dynam4=employeeDetail.dynamic_intelligence)===null||_employeeDetail$dynam4===void 0?void 0:_employeeDetail$dynam4.match_category;if(category==='Sudah Permanent'){return'Sudah Permanent';}else if(employeeDetail.employee.current_contract_type==='3'&&(category==='Siap Permanent'||duration===0)){return'Permanent';}else if(duration===0){return'Permanent';}else if(duration&&duration>0){return\"\".concat(duration,\" bulan\");}else{return'Perlu Evaluasi';}})()})]})})]}),employeeDetail.employee.current_contract_type!=='permanent'&&((_employeeDetail$dynam5=employeeDetail.dynamic_intelligence)===null||_employeeDetail$dynam5===void 0?void 0:_employeeDetail$dynam5.historical_patterns)&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 bg-light rounded\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Masih Aktif\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fw-bold text-success\",children:[employeeDetail.dynamic_intelligence.historical_patterns.success_rate||0,\"%\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 bg-light rounded\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Sudah Resign\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fw-bold text-danger\",children:[employeeDetail.dynamic_intelligence.historical_patterns.resign_rate||0,\"%\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 bg-light rounded\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Rata-rata Tenure\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fw-bold text-primary\",children:[employeeDetail.dynamic_intelligence.historical_patterns.avg_duration?employeeDetail.dynamic_intelligence.historical_patterns.avg_duration.toFixed(1):'0',\" bulan\"]})]})})]})}),((_employeeDetail$dynam6=employeeDetail.dynamic_intelligence)===null||_employeeDetail$dynam6===void 0?void 0:(_employeeDetail$dynam7=_employeeDetail$dynam6.historical_patterns)===null||_employeeDetail$dynam7===void 0?void 0:(_employeeDetail$dynam8=_employeeDetail$dynam7.profiles)===null||_employeeDetail$dynam8===void 0?void 0:_employeeDetail$dynam8.length)>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-between align-items-center mb-3\",children:/*#__PURE__*/_jsxs(\"h6\",{className:\"mb-0 text-muted\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-users me-2\"}),\"Profil Serupa (\",employeeDetail.dynamic_intelligence.historical_patterns.total_similar||0,\" total)\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row g-2\",children:employeeDetail.dynamic_intelligence.historical_patterns.profiles.slice(0,4).map((profile,idx)=>/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 bg-light\",style:{fontSize:'0.8rem'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-primary mb-1 text-truncate\",children:profile.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-muted small\",children:[profile.major,\" \\u2192 \",profile.role]}),/*#__PURE__*/_jsxs(\"div\",{className:\"fw-bold \".concat(profile.status_summary==='Aktif'?'text-success':'text-danger',\" small\"),children:[profile.status_summary,\" (\",Math.round(profile.total_tenure_months),\" bulan)\"]})]})})},profile.eid))})]})]})]})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger border-0 shadow-sm\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"alert-heading\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-triangle me-2\"}),\"Gagal memuat detail karyawan\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Terjadi kesalahan saat mengambil data analisis karyawan. Silakan coba lagi atau hubungi administrator sistem.\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer py-3 bg-light\",children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-secondary px-4\",onClick:()=>setShowEmployeeModal(false),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times me-2\"}),\"Tutup\"]})})]})})}),showRecommendationModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal\",style:{display:'block',backgroundColor:'rgba(0,0,0,0.5)'},children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header py-3\",style:{background:'linear-gradient(135deg, #28a745 0%, #20c997 100%)',color:'white'},children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"modal-title\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-file-contract me-2\"}),employeeDetail===null||employeeDetail===void 0?void 0:(_employeeDetail$emplo2=employeeDetail.employee)===null||_employeeDetail$emplo2===void 0?void 0:_employeeDetail$emplo2.name,\" - Buat Rekomendasi Kontrak\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close btn-close-white\",onClick:()=>setShowRecommendationModal(false)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body p-4\",children:employeeDetail&&/*#__PURE__*/_jsxs(\"div\",{className:\"row g-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card border-0 shadow-sm h-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header py-3 bg-primary text-white\",children:/*#__PURE__*/_jsxs(\"h6\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user me-2\"}),\"Informasi Karyawan\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Nama\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-dark fs-5\",children:employeeDetail.employee.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Posisi\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-dark\",children:employeeDetail.employee.role})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Tenure\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fw-bold text-primary\",children:[Math.round(employeeDetail.employee.tenure_months),\" bulan\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Divisi\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold text-dark\",children:employeeDetail.employee.division_name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted d-block\",children:\"Pendidikan\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fw-bold text-dark\",children:[employeeDetail.employee.education_level,\" - \",employeeDetail.employee.major]})]})]})]}),employeeDetail.dynamic_intelligence&&/*#__PURE__*/_jsx(\"div\",{className:\"card bg-light mt-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-3\",children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"card-title text-success mb-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-brain me-1\"}),\"Dynamic Intelligence\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"small\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",employeeDetail.dynamic_intelligence.match_category]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Rekomendasi:\"}),((_employeeDetail$dynam9,_employeeDetail$dynam0)=>{const duration=(_employeeDetail$dynam9=employeeDetail.dynamic_intelligence)===null||_employeeDetail$dynam9===void 0?void 0:_employeeDetail$dynam9.optimal_duration;const category=(_employeeDetail$dynam0=employeeDetail.dynamic_intelligence)===null||_employeeDetail$dynam0===void 0?void 0:_employeeDetail$dynam0.match_category;if(category==='Sudah Permanent'){return' Sudah Permanent';}else if(employeeDetail.employee.current_contract_type==='3'&&(category==='Siap Permanent'||duration===0)){return' Permanent';}else if(duration===0){return' Permanent';}else if(duration&&duration>0){return\" \".concat(duration,\" bulan\");}else{return' Perlu Evaluasi';}})()]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Sample Size:\"}),\" \",employeeDetail.dynamic_intelligence.sample_size||0,\" profil serupa\"]})]})]})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card border-0 shadow-sm h-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header py-3 bg-success text-white\",children:/*#__PURE__*/_jsxs(\"h6\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-file-contract me-2\"}),\"Form Rekomendasi\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label fw-bold\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-contract me-2\"}),\"Jenis Kontrak\"]}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:recommendationData.recommendation_type||'',onChange:e=>{const newType=e.target.value;setRecommendationData(prev=>_objectSpread(_objectSpread({},prev),{},{recommendation_type:newType,recommended_duration:newType==='permanent'||newType==='terminate'?0:prev.recommended_duration}));},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Pilih jenis kontrak...\"}),/*#__PURE__*/_jsx(\"option\",{value:\"kontrak2\",children:\"Kontrak 2\"}),/*#__PURE__*/_jsx(\"option\",{value:\"kontrak3\",children:\"Kontrak 3\"}),/*#__PURE__*/_jsx(\"option\",{value:\"permanent\",children:\"Permanent\"}),/*#__PURE__*/_jsx(\"option\",{value:\"terminate\",children:\"Tidak Diperpanjang\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label fw-bold\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-calendar-alt me-2\"}),\"Durasi (bulan)\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",min:\"1\",max:\"36\",value:recommendationData.recommended_duration||'',onChange:e=>setRecommendationData(prev=>_objectSpread(_objectSpread({},prev),{},{recommended_duration:parseInt(e.target.value)||0})),disabled:recommendationData.recommendation_type==='permanent'||recommendationData.recommendation_type==='terminate',placeholder:recommendationData.recommendation_type==='permanent'?'Permanent - tidak perlu durasi':recommendationData.recommendation_type==='terminate'?'Kontrak berakhir':'Masukkan durasi dalam bulan (1-36)'}),recommendationData.recommendation_type==='permanent'&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsxs(\"small\",{className:\"text-success\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-info-circle me-1\"}),\"Permanent - tidak memerlukan durasi\"]})}),recommendationData.recommendation_type==='terminate'&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsxs(\"small\",{className:\"text-danger\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-triangle me-1\"}),\"Tidak diperpanjang - kontrak berakhir\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label fw-bold\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-comment-alt me-2\"}),\"Alasan Rekomendasi\"]}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",rows:\"4\",value:recommendationData.reason||'',onChange:e=>setRecommendationData(prev=>_objectSpread(_objectSpread({},prev),{},{reason:e.target.value})),placeholder:\"Jelaskan alasan rekomendasi berdasarkan analisis data, performa karyawan, dan kebutuhan perusahaan...\",style:{resize:'vertical'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-text\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lightbulb me-1\"}),\"Tip: Sertakan justifikasi berdasarkan match status, tenure, dan analisis data mining\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-success btn-lg px-5\",onClick:submitRecommendation,disabled:!recommendationData.recommendation_type||!recommendationData.reason,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-paper-plane me-2\"}),\"Kirim Rekomendasi ke HR\"]})})]})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer py-3 bg-light\",children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-secondary px-4\",onClick:()=>setShowRecommendationModal(false),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times me-2\"}),\"Tutup\"]})})]})})})]});};export default ManagerDashboard;","map":{"version":3,"names":["React","useState","useEffect","axios","Container","Row","Col","Card","Table","Button","Badge","Nav","Tab","Alert","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","ArcElement","Bar","Doughnut","jsx","_jsx","jsxs","_jsxs","register","ManagerDashboard","_analytics$division_s","_employeeDetail$emplo","_employeeDetail$dynam","_employeeDetail$dynam2","_employeeDetail$dynam5","_employeeDetail$dynam6","_employeeDetail$dynam7","_employeeDetail$dynam8","_employeeDetail$emplo2","analytics","setAnalytics","loading","setLoading","error","setError","activeTab","setActiveTab","showEmployeeModal","setShowEmployeeModal","showRecommendationModal","setShowRecommendationModal","employeeDetail","setEmployeeDetail","recommendationData","setRecommendationData","recommendation_type","recommended_duration","reason","alert","setAlert","show","message","type","processedRecommendations","setProcessedRecommendations","user","JSON","parse","localStorage","getItem","fetchManagerData","fetchProcessedRecommendations","response","get","withCredentials","timeout","data","success","err","console","processed","filter","rec","status","fetchEmployeeDetail","eid","log","concat","Error","errorMessage","employee","name","handleEmployeeClick","detail","showAlert","handleCreateRecommendation","_detail$dynamic_intel","_detail$dynamic_intel2","_detail$dynamic_intel3","_detail$dynamic_intel4","category","dynamic_intelligence","match_category","duration","optimal_duration","defaultType","defaultDuration","defaultReason","current_contract_type","employee_name","reasoning","submitRecommendation","post","_objectSpread","action","headers","setTimeout","getMatchLevelBadge","matchStatus","bg","children","getContractStatusBadge","contractType","tenure","getRecommendationStatusBadge","education_job_match","existingRecommendation","find","employee_id","_employee$data_mining","data_mining_recommendation","className","role","fluid","variant","dismissible","onClose","style","background","color","division_name","xs","division_stats","total_employees","activeKey","onSelect","Item","Link","eventKey","backgroundColor","borderColor","length","Content","Pane","Header","Body","responsive","hover","employees","map","emp","index","major","education_level","Date","join_date","toLocaleDateString","tenure_months","days_to_contract_end","_emp$data_mining_reco","_emp$data_mining_reco2","size","onClick","disabled","title","cursor","opacity","fontSize","padding","lineHeight","has_pending_recommendation","_rec$new_contract","_rec$new_contract2","new_contract","is_created","updated_at","display","Math","round","sample_size","_employeeDetail$dynam3","_employeeDetail$dynam4","historical_patterns","success_rate","resign_rate","avg_duration","toFixed","profiles","total_similar","slice","profile","idx","status_summary","total_tenure_months","_employeeDetail$dynam9","_employeeDetail$dynam0","value","onChange","e","newType","target","prev","min","max","parseInt","placeholder","rows","resize"],"sources":["C:/xampp/htdocs/web_srk_BI/frontend/src/pages/ManagerDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Container, Row, Col, Card, Table, Button, Badge, Nav, Tab, Alert } from 'react-bootstrap';\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend, ArcElement } from 'chart.js';\nimport { Bar, Doughnut } from 'react-chartjs-2';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend,\n  ArcElement\n);\n\nconst ManagerDashboard = () => {\n  const [analytics, setAnalytics] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [activeTab, setActiveTab] = useState('overview');\n  const [showEmployeeModal, setShowEmployeeModal] = useState(false);\n  const [showRecommendationModal, setShowRecommendationModal] = useState(false);\n  const [employeeDetail, setEmployeeDetail] = useState(null);\n  const [recommendationData, setRecommendationData] = useState({\n    recommendation_type: '',\n    recommended_duration: '',\n    reason: ''\n  });\n  const [alert, setAlert] = useState({ show: false, message: '', type: '' });\n  const [processedRecommendations, setProcessedRecommendations] = useState([]);\n\n  const user = JSON.parse(localStorage.getItem('user') || '{}');\n\n  useEffect(() => {\n    fetchManagerData();\n    fetchProcessedRecommendations();\n  }, []);\n\n  const fetchManagerData = async () => {\n    try {\n      setLoading(true);\n      const response = await axios.get('/employees.php?action=manager_analytics', {\n        withCredentials: true,\n        timeout: 15000\n      });\n\n      if (response.data.success) {\n        setAnalytics(response.data.data);\n      } else {\n        setError(response.data.error || 'Failed to fetch data');\n      }\n    } catch (err) {\n      console.error('Analytics error:', err);\n      setError('Network error or session expired');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchProcessedRecommendations = async () => {\n    try {\n      const response = await axios.get('/recommendations.php', {\n        withCredentials: true,\n        timeout: 10000\n      });\n\n      if (response.data.success) {\n        const processed = response.data.data.filter(rec => \n          rec.status === 'approved' || rec.status === 'rejected'\n        );\n        setProcessedRecommendations(processed);\n      }\n    } catch (err) {\n      console.error('Processed recommendations error:', err);\n    }\n  };\n\n  const fetchEmployeeDetail = async (eid) => {\n    try {\n      console.log(`ðŸ” Fetching employee detail for EID: ${eid}`);\n      const response = await axios.get(`/employees.php?action=employee_data_mining_detail&eid=${eid}`, {\n        withCredentials: true,\n        timeout: 15000\n      });\n\n      console.log('âœ… Employee detail response:', response.data);\n\n      if (response.data.success) {\n        setEmployeeDetail(response.data.data);\n        return response.data.data;\n      } else {\n        console.error('âŒ Employee detail API error:', response.data.error);\n        throw new Error(response.data.error || 'Failed to fetch employee detail');\n      }\n    } catch (error) {\n      console.error('âŒ Network/Parse error:', error);\n      setEmployeeDetail({\n        error: true,\n        errorMessage: error.message,\n        employee: { eid, name: 'Unknown' }\n      });\n      throw new Error('Server returned invalid JSON. Check browser console for details.');\n    }\n  };\n\n  const handleEmployeeClick = async (employee) => {\n    try {\n      setShowEmployeeModal(true);\n      setEmployeeDetail(null);\n      \n      console.log(`ðŸ” Loading detail for employee:`, employee);\n      \n      const detail = await fetchEmployeeDetail(employee.eid);\n      console.log('âœ… Employee detail loaded successfully');\n      \n    } catch (error) {\n      console.error('âŒ Failed to fetch employee detail:', error);\n      showAlert(`Gagal memuat detail karyawan: ${error.message}`, 'danger');\n    }\n  };\n\n  const handleCreateRecommendation = async (employee) => {\n    try {\n      setShowRecommendationModal(true);\n      setEmployeeDetail(null);\n      \n      const detail = await fetchEmployeeDetail(employee.eid);\n      \n      const category = detail.dynamic_intelligence?.match_category;\n      const duration = detail.dynamic_intelligence?.optimal_duration;\n      \n      let defaultType = '';\n      let defaultDuration = '';\n      let defaultReason = `Berdasarkan dynamic intelligence analysis: ${category}. `;\n      \n      if (category === 'Siap Permanent' || (employee.current_contract_type === '3' && duration === 0)) {\n        defaultType = 'permanent';\n        defaultDuration = 0;\n        defaultReason += 'Karyawan layak untuk kontrak permanent.';\n      } else if (duration > 0) {\n        defaultType = employee.current_contract_type === '2' ? 'kontrak3' : 'kontrak2';\n        defaultDuration = duration;\n        defaultReason += `Rekomendasi durasi ${duration} bulan berdasarkan analisis historical patterns.`;\n      }\n      \n      setRecommendationData({\n        eid: employee.eid,\n        employee_name: employee.name,\n        recommendation_type: defaultType,\n        recommended_duration: defaultDuration,\n        reason: defaultReason + (detail.dynamic_intelligence?.reasoning?.[0] || ' Analisis data mining menunjukkan tingkat kecocokan yang baik.')\n      });\n      \n    } catch (error) {\n      console.error('Failed to load employee for recommendation:', error);\n      showAlert(`Gagal memuat data karyawan: ${error.message}`, 'danger');\n    }\n  };\n\n  const submitRecommendation = async () => {\n    try {\n      const response = await axios.post('/employees.php', {\n        action: 'recommend',\n        ...recommendationData\n      }, {\n        withCredentials: true,\n        headers: {\n          'Content-Type': 'application/json',\n        }\n      });\n\n      if (response.data.success) {\n        showAlert('Rekomendasi berhasil dikirim ke HR!', 'success');\n        setShowRecommendationModal(false);\n        fetchManagerData();\n      } else {\n        showAlert(`Gagal mengirim rekomendasi: ${response.data.error}`, 'danger');\n      }\n    } catch (error) {\n      console.error('Submit recommendation error:', error);\n      showAlert('Error mengirim rekomendasi. Silakan coba lagi.', 'danger');\n    }\n  };\n\n  const showAlert = (message, type) => {\n    setAlert({ show: true, message, type });\n    setTimeout(() => setAlert({ show: false, message: '', type: '' }), 5000);\n  };\n\n  const getMatchLevelBadge = (matchStatus) => {\n    if (matchStatus === 'Match') return <Badge bg=\"success\">Match</Badge>;\n    if (matchStatus === 'Unmatch') return <Badge bg=\"danger\">Unmatch</Badge>;\n    return <Badge bg=\"secondary\">N/A</Badge>;\n  };\n\n  const getContractStatusBadge = (contractType, tenure) => {\n    if (contractType === 'permanent') return <Badge bg=\"success\">Permanent</Badge>;\n    if (contractType === 'probation') return <Badge bg=\"warning\">Probation</Badge>;\n    if (contractType === '3' || contractType === 'kontrak3') return <Badge bg=\"info\">Kontrak 3</Badge>;\n    if (contractType === '2' || contractType === 'kontrak2') return <Badge bg=\"primary\">Kontrak 2</Badge>;\n    return <Badge bg=\"secondary\">N/A</Badge>;\n  };\n\n  const getRecommendationStatusBadge = (employee) => {\n    if (employee.current_contract_type === 'permanent') {\n      return <Badge bg=\"secondary\">-</Badge>;\n    } else if (employee.education_job_match === 'Unmatch') {\n      return <Badge bg=\"danger\">TIDAK DIREKOMENDASIKAN</Badge>;\n    } else {\n      const existingRecommendation = processedRecommendations.find(rec => rec.employee_id === employee.eid);\n      if (existingRecommendation && existingRecommendation.recommended_duration) {\n        return <Badge bg=\"success\">{existingRecommendation.recommended_duration} bulan</Badge>;\n      } else {\n        const duration = employee.data_mining_recommendation?.recommended_duration;\n        \n        if ((employee.current_contract_type === '3' || employee.current_contract_type === 'kontrak3') && duration === 0) {\n          return <Badge bg=\"success\">PERMANENT</Badge>;\n        } else if (duration && duration > 0) {\n          return <Badge bg=\"success\">{duration} bulan</Badge>;\n        } else {\n          if (employee.current_contract_type === '3') {\n            return <Badge bg=\"info\">PERMANENT</Badge>;\n          } else if (employee.current_contract_type === '2') {\n            return <Badge bg=\"warning\">6 bulan (Evaluasi)</Badge>;\n          } else {\n            return <Badge bg=\"secondary\">Tidak Ada Data</Badge>;\n          }\n        }\n      }\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"container-fluid mt-4\">\n        <div className=\"text-center\">\n          <div className=\"spinner-border text-primary\" role=\"status\">\n            <span className=\"visually-hidden\">Loading...</span>\n          </div>\n          <p className=\"mt-2\">Memuat data intelligence...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <Container fluid className=\"mt-3\">\n      {alert.show && (\n        <Alert variant={alert.type} dismissible onClose={() => setAlert({ show: false, message: '', type: '' })}>\n          {alert.message}\n        </Alert>\n      )}\n      \n      <div className=\"mb-4 p-4 rounded\" style={{\n        background: 'linear-gradient(135deg, #007bff 0%, #0056b3 100%)',\n        color: 'white'\n      }}>\n        <Row className=\"align-items-center\">\n          <Col>\n            <h2>Manager Dashboard - Data Intelligence</h2>\n            <p className=\"mb-0\">Analisis Kecocokan Pendidikan & Rekomendasi Kontrak untuk Divisi</p>\n            <small>{user.division_name} | Business Intelligence System</small>\n          </Col>\n          <Col xs=\"auto\">\n            <div className=\"text-end\">\n              <h3 className=\"mb-0\">{analytics?.division_stats?.total_employees || 0}</h3>\n              <small>Karyawan Aktif</small>\n            </div>\n          </Col>\n        </Row>\n      </div>\n\n      <Tab.Container activeKey={activeTab} onSelect={setActiveTab}>\n        <Nav variant=\"tabs\" className=\"mb-4\">\n          <Nav.Item>\n            <Nav.Link eventKey=\"employees\" style={{\n              color: activeTab === 'employees' ? '#fff' : '#007bff',\n              backgroundColor: activeTab === 'employees' ? '#007bff' : 'transparent',\n              borderColor: '#007bff'\n            }}>\n              Detail Karyawan\n            </Nav.Link>\n          </Nav.Item>\n          <Nav.Item>\n            <Nav.Link eventKey=\"processed\" style={{\n              color: activeTab === 'processed' ? '#fff' : '#007bff',\n              backgroundColor: activeTab === 'processed' ? '#007bff' : 'transparent',\n              borderColor: '#007bff'\n            }}>\n              Rekomendasi Diproses ({processedRecommendations.length})\n            </Nav.Link>\n          </Nav.Item>\n        </Nav>\n\n        <Tab.Content>\n          <Tab.Pane eventKey=\"employees\">\n            <Card>\n              <Card.Header style={{ backgroundColor: '#007bff', color: 'white' }}>\n                <h5 className=\"mb-0\">ðŸ‘¥ Detail Karyawan Divisi</h5>\n              </Card.Header>\n              <Card.Body>\n                <Table responsive hover>\n                  <thead style={{ backgroundColor: '#e3f2fd' }}>\n                    <tr>\n                      <th>Nama & Departemen</th>\n                      <th>Pendidikan</th>\n                      <th>Join Date</th>\n                      <th>Years Of Service</th>\n                      <th>Status Kontrak</th>\n                      <th>Status Match</th>\n                      <th>Rekomendasi Kontrak</th>\n                      <th>Status Rekomendasi</th>\n                      <th>Action</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {analytics?.employees.map((emp, index) => (\n                      <tr key={index}>\n                        <td>\n                          <div>\n                            <strong>{emp.name}</strong>\n                            <br />\n                            <small className=\"text-muted\">{emp.role}</small>\n                          </div>\n                        </td>\n                        <td>\n                          {emp.major}\n                          <br />\n                          <small className=\"text-muted\">{emp.education_level}</small>\n                        </td>\n                        <td>{new Date(emp.join_date).toLocaleDateString('id-ID')}</td>\n                        <td>\n                          <Badge bg=\"info\">{emp.tenure_months} bulan</Badge>\n                        </td>\n                        <td>\n                          {getContractStatusBadge(emp.current_contract_type, emp.days_to_contract_end)}\n                        </td>\n                        <td>\n                          <div className=\"d-flex align-items-center\">\n                            {getMatchLevelBadge(emp.education_job_match)}\n                          </div>\n                        </td>\n                        <td>\n                          {emp.current_contract_type === 'permanent' ? (\n                            <span>-</span>\n                          ) : emp.education_job_match === 'Unmatch' ? (\n                            <Badge bg=\"warning\">\n                              {(() => {\n                                const duration = emp.data_mining_recommendation?.recommended_duration;\n                                if (duration && duration > 0) {\n                                  return `${duration} bulan (Evaluasi)`;\n                                } else {\n                                  return '6 bulan (Evaluasi)';\n                                }\n                              })()}\n                            </Badge>\n                          ) : (\n                          <Badge bg=\"success\">\n                            {(() => {\n                              const duration = emp.data_mining_recommendation?.recommended_duration;\n                              if ((emp.current_contract_type === '3' || emp.current_contract_type === 'kontrak3') && \n                                  (duration === 0 || duration === null)) {\n                                return 'Permanent';\n                              } else if (duration && duration > 0) {\n                                return `${duration} bulan`;\n                              } else {\n                                return '6 bulan (Default)';\n                              }\n                            })()}\n                          </Badge>\n                          )}\n                        </td>\n                        <td>\n                          {getRecommendationStatusBadge(emp)}\n                        </td>\n                        <td>\n                          <div className=\"d-flex gap-2\">\n                            <Button \n                              size=\"sm\" \n                              variant=\"outline-primary\"\n                              onClick={() => handleEmployeeClick(emp)}\n                            >\n                              Detail\n                            </Button>\n                            {emp.current_contract_type === 'permanent' ? (\n                              <Button \n                                size=\"sm\" \n                                variant=\"outline-danger\"\n                                disabled\n                                title=\"Karyawan memiliki kontrak permanent\"\n                                style={{ \n                                  backgroundColor: '#f8f9fa',\n                                  borderColor: '#dc3545',\n                                  color: '#dc3545',\n                                  cursor: 'not-allowed',\n                                  opacity: 0.7,\n                                  fontSize: '0.7rem',\n                                  padding: '0.25rem 0.4rem',\n                                  lineHeight: '1.2'\n                                }}\n                              >\n                                âŒ Tidak Dapat<br/>Direkomendasikan\n                              </Button>\n                            ) : (\n                              <Button \n                                size=\"sm\" \n                                variant=\"success\"\n                                onClick={() => handleCreateRecommendation(emp)}\n                                disabled={\n                                  emp.has_pending_recommendation || \n                                  emp.days_to_contract_end > 30\n                                }\n                                title={\n                                  emp.has_pending_recommendation ? 'Sudah ada rekomendasi pending' :\n                                  emp.days_to_contract_end > 30 ? `Kontrak masih berlaku ${emp.days_to_contract_end} hari lagi` :\n                                  'Buat rekomendasi untuk karyawan ini'\n                                }\n                              >\n                                Rekomendasi\n                              </Button>\n                            )}\n                          </div>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </Table>\n              </Card.Body>\n            </Card>\n          </Tab.Pane>\n\n          <Tab.Pane eventKey=\"processed\">\n            <Card>\n              <Card.Header style={{ backgroundColor: '#28a745', color: 'white' }} className=\"d-flex justify-content-between align-items-center\">\n                <div>\n                  <h5 className=\"mb-0\">âœ… Rekomendasi yang Sudah Diproses HR</h5>\n                  <small>Lihat status rekomendasi Anda dan kontrak yang telah diperpanjang</small>\n                </div>\n                <Button \n                  variant=\"outline-light\" \n                  size=\"sm\" \n                  onClick={fetchProcessedRecommendations}\n                  className=\"ms-2\"\n                >\n                  ðŸ”„ Refresh\n                </Button>\n              </Card.Header>\n              <Card.Body>\n                {processedRecommendations.length > 0 ? (\n                  <Table responsive hover>\n                    <thead style={{ backgroundColor: '#e8f5e8' }}>\n                      <tr>\n                        <th>Karyawan</th>\n                        <th>Rekomendasi Anda</th>\n                        <th>Status HR</th>\n                        <th>Kontrak Baru</th>\n                        <th>Tanggal Diproses</th>\n                        <th>Status</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {processedRecommendations.map((rec, index) => (\n                        <tr key={index}>\n                          <td>\n                            <div>\n                              <strong>{rec.employee.name}</strong>\n                              <br />\n                              <small className=\"text-muted\">{rec.employee.role}</small>\n                            </div>\n                          </td>\n                          <td>\n                            <Badge bg=\"primary\" className=\"me-1\">\n                              {rec.recommendation_type === 'kontrak1' ? 'Kontrak 1' :\n                               rec.recommendation_type === 'kontrak2' ? 'Kontrak 2' :\n                               rec.recommendation_type === 'kontrak3' ? 'Kontrak 3' : rec.recommendation_type}\n                            </Badge>\n                            <br />\n                            <small className=\"text-muted\">{rec.recommended_duration} bulan</small>\n                          </td>\n                          <td>\n                            {rec.status === 'approved' ? (\n                              <Badge bg=\"success\">âœ… Disetujui</Badge>\n                            ) : (\n                              <Badge bg=\"danger\">âŒ Ditolak</Badge>\n                            )}\n                          </td>\n                          <td>\n                             {rec.status === 'approved' && rec.new_contract?.is_created ? (\n                               <Badge bg=\"success\">ðŸŽ‰ Kontrak Berhasil Dibuat</Badge>\n                             ) : rec.status === 'approved' ? (\n                               <Badge bg=\"warning\">â³ Kontrak sedang dibuat</Badge>\n                             ) : (\n                               <small className=\"text-muted\">Tidak ada kontrak baru</small>\n                             )}\n                           </td>\n                          <td>\n                            {new Date(rec.updated_at).toLocaleDateString('id-ID')}\n                          </td>\n                          <td>\n                             {rec.status === 'approved' && rec.new_contract?.is_created ? (\n                               <Badge bg=\"success\">ðŸŽ‰ Kontrak Berhasil Diperpanjang</Badge>\n                             ) : rec.status === 'approved' ? (\n                               <Badge bg=\"warning\">â³ Sedang Memproses Kontrak</Badge>\n                             ) : (\n                               <Badge bg=\"danger\">âŒ Rekomendasi Ditolak</Badge>\n                             )}\n                           </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </Table>\n                ) : (\n                  <div className=\"text-center py-5\">\n                    <div className=\"display-1 mb-3\">ðŸ“‹</div>\n                    <h5>Belum Ada Rekomendasi yang Diproses</h5>\n                    <p className=\"text-muted\">\n                      Rekomendasi yang Anda buat akan muncul di sini setelah diproses oleh HR.\n                    </p>\n                  </div>\n                )}\n              </Card.Body>\n            </Card>\n          </Tab.Pane>\n        </Tab.Content>\n      </Tab.Container>\n\n      {/* Employee Detail Modal - COMPACT NO SCROLL */}\n      {showEmployeeModal && (\n        <div className=\"modal\" style={{ display: 'block', backgroundColor: 'rgba(0,0,0,0.5)' }}>\n          <div className=\"modal-dialog modal-xl\">\n            <div className=\"modal-content\">\n              <div className=\"modal-header py-3\" style={{ background: 'linear-gradient(135deg, #007bff 0%, #0056b3 100%)', color: 'white' }}>\n                <h5 className=\"modal-title\">\n                  <i className=\"fas fa-user-chart me-2\"></i>\n                  {employeeDetail?.employee?.name} - Data Intelligence\n                </h5>\n                <button \n                  type=\"button\" \n                  className=\"btn-close btn-close-white\"\n                  onClick={() => setShowEmployeeModal(false)}\n                ></button>\n              </div>\n              \n              <div className=\"modal-body p-4\">\n                {employeeDetail && !employeeDetail?.error ? (\n                  <div className=\"row g-4\">\n                    <div className=\"col-lg-6\">\n                      <div className=\"card border-0 shadow-sm h-100\">\n                        <div className=\"card-header py-3 bg-primary text-white\">\n                          <h6 className=\"mb-0\">\n                            <i className=\"fas fa-user me-2\"></i>\n                            Informasi Karyawan\n                          </h6>\n                        </div>\n                        <div className=\"card-body\">\n                          <div className=\"mb-3\">\n                            <small className=\"text-muted d-block\">Nama</small>\n                            <div className=\"fw-bold text-dark fs-5\">{employeeDetail.employee.name}</div>\n                          </div>\n                          <div className=\"row\">\n                            <div className=\"col-6\">\n                              <div className=\"mb-3\">\n                                <small className=\"text-muted d-block\">Posisi</small>\n                                <div className=\"fw-bold text-dark\">{employeeDetail.employee.role}</div>\n                              </div>\n                              <div className=\"mb-3\">\n                                <small className=\"text-muted d-block\">Tenure</small>\n                                <div className=\"fw-bold text-primary\">{Math.round(employeeDetail.employee.tenure_months)} bulan</div>\n                              </div>\n                            </div>\n                            <div className=\"col-6\">\n                              <div className=\"mb-3\">\n                                <small className=\"text-muted d-block\">Divisi</small>\n                                <div className=\"fw-bold text-dark\">{employeeDetail.employee.division_name}</div>\n                              </div>\n                              <div className=\"mb-3\">\n                                <small className=\"text-muted d-block\">Pendidikan</small>\n                                <div className=\"fw-bold text-dark\">{employeeDetail.employee.education_level} - {employeeDetail.employee.major}</div>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"col-lg-6\">\n                      <div className=\"card border-0 shadow-sm h-100\">\n                        <div className=\"card-header py-3 bg-success text-white\">\n                          <h6 className=\"mb-0\">\n                            <i className=\"fas fa-brain me-2\"></i>\n                            Data Intelligence\n                          </h6>\n                        </div>\n                        <div className=\"card-body\">\n                          <div className=\"row\">\n                            <div className=\"col-6\">\n                              <div className=\"mb-3\">\n                                <small className=\"text-muted d-block\">Status</small>\n                                <div className=\"fw-bold text-success\">{employeeDetail.dynamic_intelligence?.match_category || 'Tidak Ada Data'}</div>\n                              </div>\n                              <div className=\"mb-3\">\n                                <small className=\"text-muted d-block\">Sample Size</small>\n                                <div className=\"fw-bold text-dark\">{employeeDetail.dynamic_intelligence?.sample_size || 0} profil</div>\n                              </div>\n                            </div>\n                            <div className=\"col-6\">\n                              <div className=\"mb-3\">\n                                <small className=\"text-muted d-block\">Rekomendasi</small>\n                                <div className=\"fw-bold text-primary fs-5\">\n                                  {(() => {\n                                    const duration = employeeDetail.dynamic_intelligence?.optimal_duration;\n                                    const category = employeeDetail.dynamic_intelligence?.match_category;\n                                    \n                                    if (category === 'Sudah Permanent') {\n                                      return 'Sudah Permanent';\n                                    } else if (employeeDetail.employee.current_contract_type === '3' && \n                                        (category === 'Siap Permanent' || duration === 0)) {\n                                      return 'Permanent';\n                                    } else if (duration === 0) {\n                                      return 'Permanent';\n                                    } else if (duration && duration > 0) {\n                                      return `${duration} bulan`;\n                                    } else {\n                                      return 'Perlu Evaluasi';\n                                    }\n                                  })()}\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                          \n                          {employeeDetail.employee.current_contract_type !== 'permanent' && employeeDetail.dynamic_intelligence?.historical_patterns && (\n                            <div className=\"mt-4\">\n                              <div className=\"row text-center\">\n                                <div className=\"col-4\">\n                                  <div className=\"p-2 bg-light rounded\">\n                                    <small className=\"text-muted d-block\">Masih Aktif</small>\n                                    <div className=\"fw-bold text-success\">{employeeDetail.dynamic_intelligence.historical_patterns.success_rate || 0}%</div>\n                                  </div>\n                                </div>\n                                <div className=\"col-4\">\n                                  <div className=\"p-2 bg-light rounded\">\n                                    <small className=\"text-muted d-block\">Sudah Resign</small>\n                                    <div className=\"fw-bold text-danger\">{employeeDetail.dynamic_intelligence.historical_patterns.resign_rate || 0}%</div>\n                                  </div>\n                                </div>\n                                <div className=\"col-4\">\n                                  <div className=\"p-2 bg-light rounded\">\n                                    <small className=\"text-muted d-block\">Rata-rata Tenure</small>\n                                    <div className=\"fw-bold text-primary\">\n                                      {employeeDetail.dynamic_intelligence.historical_patterns.avg_duration ? \n                                       employeeDetail.dynamic_intelligence.historical_patterns.avg_duration.toFixed(1) : '0'} bulan\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n                          )}\n\n                          {employeeDetail.dynamic_intelligence?.historical_patterns?.profiles?.length > 0 && (\n                            <div className=\"mt-4\">\n                              <div className=\"d-flex justify-content-between align-items-center mb-3\">\n                                <h6 className=\"mb-0 text-muted\">\n                                  <i className=\"fas fa-users me-2\"></i>\n                                  Profil Serupa ({employeeDetail.dynamic_intelligence.historical_patterns.total_similar || 0} total)\n                                </h6>\n                              </div>\n                              <div className=\"row g-2\">\n                                {employeeDetail.dynamic_intelligence.historical_patterns.profiles.slice(0, 4).map((profile, idx) => (\n                                  <div key={profile.eid} className=\"col-6\">\n                                    <div className=\"card border-0 bg-light\" style={{ fontSize: '0.8rem' }}>\n                                      <div className=\"card-body p-2\">\n                                        <div className=\"fw-bold text-primary mb-1 text-truncate\">{profile.name}</div>\n                                        <div className=\"text-muted small\">{profile.major} â†’ {profile.role}</div>\n                                        <div className={`fw-bold ${profile.status_summary === 'Aktif' ? 'text-success' : 'text-danger'} small`}>\n                                          {profile.status_summary} ({Math.round(profile.total_tenure_months)} bulan)\n                                        </div>\n                                      </div>\n                                    </div>\n                                  </div>\n                                ))}\n                              </div>\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                ) : (\n                  <div className=\"alert alert-danger border-0 shadow-sm\">\n                    <h4 className=\"alert-heading\">\n                      <i className=\"fas fa-exclamation-triangle me-2\"></i>\n                      Gagal memuat detail karyawan\n                    </h4>\n                    <p>Terjadi kesalahan saat mengambil data analisis karyawan. Silakan coba lagi atau hubungi administrator sistem.</p>\n                  </div>\n                )}\n              </div>\n              <div className=\"modal-footer py-3 bg-light\">\n                <button \n                  type=\"button\" \n                  className=\"btn btn-secondary px-4\"\n                  onClick={() => setShowEmployeeModal(false)}\n                >\n                  <i className=\"fas fa-times me-2\"></i>\n                  Tutup\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Recommendation Modal - COMPACT */}\n      {showRecommendationModal && (\n        <div className=\"modal\" style={{ display: 'block', backgroundColor: 'rgba(0,0,0,0.5)' }}>\n          <div className=\"modal-dialog modal-xl\">\n            <div className=\"modal-content\">\n              <div className=\"modal-header py-3\" style={{ background: 'linear-gradient(135deg, #28a745 0%, #20c997 100%)', color: 'white' }}>\n                <h5 className=\"modal-title\">\n                  <i className=\"fas fa-file-contract me-2\"></i>\n                  {employeeDetail?.employee?.name} - Buat Rekomendasi Kontrak\n                </h5>\n                <button \n                  type=\"button\" \n                  className=\"btn-close btn-close-white\"\n                  onClick={() => setShowRecommendationModal(false)}\n                ></button>\n              </div>\n              \n              <div className=\"modal-body p-4\">\n                {employeeDetail && (\n                  <div className=\"row g-4\">\n                    <div className=\"col-lg-6\">\n                      <div className=\"card border-0 shadow-sm h-100\">\n                        <div className=\"card-header py-3 bg-primary text-white\">\n                          <h6 className=\"mb-0\">\n                            <i className=\"fas fa-user me-2\"></i>\n                            Informasi Karyawan\n                          </h6>\n                        </div>\n                        <div className=\"card-body\">\n                          <div className=\"mb-3\">\n                            <small className=\"text-muted d-block\">Nama</small>\n                            <div className=\"fw-bold text-dark fs-5\">{employeeDetail.employee.name}</div>\n                          </div>\n                          <div className=\"row\">\n                            <div className=\"col-6\">\n                              <div className=\"mb-3\">\n                                <small className=\"text-muted d-block\">Posisi</small>\n                                <div className=\"fw-bold text-dark\">{employeeDetail.employee.role}</div>\n                              </div>\n                              <div className=\"mb-3\">\n                                <small className=\"text-muted d-block\">Tenure</small>\n                                <div className=\"fw-bold text-primary\">{Math.round(employeeDetail.employee.tenure_months)} bulan</div>\n                              </div>\n                            </div>\n                            <div className=\"col-6\">\n                              <div className=\"mb-3\">\n                                <small className=\"text-muted d-block\">Divisi</small>\n                                <div className=\"fw-bold text-dark\">{employeeDetail.employee.division_name}</div>\n                              </div>\n                              <div className=\"mb-3\">\n                                <small className=\"text-muted d-block\">Pendidikan</small>\n                                <div className=\"fw-bold text-dark\">{employeeDetail.employee.education_level} - {employeeDetail.employee.major}</div>\n                              </div>\n                            </div>\n                          </div>\n\n                          {employeeDetail.dynamic_intelligence && (\n                            <div className=\"card bg-light mt-3\">\n                              <div className=\"card-body p-3\">\n                                <h6 className=\"card-title text-success mb-2\">\n                                  <i className=\"fas fa-brain me-1\"></i>\n                                  Dynamic Intelligence\n                                </h6>\n                                <div className=\"small\">\n                                  <div><strong>Status:</strong> {employeeDetail.dynamic_intelligence.match_category}</div>\n                                  <div><strong>Rekomendasi:</strong> \n                                    {(() => {\n                                      const duration = employeeDetail.dynamic_intelligence?.optimal_duration;\n                                      const category = employeeDetail.dynamic_intelligence?.match_category;\n                                      \n                                      if (category === 'Sudah Permanent') {\n                                        return ' Sudah Permanent';\n                                      } else if (employeeDetail.employee.current_contract_type === '3' && \n                                          (category === 'Siap Permanent' || duration === 0)) {\n                                        return ' Permanent';\n                                      } else if (duration === 0) {\n                                        return ' Permanent';\n                                      } else if (duration && duration > 0) {\n                                        return ` ${duration} bulan`;\n                                      } else {\n                                        return ' Perlu Evaluasi';\n                                      }\n                                    })()}\n                                  </div>\n                                  <div><strong>Sample Size:</strong> {employeeDetail.dynamic_intelligence.sample_size || 0} profil serupa</div>\n                                </div>\n                              </div>\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"col-lg-6\">\n                      <div className=\"card border-0 shadow-sm h-100\">\n                        <div className=\"card-header py-3 bg-success text-white\">\n                          <h6 className=\"mb-0\">\n                            <i className=\"fas fa-file-contract me-2\"></i>\n                            Form Rekomendasi\n                          </h6>\n                        </div>\n                        <div className=\"card-body\">\n                          <div className=\"mb-3\">\n                            <label className=\"form-label fw-bold\">\n                              <i className=\"fas fa-contract me-2\"></i>\n                              Jenis Kontrak\n                            </label>\n                            <select\n                              className=\"form-select\"\n                              value={recommendationData.recommendation_type || ''}\n                              onChange={(e) => {\n                                const newType = e.target.value;\n                                setRecommendationData(prev => ({\n                                  ...prev,\n                                  recommendation_type: newType,\n                                  recommended_duration: (newType === 'permanent' || newType === 'terminate') ? 0 : prev.recommended_duration\n                                }));\n                              }}\n                            >\n                              <option value=\"\">Pilih jenis kontrak...</option>\n                              <option value=\"kontrak2\">Kontrak 2</option>\n                              <option value=\"kontrak3\">Kontrak 3</option>\n                              <option value=\"permanent\">Permanent</option>\n                              <option value=\"terminate\">Tidak Diperpanjang</option>\n                            </select>\n                          </div>\n                          \n                          <div className=\"mb-3\">\n                            <label className=\"form-label fw-bold\">\n                              <i className=\"fas fa-calendar-alt me-2\"></i>\n                              Durasi (bulan)\n                            </label>\n                            <input\n                              type=\"number\"\n                              className=\"form-control\"\n                              min=\"1\"\n                              max=\"36\"\n                              value={recommendationData.recommended_duration || ''}\n                              onChange={(e) => setRecommendationData(prev => ({\n                                ...prev,\n                                recommended_duration: parseInt(e.target.value) || 0\n                              }))}\n                              disabled={recommendationData.recommendation_type === 'permanent' || recommendationData.recommendation_type === 'terminate'}\n                              placeholder={\n                                recommendationData.recommendation_type === 'permanent' ? 'Permanent - tidak perlu durasi' :\n                                recommendationData.recommendation_type === 'terminate' ? 'Kontrak berakhir' :\n                                'Masukkan durasi dalam bulan (1-36)'\n                              }\n                            />\n                            {recommendationData.recommendation_type === 'permanent' && (\n                              <div className=\"mt-2\">\n                                <small className=\"text-success\">\n                                  <i className=\"fas fa-info-circle me-1\"></i>\n                                  Permanent - tidak memerlukan durasi\n                                </small>\n                              </div>\n                            )}\n                            {recommendationData.recommendation_type === 'terminate' && (\n                              <div className=\"mt-2\">\n                                <small className=\"text-danger\">\n                                  <i className=\"fas fa-exclamation-triangle me-1\"></i>\n                                  Tidak diperpanjang - kontrak berakhir\n                                </small>\n                              </div>\n                            )}\n                          </div>\n                          \n                          <div className=\"mb-4\">\n                            <label className=\"form-label fw-bold\">\n                              <i className=\"fas fa-comment-alt me-2\"></i>\n                              Alasan Rekomendasi\n                            </label>\n                            <textarea\n                              className=\"form-control\"\n                              rows=\"4\"\n                              value={recommendationData.reason || ''}\n                              onChange={(e) => setRecommendationData(prev => ({\n                                ...prev,\n                                reason: e.target.value\n                              }))}\n                              placeholder=\"Jelaskan alasan rekomendasi berdasarkan analisis data, performa karyawan, dan kebutuhan perusahaan...\"\n                              style={{ resize: 'vertical' }}\n                            />\n                            <div className=\"form-text\">\n                              <i className=\"fas fa-lightbulb me-1\"></i>\n                              Tip: Sertakan justifikasi berdasarkan match status, tenure, dan analisis data mining\n                            </div>\n                          </div>\n\n                          <div className=\"text-center\">\n                            <button \n                              type=\"button\" \n                              className=\"btn btn-success btn-lg px-5\"\n                              onClick={submitRecommendation}\n                              disabled={!recommendationData.recommendation_type || !recommendationData.reason}\n                            >\n                              <i className=\"fas fa-paper-plane me-2\"></i>\n                              Kirim Rekomendasi ke HR\n                            </button>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n              \n              <div className=\"modal-footer py-3 bg-light\">\n                <button \n                  type=\"button\" \n                  className=\"btn btn-secondary px-4\"\n                  onClick={() => setShowRecommendationModal(false)}\n                >\n                  <i className=\"fas fa-times me-2\"></i>\n                  Tutup\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </Container>\n  );\n};\n\nexport default ManagerDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}