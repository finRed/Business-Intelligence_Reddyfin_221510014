{"ast":null,"code":"import React,{useState,useEffect,useContext}from'react';import{AuthContext}from'../App';import{useNavigate}from'react-router-dom';import{Pie,Bar}from'react-chartjs-2';import{Chart as ChartJS,CategoryScale,LinearScale,BarElement,ArcElement,Title,Tooltip,Legend}from'chart.js';import{Container,Row,Col,Card,Table,Badge,Button,Nav,Tab,OverlayTrigger,Tooltip as BootstrapTooltip}from'react-bootstrap';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,BarElement,ArcElement,Title,Tooltip,Legend);const ManagerDashboard=()=>{var _analytics$division_s,_analytics$division_s2,_analytics$division_s3,_analytics$division_s4,_analytics$division_s5,_analytics$division_s6,_analytics$division_s7,_analytics$division_s8,_analytics$division_s9,_analytics$division_s0,_analytics$division_s1,_analytics$division_s10,_analytics$division_s11,_analytics$employees;const{user}=useContext(AuthContext);const navigate=useNavigate();const[analytics,setAnalytics]=useState(null);const[processedRecommendations,setProcessedRecommendations]=useState([]);const[loading,setLoading]=useState(true);const[activeTab,setActiveTab]=useState('overview');const[error,setError]=useState(null);useEffect(()=>{if((user===null||user===void 0?void 0:user.role)==='manager'){fetchManagerData();fetchProcessedRecommendations();// Auto refresh processed recommendations every 30 seconds\nconst interval=setInterval(()=>{fetchProcessedRecommendations();},30000);return()=>clearInterval(interval);}else if((user===null||user===void 0?void 0:user.role)==='hr'){console.log('HR tidak dapat membuat rekomendasi. Hanya manager yang dapat membuat rekomendasi karyawan.');}},[user]);const fetchManagerData=async()=>{try{setLoading(true);const response=await fetch(\"/backend/manager_analytics_by_division.php?division_id=\".concat(user.division_id),{credentials:'include',headers:{'Content-Type':'application/json'}});if(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}const result=await response.json();console.log('📊 Manager Analytics Result:',result);if(result.success){setAnalytics(result.data);}else{console.error('❌ Failed to fetch analytics:',result.message);setError(result.message||'Failed to fetch analytics data');}}catch(error){console.error('Error fetching manager data:',error);}finally{setLoading(false);}};const fetchProcessedRecommendations=async()=>{try{const response=await fetch('/backend/api/recommendations.php?action=processed',{credentials:'include',headers:{'Content-Type':'application/json'}});if(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}const result=await response.json();if(result.success){setProcessedRecommendations(result.data||[]);}}catch(error){console.error('Error fetching processed recommendations:',error);}};const handleEmployeeDetail=employee=>{navigate(\"/manager/employee/\".concat(employee.eid));};const handleCreateRecommendation=employee=>{navigate(\"/manager/recommendation/\".concat(employee.eid));};const getRiskLevelChart=()=>{if(!(analytics!==null&&analytics!==void 0&&analytics.employees)||analytics.employees.length===0){return{labels:['Low Risk','Medium Risk','High Risk'],datasets:[{label:'Distribusi Risk Level',data:[0,0,0],backgroundColor:['#28a745','#ffc107','#dc3545'],borderWidth:1}]};}const employees=analytics.employees;const lowRisk=employees.filter(emp=>{var _emp$data_mining_reco;return((_emp$data_mining_reco=emp.data_mining_recommendation)===null||_emp$data_mining_reco===void 0?void 0:_emp$data_mining_reco.risk_level)==='Low';}).length;const mediumRisk=employees.filter(emp=>{var _emp$data_mining_reco2;return((_emp$data_mining_reco2=emp.data_mining_recommendation)===null||_emp$data_mining_reco2===void 0?void 0:_emp$data_mining_reco2.risk_level)==='Medium';}).length;const highRisk=employees.filter(emp=>{var _emp$data_mining_reco3;return((_emp$data_mining_reco3=emp.data_mining_recommendation)===null||_emp$data_mining_reco3===void 0?void 0:_emp$data_mining_reco3.risk_level)==='High';}).length;return{labels:['Low Risk','Medium Risk','High Risk'],datasets:[{label:'Distribusi Risk Level',data:[lowRisk,mediumRisk,highRisk],backgroundColor:['#28a745','#ffc107','#dc3545'],borderWidth:1}]};};const getContractRecommendationChart=()=>{if(!(analytics!==null&&analytics!==void 0&&analytics.employees)||analytics.employees.length===0){return{labels:['6 bulan','12 bulan','18 bulan','24 bulan','36 bulan'],datasets:[{label:'Jumlah Rekomendasi',data:[0,0,0,0,0],backgroundColor:'rgba(0, 123, 255, 0.8)',borderColor:'#007bff',borderWidth:2}]};}const employees=analytics.employees;const duration6=employees.filter(emp=>{var _emp$data_mining_reco4;return((_emp$data_mining_reco4=emp.data_mining_recommendation)===null||_emp$data_mining_reco4===void 0?void 0:_emp$data_mining_reco4.recommended_duration)===6;}).length;const duration12=employees.filter(emp=>{var _emp$data_mining_reco5;return((_emp$data_mining_reco5=emp.data_mining_recommendation)===null||_emp$data_mining_reco5===void 0?void 0:_emp$data_mining_reco5.recommended_duration)===12;}).length;const duration18=employees.filter(emp=>{var _emp$data_mining_reco6;return((_emp$data_mining_reco6=emp.data_mining_recommendation)===null||_emp$data_mining_reco6===void 0?void 0:_emp$data_mining_reco6.recommended_duration)===18;}).length;const duration24=employees.filter(emp=>{var _emp$data_mining_reco7;return((_emp$data_mining_reco7=emp.data_mining_recommendation)===null||_emp$data_mining_reco7===void 0?void 0:_emp$data_mining_reco7.recommended_duration)===24;}).length;const duration36=employees.filter(emp=>{var _emp$data_mining_reco8;return((_emp$data_mining_reco8=emp.data_mining_recommendation)===null||_emp$data_mining_reco8===void 0?void 0:_emp$data_mining_reco8.recommended_duration)===36;}).length;return{labels:['6 bulan','12 bulan','18 bulan','24 bulan','36 bulan'],datasets:[{label:'Jumlah Rekomendasi',data:[duration6,duration12,duration18,duration24,duration36],backgroundColor:'rgba(0, 123, 255, 0.8)',borderColor:'#007bff',borderWidth:2}]};};// Fungsi untuk mendapatkan status match dengan warna\nconst getMatchLevelBadge=matchStatus=>{if(matchStatus==='Match')return/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:\"Match\"});return/*#__PURE__*/_jsx(Badge,{bg:\"danger\",children:\"Unmatch\"});};const getContractStatusBadge=(contractType,tenure)=>{const badges={'probation':{variant:'warning',text:'Probation'},'1':{variant:'info',text:'Kontrak 1'},'2':{variant:'primary',text:'Kontrak 2'},'3':{variant:'secondary',text:'Kontrak 3'},'permanent':{variant:'success',text:'Permanent'},null:{variant:'light',text:'N/A'}};const badge=badges[contractType]||badges[null];if(contractType==='probation'&&tenure>=3){return/*#__PURE__*/_jsx(Badge,{bg:\"warning\",className:\"border border-danger\",children:\"Probation (Ready for Review)\"});}return/*#__PURE__*/_jsx(Badge,{bg:badge.variant,children:badge.text});};const getRecommendationStatusBadge=employee=>{if(employee.current_contract_type==='permanent'){return/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:\"-\"});}else if(employee.education_job_match==='Unmatch'){return/*#__PURE__*/_jsx(Badge,{bg:\"danger\",children:\"TIDAK DIREKOMENDASIKAN\"});}else{// Match - show recommended duration from Data Intelligence\nconst existingRecommendation=processedRecommendations.find(rec=>rec.employee_id===employee.eid);if(existingRecommendation&&existingRecommendation.recommended_duration){return/*#__PURE__*/_jsxs(Badge,{bg:\"success\",children:[existingRecommendation.recommended_duration,\" bulan\"]});}else{var _employee$data_mining;// Use Data Intelligence dari backend\nconst duration=(_employee$data_mining=employee.data_mining_recommendation)===null||_employee$data_mining===void 0?void 0:_employee$data_mining.recommended_duration;// Untuk Kontrak 3, duration 0 berarti Permanent\nif((employee.current_contract_type==='3'||employee.current_contract_type==='kontrak3')&&duration===0){return/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:\"PERMANENT\"});}// Untuk yang lain, gunakan duration dari Data Intelligence\nelse if(duration&&duration>0){return/*#__PURE__*/_jsxs(Badge,{bg:\"success\",children:[duration,\" bulan\"]});}// Default fallback\nelse{if(employee.current_contract_type==='3'){return/*#__PURE__*/_jsx(Badge,{bg:\"info\",children:\"PERMANENT\"});}else if(employee.current_contract_type==='2'){return/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:\"6 bulan (Evaluasi)\"});}else{return/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:\"Tidak Ada Data\"});}}}}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2\",children:\"Memuat data intelligence...\"})]})});}return/*#__PURE__*/_jsxs(Container,{fluid:true,className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-4 rounded\",style:{background:'linear-gradient(135deg, #007bff 0%, #0056b3 100%)',color:'white'},children:/*#__PURE__*/_jsxs(Row,{className:\"align-items-center\",children:[/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Manager Dashboard - Data Intelligence\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"Analisis Kecocokan Pendidikan & Rekomendasi Kontrak untuk Divisi\"}),/*#__PURE__*/_jsxs(\"small\",{children:[user.division_name,\" | Business Intelligence System\"]})]}),/*#__PURE__*/_jsx(Col,{xs:\"auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-end\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-0\",children:(analytics===null||analytics===void 0?void 0:(_analytics$division_s=analytics.division_stats)===null||_analytics$division_s===void 0?void 0:_analytics$division_s.total_employees)||0}),/*#__PURE__*/_jsx(\"small\",{children:\"Karyawan Aktif\"})]})})]})}),/*#__PURE__*/_jsxs(Tab.Container,{activeKey:activeTab,onSelect:setActiveTab,children:[/*#__PURE__*/_jsxs(Nav,{variant:\"tabs\",className:\"mb-4\",children:[/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(Nav.Link,{eventKey:\"overview\",style:{color:activeTab==='overview'?'#fff':'#007bff',backgroundColor:activeTab==='overview'?'#007bff':'transparent',borderColor:'#007bff'},children:\"Overview\"})}),/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(Nav.Link,{eventKey:\"education\",style:{color:activeTab==='education'?'#fff':'#007bff',backgroundColor:activeTab==='education'?'#007bff':'transparent',borderColor:'#007bff'},children:\"Analisis Pendidikan\"})}),/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(Nav.Link,{eventKey:\"employees\",style:{color:activeTab==='employees'?'#fff':'#007bff',backgroundColor:activeTab==='employees'?'#007bff':'transparent',borderColor:'#007bff'},children:\"Detail Karyawan\"})}),/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsxs(Nav.Link,{eventKey:\"processed\",style:{color:activeTab==='processed'?'#fff':'#007bff',backgroundColor:activeTab==='processed'?'#007bff':'transparent',borderColor:'#007bff'},children:[\"Rekomendasi Diproses (\",processedRecommendations.length,\")\"]})})]}),/*#__PURE__*/_jsxs(Tab.Content,{children:[/*#__PURE__*/_jsxs(Tab.Pane,{eventKey:\"overview\",children:[/*#__PURE__*/_jsxs(Row,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Col,{md:4,className:\"mb-3\",children:/*#__PURE__*/_jsx(Card,{className:\"h-100\",style:{background:'linear-gradient(135deg, #28a745 0%, #1e7e34 100%)',color:'white'},children:/*#__PURE__*/_jsxs(Card.Body,{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{children:(analytics===null||analytics===void 0?void 0:(_analytics$division_s2=analytics.division_stats)===null||_analytics$division_s2===void 0?void 0:(_analytics$division_s3=_analytics$division_s2.data_mining_summary)===null||_analytics$division_s3===void 0?void 0:_analytics$division_s3.match_employees)||0}),/*#__PURE__*/_jsx(\"small\",{children:\"Match Employees\"})]})})}),/*#__PURE__*/_jsx(Col,{md:4,className:\"mb-3\",children:/*#__PURE__*/_jsx(Card,{className:\"h-100\",style:{background:'linear-gradient(135deg, #ffc107 0%, #e0a800 100%)',color:'white'},children:/*#__PURE__*/_jsxs(Card.Body,{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{children:(analytics===null||analytics===void 0?void 0:(_analytics$division_s4=analytics.division_stats)===null||_analytics$division_s4===void 0?void 0:(_analytics$division_s5=_analytics$division_s4.data_mining_summary)===null||_analytics$division_s5===void 0?void 0:_analytics$division_s5.recommended_extensions)||0}),/*#__PURE__*/_jsx(\"small\",{children:\"Rekomendasi Perpanjangan\"})]})})}),/*#__PURE__*/_jsx(Col,{md:4,className:\"mb-3\",children:/*#__PURE__*/_jsx(Card,{className:\"h-100\",style:{background:'linear-gradient(135deg, #dc3545 0%, #c82333 100%)',color:'white'},children:/*#__PURE__*/_jsxs(Card.Body,{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{children:(analytics===null||analytics===void 0?void 0:(_analytics$division_s6=analytics.division_stats)===null||_analytics$division_s6===void 0?void 0:(_analytics$division_s7=_analytics$division_s6.data_mining_summary)===null||_analytics$division_s7===void 0?void 0:_analytics$division_s7.high_risk_employees)||0}),/*#__PURE__*/_jsx(\"small\",{children:\"High Risk Employees\"})]})})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{style:{backgroundColor:'#007bff',color:'white'},children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"\\uD83D\\uDCCA Distribusi Tingkat Risiko\"})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsx(Pie,{data:getRiskLevelChart(),options:{responsive:true,plugins:{legend:{position:'bottom'}}}})})]})}),/*#__PURE__*/_jsx(Col,{md:6,className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{style:{backgroundColor:'#007bff',color:'white'},children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"\\uD83D\\uDCC8 Rekomendasi Durasi Kontrak\"})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsx(Bar,{data:getContractRecommendationChart(),options:{responsive:true,plugins:{legend:{display:false}},scales:{y:{beginAtZero:true}}}})})]})})]}),/*#__PURE__*/_jsxs(Card,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(Card.Header,{style:{backgroundColor:'#007bff',color:'white'},children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"\\uD83E\\uDDE0 Contract Intelligence Summary\"})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 border rounded\",style:{backgroundColor:'#e3f2fd'},children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-primary\",children:(analytics===null||analytics===void 0?void 0:(_analytics$division_s8=analytics.division_stats)===null||_analytics$division_s8===void 0?void 0:(_analytics$division_s9=_analytics$division_s8.contract_summary)===null||_analytics$division_s9===void 0?void 0:_analytics$division_s9.probation_ready)||0}),/*#__PURE__*/_jsx(\"small\",{children:\"Probation Ready for Review\"})]})}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 border rounded\",style:{backgroundColor:'#fff3e0'},children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-warning\",children:(analytics===null||analytics===void 0?void 0:(_analytics$division_s0=analytics.division_stats)===null||_analytics$division_s0===void 0?void 0:(_analytics$division_s1=_analytics$division_s0.contract_summary)===null||_analytics$division_s1===void 0?void 0:_analytics$division_s1.contracts_ending)||0}),/*#__PURE__*/_jsx(\"small\",{children:\"Contracts Ending Soon\"})]})}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-3 border rounded\",style:{backgroundColor:'#e8f5e8'},children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-success\",children:(analytics===null||analytics===void 0?void 0:(_analytics$division_s10=analytics.division_stats)===null||_analytics$division_s10===void 0?void 0:(_analytics$division_s11=_analytics$division_s10.contract_summary)===null||_analytics$division_s11===void 0?void 0:_analytics$division_s11.permanent_eligible)||0}),/*#__PURE__*/_jsx(\"small\",{children:\"Permanent Eligible\"})]})})]})})]})]}),/*#__PURE__*/_jsx(Tab.Pane,{eventKey:\"education\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{style:{backgroundColor:'#007bff',color:'white'},children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"\\uD83C\\uDF93 Analisis Kecocokan Pendidikan-Pekerjaan (Data Mining)\"})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Table,{responsive:true,striped:true,children:[/*#__PURE__*/_jsx(\"thead\",{style:{backgroundColor:'#007bff',color:'white'},children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Nama\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Pendidikan\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Posisi\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status Match\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Rekomendasi Durasi\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:(analytics===null||analytics===void 0?void 0:(_analytics$employees=analytics.employees)===null||_analytics$employees===void 0?void 0:_analytics$employees.map((emp,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:emp.name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[emp.tenure_months,\" bulan\"]})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:emp.major}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:emp.education_level})]}),/*#__PURE__*/_jsx(\"td\",{children:emp.role}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center\",children:getMatchLevelBadge(emp.education_job_match)})}),/*#__PURE__*/_jsx(\"td\",{children:emp.current_contract_type==='permanent'?/*#__PURE__*/_jsx(\"span\",{children:\"-\"}):emp.education_job_match==='Unmatch'?/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:(_emp$data_mining_reco9=>{const duration=(_emp$data_mining_reco9=emp.data_mining_recommendation)===null||_emp$data_mining_reco9===void 0?void 0:_emp$data_mining_reco9.recommended_duration;if(duration&&duration>0){return\"\".concat(duration,\" bulan (Evaluasi)\");}else{return'6 bulan (Evaluasi)';}})()}):/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:(_emp$data_mining_reco0=>{const duration=(_emp$data_mining_reco0=emp.data_mining_recommendation)===null||_emp$data_mining_reco0===void 0?void 0:_emp$data_mining_reco0.recommended_duration;// FIX: Kontrak 3 dengan duration 0 = Permanent\nif((emp.current_contract_type==='3'||emp.current_contract_type==='kontrak3')&&(duration===0||duration===null)){return'Permanent';}else if(duration&&duration>0){return\"\".concat(duration,\" bulan\");}else{return'6 bulan (Default)';}})()})})]},index)))||[]})]})})]})}),/*#__PURE__*/_jsx(Tab.Pane,{eventKey:\"employees\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{style:{backgroundColor:'#007bff',color:'white'},children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"\\uD83D\\uDC65 Detail Karyawan Divisi\"})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Table,{responsive:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{style:{backgroundColor:'#e3f2fd'},children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Nama & Departemen\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Pendidikan\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Join Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Years Of Service\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status Kontrak\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status Match\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Rekomendasi Kontrak\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status Rekomendasi\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:analytics===null||analytics===void 0?void 0:analytics.employees.map((emp,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:emp.name}),/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:emp.role})]})]})}),/*#__PURE__*/_jsxs(\"td\",{children:[emp.major,/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:emp.education_level})]})]}),/*#__PURE__*/_jsx(\"td\",{children:new Date(emp.join_date).toLocaleDateString('id-ID')}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(Badge,{bg:\"info\",children:[emp.tenure_months,\" bulan\"]})}),/*#__PURE__*/_jsx(\"td\",{children:getContractStatusBadge(emp.current_contract_type,emp.days_to_contract_end)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center\",children:getMatchLevelBadge(emp.education_job_match)})}),/*#__PURE__*/_jsx(\"td\",{children:emp.current_contract_type==='permanent'?/*#__PURE__*/_jsx(\"span\",{children:\"-\"}):emp.education_job_match==='Unmatch'?/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:(_emp$data_mining_reco1=>{const duration=(_emp$data_mining_reco1=emp.data_mining_recommendation)===null||_emp$data_mining_reco1===void 0?void 0:_emp$data_mining_reco1.recommended_duration;if(duration&&duration>0){return\"\".concat(duration,\" bulan (Evaluasi)\");}else{return'6 bulan (Evaluasi)';}})()}):/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:(_emp$data_mining_reco10=>{const duration=(_emp$data_mining_reco10=emp.data_mining_recommendation)===null||_emp$data_mining_reco10===void 0?void 0:_emp$data_mining_reco10.recommended_duration;// FIX: Kontrak 3 dengan duration 0 = Permanent\nif((emp.current_contract_type==='3'||emp.current_contract_type==='kontrak3')&&(duration===0||duration===null)){return'Permanent';}else if(duration&&duration>0){return\"\".concat(duration,\" bulan\");}else{return'6 bulan (Default)';}})()})}),/*#__PURE__*/_jsx(\"td\",{children:getRecommendationStatusBadge(emp)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-1\",children:[/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"primary\",onClick:()=>handleEmployeeDetail(emp),title:\"Lihat detail analisis karyawan\",children:\"Detail\"}),emp.current_contract_type==='permanent'?/*#__PURE__*/_jsxs(Button,{size:\"sm\",variant:\"outline-danger\",disabled:true,title:\"Karyawan memiliki kontrak permanent\",style:{backgroundColor:'#f8f9fa',borderColor:'#dc3545',color:'#dc3545',cursor:'not-allowed',opacity:0.7,fontSize:'0.7rem',padding:'0.25rem 0.4rem',lineHeight:'1.2'},children:[\"\\u274C Tidak Dapat\",/*#__PURE__*/_jsx(\"br\",{}),\"Direkomendasikan\"]}):/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"success\",onClick:()=>handleCreateRecommendation(emp),disabled:emp.has_pending_recommendation||emp.days_to_contract_end>30,title:emp.has_pending_recommendation?'Sudah ada rekomendasi pending':emp.days_to_contract_end>30?\"Kontrak masih berlaku \".concat(emp.days_to_contract_end,\" hari lagi\"):'Buat rekomendasi untuk karyawan ini',children:\"Rekomendasi\"})]})})]},index))})]})})]})}),/*#__PURE__*/_jsx(Tab.Pane,{eventKey:\"processed\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(Card.Header,{style:{backgroundColor:'#28a745',color:'white'},className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"\\u2705 Rekomendasi yang Sudah Diproses HR\"}),/*#__PURE__*/_jsx(\"small\",{children:\"Lihat status rekomendasi Anda dan kontrak yang telah diperpanjang\"})]}),/*#__PURE__*/_jsx(Button,{variant:\"outline-light\",size:\"sm\",onClick:fetchProcessedRecommendations,className:\"ms-2\",children:\"\\uD83D\\uDD04 Refresh\"})]}),/*#__PURE__*/_jsx(Card.Body,{children:processedRecommendations.length>0?/*#__PURE__*/_jsxs(Table,{responsive:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{style:{backgroundColor:'#e8f5e8'},children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Karyawan\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Rekomendasi Anda\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status HR\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Kontrak Baru\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tanggal Diproses\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:processedRecommendations.map((rec,index)=>{var _rec$new_contract,_rec$new_contract2;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:rec.employee.name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:rec.employee.role})]})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Badge,{bg:\"primary\",className:\"me-1\",children:rec.recommendation_type==='kontrak1'?'Kontrak 1':rec.recommendation_type==='kontrak2'?'Kontrak 2':rec.recommendation_type==='kontrak3'?'Kontrak 3':rec.recommendation_type}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[rec.recommended_duration,\" bulan\"]})]}),/*#__PURE__*/_jsx(\"td\",{children:rec.status==='approved'?/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:\"\\u2705 Disetujui\"}):/*#__PURE__*/_jsx(Badge,{bg:\"danger\",children:\"\\u274C Ditolak\"})}),/*#__PURE__*/_jsx(\"td\",{children:rec.status==='approved'&&(_rec$new_contract=rec.new_contract)!==null&&_rec$new_contract!==void 0&&_rec$new_contract.is_created?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Badge,{bg:\"success\",className:\"mb-1\",children:rec.new_contract.type}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-success\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u2705 Kontrak Aktif:\"}),/*#__PURE__*/_jsx(\"br\",{}),rec.new_contract.end_date?\"\".concat(new Date(rec.new_contract.start_date).toLocaleDateString('id-ID'),\" - \").concat(new Date(rec.new_contract.end_date).toLocaleDateString('id-ID')):\"Mulai: \".concat(new Date(rec.new_contract.start_date).toLocaleDateString('id-ID'),\" (Permanent)\"),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted\",children:[\"Durasi: \",rec.recommended_duration==='permanent'?'Permanent':\"\".concat(rec.recommended_duration,\" bulan\")]})]})]}):rec.status==='approved'?/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:\"\\u23F3 Kontrak sedang dibuat\"}):/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Tidak ada kontrak baru\"})}),/*#__PURE__*/_jsx(\"td\",{children:new Date(rec.updated_at).toLocaleDateString('id-ID')}),/*#__PURE__*/_jsx(\"td\",{children:rec.status==='approved'&&(_rec$new_contract2=rec.new_contract)!==null&&_rec$new_contract2!==void 0&&_rec$new_contract2.is_created?/*#__PURE__*/_jsx(Badge,{bg:\"success\",children:\"\\uD83C\\uDF89 Kontrak Berhasil Diperpanjang\"}):rec.status==='approved'?/*#__PURE__*/_jsx(Badge,{bg:\"warning\",children:\"\\u23F3 Sedang Memproses Kontrak\"}):/*#__PURE__*/_jsx(Badge,{bg:\"danger\",children:\"\\u274C Rekomendasi Ditolak\"})})]},index);})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"display-1 mb-3\",children:\"\\uD83D\\uDCCB\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Belum Ada Rekomendasi yang Diproses\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Rekomendasi yang Anda buat akan muncul di sini setelah diproses oleh HR.\"})]})})]})})]})]})]});};export default ManagerDashboard;","map":{"version":3,"names":["React","useState","useEffect","useContext","AuthContext","useNavigate","Pie","Bar","Chart","ChartJS","CategoryScale","LinearScale","BarElement","ArcElement","Title","Tooltip","Legend","Container","Row","Col","Card","Table","Badge","Button","Nav","Tab","OverlayTrigger","BootstrapTooltip","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","register","ManagerDashboard","_analytics$division_s","_analytics$division_s2","_analytics$division_s3","_analytics$division_s4","_analytics$division_s5","_analytics$division_s6","_analytics$division_s7","_analytics$division_s8","_analytics$division_s9","_analytics$division_s0","_analytics$division_s1","_analytics$division_s10","_analytics$division_s11","_analytics$employees","user","navigate","analytics","setAnalytics","processedRecommendations","setProcessedRecommendations","loading","setLoading","activeTab","setActiveTab","error","setError","role","fetchManagerData","fetchProcessedRecommendations","interval","setInterval","clearInterval","console","log","response","fetch","concat","division_id","credentials","headers","ok","Error","status","result","json","success","data","message","handleEmployeeDetail","employee","eid","handleCreateRecommendation","getRiskLevelChart","employees","length","labels","datasets","label","backgroundColor","borderWidth","lowRisk","filter","emp","_emp$data_mining_reco","data_mining_recommendation","risk_level","mediumRisk","_emp$data_mining_reco2","highRisk","_emp$data_mining_reco3","getContractRecommendationChart","borderColor","duration6","_emp$data_mining_reco4","recommended_duration","duration12","_emp$data_mining_reco5","duration18","_emp$data_mining_reco6","duration24","_emp$data_mining_reco7","duration36","_emp$data_mining_reco8","getMatchLevelBadge","matchStatus","bg","children","getContractStatusBadge","contractType","tenure","badges","variant","text","null","badge","className","getRecommendationStatusBadge","current_contract_type","education_job_match","existingRecommendation","find","rec","employee_id","_employee$data_mining","duration","fluid","style","background","color","division_name","xs","division_stats","total_employees","activeKey","onSelect","Item","Link","eventKey","Content","Pane","md","Body","data_mining_summary","match_employees","recommended_extensions","high_risk_employees","Header","options","responsive","plugins","legend","position","display","scales","y","beginAtZero","contract_summary","probation_ready","contracts_ending","permanent_eligible","striped","map","index","name","tenure_months","major","education_level","_emp$data_mining_reco9","_emp$data_mining_reco0","hover","Date","join_date","toLocaleDateString","days_to_contract_end","_emp$data_mining_reco1","_emp$data_mining_reco10","size","onClick","title","disabled","cursor","opacity","fontSize","padding","lineHeight","has_pending_recommendation","_rec$new_contract","_rec$new_contract2","recommendation_type","new_contract","is_created","type","end_date","start_date","updated_at"],"sources":["C:/xampp/htdocs/web_srk_BI/frontend/src/pages/ManagerDashboard.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { AuthContext } from '../App';\nimport { useNavigate } from 'react-router-dom';\nimport { Pie, Bar } from 'react-chartjs-2';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  ArcElement,\n  Title,\n  Tooltip,\n  Legend,\n} from 'chart.js';\n\nimport {\n  Container,\n  Row,\n  Col,\n  Card,\n  Table,\n  Badge,\n  Button,\n  Nav,\n  Tab,\n  OverlayTrigger,\n  Tooltip as BootstrapTooltip\n} from 'react-bootstrap';\n\nChartJS.register(CategoryScale, LinearScale, BarElement, ArcElement, Title, Tooltip, Legend);\n\nconst ManagerDashboard = () => {\n  const { user } = useContext(AuthContext);\n  const navigate = useNavigate();\n  const [analytics, setAnalytics] = useState(null);\n  const [processedRecommendations, setProcessedRecommendations] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState('overview');\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (user?.role === 'manager') {\n      fetchManagerData();\n      fetchProcessedRecommendations();\n      \n      // Auto refresh processed recommendations every 30 seconds\n      const interval = setInterval(() => {\n        fetchProcessedRecommendations();\n      }, 30000);\n      \n      return () => clearInterval(interval);\n    } else if (user?.role === 'hr') {\n      console.log('HR tidak dapat membuat rekomendasi. Hanya manager yang dapat membuat rekomendasi karyawan.');\n    }\n  }, [user]);\n\n  const fetchManagerData = async () => {\n    try {\n      setLoading(true);\n      \n      const response = await fetch(`/backend/manager_analytics_by_division.php?division_id=${user.division_id}`, {\n        credentials: 'include',\n        headers: {\n          'Content-Type': 'application/json',\n        }\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const result = await response.json();\n      console.log('📊 Manager Analytics Result:', result);\n\n      if (result.success) {\n        setAnalytics(result.data);\n      } else {\n        console.error('❌ Failed to fetch analytics:', result.message);\n        setError(result.message || 'Failed to fetch analytics data');\n      }\n    } catch (error) {\n      console.error('Error fetching manager data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchProcessedRecommendations = async () => {\n    try {\n      const response = await fetch('/backend/api/recommendations.php?action=processed', {\n        credentials: 'include',\n        headers: {\n          'Content-Type': 'application/json',\n        }\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const result = await response.json();\n      if (result.success) {\n        setProcessedRecommendations(result.data || []);\n      }\n    } catch (error) {\n      console.error('Error fetching processed recommendations:', error);\n    }\n  };\n\n  const handleEmployeeDetail = (employee) => {\n    navigate(`/manager/employee/${employee.eid}`);\n  };\n\n  const handleCreateRecommendation = (employee) => {\n    navigate(`/manager/recommendation/${employee.eid}`);\n  };\n\n  const getRiskLevelChart = () => {\n    if (!analytics?.employees || analytics.employees.length === 0) {\n      return {\n        labels: ['Low Risk', 'Medium Risk', 'High Risk'],\n        datasets: [{\n          label: 'Distribusi Risk Level',\n          data: [0, 0, 0],\n          backgroundColor: ['#28a745', '#ffc107', '#dc3545'],\n          borderWidth: 1\n        }]\n      };\n    }\n\n    const employees = analytics.employees;\n    const lowRisk = employees.filter(emp => emp.data_mining_recommendation?.risk_level === 'Low').length;\n    const mediumRisk = employees.filter(emp => emp.data_mining_recommendation?.risk_level === 'Medium').length;\n    const highRisk = employees.filter(emp => emp.data_mining_recommendation?.risk_level === 'High').length;\n\n    return {\n      labels: ['Low Risk', 'Medium Risk', 'High Risk'],\n      datasets: [{\n        label: 'Distribusi Risk Level',\n        data: [lowRisk, mediumRisk, highRisk],\n        backgroundColor: ['#28a745', '#ffc107', '#dc3545'],\n        borderWidth: 1\n      }]\n    };\n  };\n\n  const getContractRecommendationChart = () => {\n    if (!analytics?.employees || analytics.employees.length === 0) {\n      return {\n        labels: ['6 bulan', '12 bulan', '18 bulan', '24 bulan', '36 bulan'],\n        datasets: [{\n          label: 'Jumlah Rekomendasi',\n          data: [0, 0, 0, 0, 0],\n          backgroundColor: 'rgba(0, 123, 255, 0.8)',\n          borderColor: '#007bff',\n          borderWidth: 2\n        }]\n      };\n    }\n\n    const employees = analytics.employees;\n    const duration6 = employees.filter(emp => emp.data_mining_recommendation?.recommended_duration === 6).length;\n    const duration12 = employees.filter(emp => emp.data_mining_recommendation?.recommended_duration === 12).length;\n    const duration18 = employees.filter(emp => emp.data_mining_recommendation?.recommended_duration === 18).length;\n    const duration24 = employees.filter(emp => emp.data_mining_recommendation?.recommended_duration === 24).length;\n    const duration36 = employees.filter(emp => emp.data_mining_recommendation?.recommended_duration === 36).length;\n\n    return {\n      labels: ['6 bulan', '12 bulan', '18 bulan', '24 bulan', '36 bulan'],\n      datasets: [{\n        label: 'Jumlah Rekomendasi',\n        data: [duration6, duration12, duration18, duration24, duration36],\n        backgroundColor: 'rgba(0, 123, 255, 0.8)',\n        borderColor: '#007bff',\n        borderWidth: 2\n      }]\n    };\n  };\n\n  // Fungsi untuk mendapatkan status match dengan warna\n  const getMatchLevelBadge = (matchStatus) => {\n    if (matchStatus === 'Match') return <Badge bg=\"success\">Match</Badge>;\n    return <Badge bg=\"danger\">Unmatch</Badge>;\n  };\n\n  const getContractStatusBadge = (contractType, tenure) => {\n    const badges = {\n      'probation': { variant: 'warning', text: 'Probation' },\n      '1': { variant: 'info', text: 'Kontrak 1' },\n      '2': { variant: 'primary', text: 'Kontrak 2' },\n      '3': { variant: 'secondary', text: 'Kontrak 3' },\n      'permanent': { variant: 'success', text: 'Permanent' },\n      null: { variant: 'light', text: 'N/A' }\n    };\n\n    const badge = badges[contractType] || badges[null];\n    \n    if (contractType === 'probation' && tenure >= 3) {\n      return <Badge bg=\"warning\" className=\"border border-danger\">Probation (Ready for Review)</Badge>;\n    }\n\n    return <Badge bg={badge.variant}>{badge.text}</Badge>;\n  };\n\n  const getRecommendationStatusBadge = (employee) => {\n    if (employee.current_contract_type === 'permanent') {\n      return <Badge bg=\"secondary\">-</Badge>;\n    } else if (employee.education_job_match === 'Unmatch') {\n      return <Badge bg=\"danger\">TIDAK DIREKOMENDASIKAN</Badge>;\n    } else {\n      // Match - show recommended duration from Data Intelligence\n      const existingRecommendation = processedRecommendations.find(rec => rec.employee_id === employee.eid);\n      if (existingRecommendation && existingRecommendation.recommended_duration) {\n        return <Badge bg=\"success\">{existingRecommendation.recommended_duration} bulan</Badge>;\n      } else {\n        // Use Data Intelligence dari backend\n        const duration = employee.data_mining_recommendation?.recommended_duration;\n        \n        // Untuk Kontrak 3, duration 0 berarti Permanent\n        if ((employee.current_contract_type === '3' || employee.current_contract_type === 'kontrak3') && duration === 0) {\n          return <Badge bg=\"success\">PERMANENT</Badge>;\n        }\n        // Untuk yang lain, gunakan duration dari Data Intelligence\n        else if (duration && duration > 0) {\n          return <Badge bg=\"success\">{duration} bulan</Badge>;\n        }\n        // Default fallback\n        else {\n          if (employee.current_contract_type === '3') {\n            return <Badge bg=\"info\">PERMANENT</Badge>;\n          } else if (employee.current_contract_type === '2') {\n            return <Badge bg=\"warning\">6 bulan (Evaluasi)</Badge>;\n          } else {\n            return <Badge bg=\"secondary\">Tidak Ada Data</Badge>;\n          }\n        }\n      }\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"container-fluid mt-4\">\n        <div className=\"text-center\">\n          <div className=\"spinner-border text-primary\" role=\"status\">\n            <span className=\"visually-hidden\">Loading...</span>\n          </div>\n          <p className=\"mt-2\">Memuat data intelligence...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <Container fluid className=\"mt-3\">\n      \n      {/* Header dengan tema biru konsisten */}\n      <div className=\"mb-4 p-4 rounded\" style={{\n        background: 'linear-gradient(135deg, #007bff 0%, #0056b3 100%)',\n        color: 'white'\n      }}>\n        <Row className=\"align-items-center\">\n          <Col>\n            <h2>Manager Dashboard - Data Intelligence</h2>\n            <p className=\"mb-0\">Analisis Kecocokan Pendidikan & Rekomendasi Kontrak untuk Divisi</p>\n            <small>{user.division_name} | Business Intelligence System</small>\n          </Col>\n          <Col xs=\"auto\">\n            <div className=\"text-end\">\n              <h3 className=\"mb-0\">{analytics?.division_stats?.total_employees || 0}</h3>\n              <small>Karyawan Aktif</small>\n            </div>\n          </Col>\n        </Row>\n      </div>\n\n      {/* Navigation Tabs dengan tema biru */}\n      <Tab.Container activeKey={activeTab} onSelect={setActiveTab}>\n        <Nav variant=\"tabs\" className=\"mb-4\">\n          <Nav.Item>\n            <Nav.Link eventKey=\"overview\" style={{\n              color: activeTab === 'overview' ? '#fff' : '#007bff',\n              backgroundColor: activeTab === 'overview' ? '#007bff' : 'transparent',\n              borderColor: '#007bff'\n            }}>\n              Overview\n            </Nav.Link>\n          </Nav.Item>\n          <Nav.Item>\n            <Nav.Link eventKey=\"education\" style={{\n              color: activeTab === 'education' ? '#fff' : '#007bff',\n              backgroundColor: activeTab === 'education' ? '#007bff' : 'transparent',\n              borderColor: '#007bff'\n            }}>\n              Analisis Pendidikan\n            </Nav.Link>\n          </Nav.Item>\n\n          <Nav.Item>\n            <Nav.Link eventKey=\"employees\" style={{\n              color: activeTab === 'employees' ? '#fff' : '#007bff',\n              backgroundColor: activeTab === 'employees' ? '#007bff' : 'transparent',\n              borderColor: '#007bff'\n            }}>\n              Detail Karyawan\n            </Nav.Link>\n          </Nav.Item>\n          <Nav.Item>\n            <Nav.Link eventKey=\"processed\" style={{\n              color: activeTab === 'processed' ? '#fff' : '#007bff',\n              backgroundColor: activeTab === 'processed' ? '#007bff' : 'transparent',\n              borderColor: '#007bff'\n            }}>\n              Rekomendasi Diproses ({processedRecommendations.length})\n            </Nav.Link>\n          </Nav.Item>\n        </Nav>\n\n        <Tab.Content>\n          {/* Overview Tab */}\n          <Tab.Pane eventKey=\"overview\">\n            <Row className=\"mb-4\">\n              {/* Key Metrics Cards dengan gradient biru */}\n              <Col md={4} className=\"mb-3\">\n                <Card className=\"h-100\" style={{\n                  background: 'linear-gradient(135deg, #28a745 0%, #1e7e34 100%)',\n                  color: 'white'\n                }}>\n                  <Card.Body className=\"text-center\">\n                    <h3>{analytics?.division_stats?.data_mining_summary?.match_employees || 0}</h3>\n                    <small>Match Employees</small>\n                  </Card.Body>\n                </Card>\n              </Col>\n              <Col md={4} className=\"mb-3\">\n                <Card className=\"h-100\" style={{\n                  background: 'linear-gradient(135deg, #ffc107 0%, #e0a800 100%)',\n                  color: 'white'\n                }}>\n                  <Card.Body className=\"text-center\">\n                    <h3>{analytics?.division_stats?.data_mining_summary?.recommended_extensions || 0}</h3>\n                    <small>Rekomendasi Perpanjangan</small>\n                  </Card.Body>\n                </Card>\n              </Col>\n              <Col md={4} className=\"mb-3\">\n                <Card className=\"h-100\" style={{\n                  background: 'linear-gradient(135deg, #dc3545 0%, #c82333 100%)',\n                  color: 'white'\n                }}>\n                  <Card.Body className=\"text-center\">\n                    <h3>{analytics?.division_stats?.data_mining_summary?.high_risk_employees || 0}</h3>\n                    <small>High Risk Employees</small>\n                  </Card.Body>\n                </Card>\n              </Col>\n            </Row>\n\n            <Row>\n              <Col md={6} className=\"mb-4\">\n                <Card>\n                  <Card.Header style={{ backgroundColor: '#007bff', color: 'white' }}>\n                    <h5 className=\"mb-0\">📊 Distribusi Tingkat Risiko</h5>\n                  </Card.Header>\n                  <Card.Body>\n                    <Pie data={getRiskLevelChart()} options={{\n                      responsive: true,\n                      plugins: {\n                        legend: { position: 'bottom' }\n                      }\n                    }} />\n                  </Card.Body>\n                </Card>\n              </Col>\n              <Col md={6} className=\"mb-4\">\n                <Card>\n                  <Card.Header style={{ backgroundColor: '#007bff', color: 'white' }}>\n                    <h5 className=\"mb-0\">📈 Rekomendasi Durasi Kontrak</h5>\n                  </Card.Header>\n                  <Card.Body>\n                    <Bar data={getContractRecommendationChart()} options={{\n                      responsive: true,\n                      plugins: {\n                        legend: { display: false }\n                      },\n                      scales: {\n                        y: { beginAtZero: true }\n                      }\n                    }} />\n                  </Card.Body>\n                </Card>\n              </Col>\n            </Row>\n\n            {/* Contract Intelligence Summary */}\n            <Card className=\"mb-4\">\n              <Card.Header style={{ backgroundColor: '#007bff', color: 'white' }}>\n                <h5 className=\"mb-0\">🧠 Contract Intelligence Summary</h5>\n              </Card.Header>\n              <Card.Body>\n                <Row>\n                  <Col md={4}>\n                    <div className=\"text-center p-3 border rounded\" style={{ backgroundColor: '#e3f2fd' }}>\n                      <h4 className=\"text-primary\">{analytics?.division_stats?.contract_summary?.probation_ready || 0}</h4>\n                      <small>Probation Ready for Review</small>\n                    </div>\n                  </Col>\n                  <Col md={4}>\n                    <div className=\"text-center p-3 border rounded\" style={{ backgroundColor: '#fff3e0' }}>\n                      <h4 className=\"text-warning\">{analytics?.division_stats?.contract_summary?.contracts_ending || 0}</h4>\n                      <small>Contracts Ending Soon</small>\n                    </div>\n                  </Col>\n                  <Col md={4}>\n                    <div className=\"text-center p-3 border rounded\" style={{ backgroundColor: '#e8f5e8' }}>\n                      <h4 className=\"text-success\">{analytics?.division_stats?.contract_summary?.permanent_eligible || 0}</h4>\n                      <small>Permanent Eligible</small>\n                    </div>\n                  </Col>\n                </Row>\n              </Card.Body>\n            </Card>\n          </Tab.Pane>\n\n          {/* Education Analysis Tab */}\n          <Tab.Pane eventKey=\"education\">\n            <Card>\n              <Card.Header style={{ backgroundColor: '#007bff', color: 'white' }}>\n                <h5 className=\"mb-0\">🎓 Analisis Kecocokan Pendidikan-Pekerjaan (Data Mining)</h5>\n              </Card.Header>\n              <Card.Body>\n                <Table responsive striped>\n                  <thead style={{ backgroundColor: '#007bff', color: 'white' }}>\n                    <tr>\n                      <th>Nama</th>\n                      <th>Pendidikan</th>\n                      <th>Posisi</th>\n                      <th>Status Match</th>\n                      <th>Rekomendasi Durasi</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {analytics?.employees?.map((emp, index) => (\n                      <tr key={index}>\n                        <td>\n                          <strong>{emp.name}</strong>\n                          <br />\n                          <small className=\"text-muted\">{emp.tenure_months} bulan</small>\n                        </td>\n                        <td>\n                          <div>{emp.major}</div>\n                          <small className=\"text-muted\">{emp.education_level}</small>\n                        </td>\n                        <td>{emp.role}</td>\n                        <td>\n                          <div className=\"d-flex align-items-center\">\n                            {getMatchLevelBadge(emp.education_job_match)}\n                          </div>\n                        </td>\n                        <td>\n                          {/* FIX: Proper recommendation display */}\n                          {emp.current_contract_type === 'permanent' ? (\n                            <span>-</span>\n                          ) : emp.education_job_match === 'Unmatch' ? (\n                            <Badge bg=\"warning\">\n                              {(() => {\n                                const duration = emp.data_mining_recommendation?.recommended_duration;\n                                if (duration && duration > 0) {\n                                  return `${duration} bulan (Evaluasi)`;\n                                } else {\n                                  return '6 bulan (Evaluasi)';\n                                }\n                              })()}\n                            </Badge>\n                          ) : (\n                          <Badge bg=\"success\">\n                            {(() => {\n                              const duration = emp.data_mining_recommendation?.recommended_duration;\n                              // FIX: Kontrak 3 dengan duration 0 = Permanent\n                              if ((emp.current_contract_type === '3' || emp.current_contract_type === 'kontrak3') && \n                                  (duration === 0 || duration === null)) {\n                                return 'Permanent';\n                              } else if (duration && duration > 0) {\n                                return `${duration} bulan`;\n                              } else {\n                                return '6 bulan (Default)';\n                              }\n                            })()}\n                          </Badge>\n                          )}\n                        </td>\n                      </tr>\n                    )) || []}\n                  </tbody>\n                </Table>\n              </Card.Body>\n            </Card>\n          </Tab.Pane>\n\n          {/* Employee Details Tab */}\n          <Tab.Pane eventKey=\"employees\">\n            <Card>\n              <Card.Header style={{ backgroundColor: '#007bff', color: 'white' }}>\n                <h5 className=\"mb-0\">👥 Detail Karyawan Divisi</h5>\n              </Card.Header>\n              <Card.Body>\n                <Table responsive hover>\n                  <thead style={{ backgroundColor: '#e3f2fd' }}>\n                    <tr>\n                      <th>Nama & Departemen</th>\n                      <th>Pendidikan</th>\n                      <th>Join Date</th>\n                                              <th>Years Of Service</th>\n                      <th>Status Kontrak</th>\n                      <th>Status Match</th>\n                      <th>Rekomendasi Kontrak</th>\n                      <th>Status Rekomendasi</th>\n                      <th>Action</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {analytics?.employees.map((emp, index) => (\n                      <tr key={index}>\n                        <td>\n                          <div>\n                            <strong>{emp.name}</strong>\n                            <>\n                              <br />\n                              <small className=\"text-muted\">{emp.role}</small>\n                            </>\n                          </div>\n                        </td>\n                        <td>\n                          {emp.major}\n                          <>\n                            <br />\n                            <small className=\"text-muted\">{emp.education_level}</small>\n                          </>\n                        </td>\n                        <td>{new Date(emp.join_date).toLocaleDateString('id-ID')}</td>\n                        <td>\n                          <Badge bg=\"info\">{emp.tenure_months} bulan</Badge>\n                        </td>\n                        <td>\n                          {getContractStatusBadge(emp.current_contract_type, emp.days_to_contract_end)}\n                        </td>\n                        <td>\n                          <div className=\"d-flex align-items-center\">\n                            {getMatchLevelBadge(emp.education_job_match)}\n                          </div>\n                        </td>\n                        <td>\n                          {/* FIX: Proper recommendation display */}\n                          {emp.current_contract_type === 'permanent' ? (\n                            <span>-</span>\n                          ) : emp.education_job_match === 'Unmatch' ? (\n                            <Badge bg=\"warning\">\n                              {(() => {\n                                const duration = emp.data_mining_recommendation?.recommended_duration;\n                                if (duration && duration > 0) {\n                                  return `${duration} bulan (Evaluasi)`;\n                                } else {\n                                  return '6 bulan (Evaluasi)';\n                                }\n                              })()}\n                            </Badge>\n                          ) : (\n                          <Badge bg=\"success\">\n                            {(() => {\n                              const duration = emp.data_mining_recommendation?.recommended_duration;\n                              // FIX: Kontrak 3 dengan duration 0 = Permanent\n                              if ((emp.current_contract_type === '3' || emp.current_contract_type === 'kontrak3') && \n                                  (duration === 0 || duration === null)) {\n                                return 'Permanent';\n                              } else if (duration && duration > 0) {\n                                return `${duration} bulan`;\n                              } else {\n                                return '6 bulan (Default)';\n                              }\n                            })()}\n                          </Badge>\n                          )}\n                        </td>\n                        <td>\n                          {getRecommendationStatusBadge(emp)}\n                        </td>\n                        <td>\n                          <div className=\"d-flex gap-1\">\n                            <Button \n                              size=\"sm\" \n                              variant=\"primary\"\n                              onClick={() => handleEmployeeDetail(emp)}\n                              title=\"Lihat detail analisis karyawan\"\n                            >\n                              Detail\n                            </Button>\n                            {/* Only permanent employees cannot be recommended */}\n                            {emp.current_contract_type === 'permanent' ? (\n                              <Button \n                                size=\"sm\" \n                                variant=\"outline-danger\"\n                                disabled\n                                title=\"Karyawan memiliki kontrak permanent\"\n                                style={{ \n                                  backgroundColor: '#f8f9fa',\n                                  borderColor: '#dc3545',\n                                  color: '#dc3545',\n                                  cursor: 'not-allowed',\n                                  opacity: 0.7,\n                                  fontSize: '0.7rem',\n                                  padding: '0.25rem 0.4rem',\n                                  lineHeight: '1.2'\n                                }}\n                              >\n                                ❌ Tidak Dapat<br/>Direkomendasikan\n                              </Button>\n                            ) : (\n                              <Button \n                                size=\"sm\" \n                                variant=\"success\"\n                                onClick={() => handleCreateRecommendation(emp)}\n                                disabled={\n                                  emp.has_pending_recommendation || \n                                  emp.days_to_contract_end > 30\n                                }\n                                title={\n                                  emp.has_pending_recommendation ? 'Sudah ada rekomendasi pending' :\n                                  emp.days_to_contract_end > 30 ? `Kontrak masih berlaku ${emp.days_to_contract_end} hari lagi` :\n                                  'Buat rekomendasi untuk karyawan ini'\n                                }\n                              >\n                                Rekomendasi\n                              </Button>\n                            )}\n                          </div>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </Table>\n              </Card.Body>\n            </Card>\n          </Tab.Pane>\n\n          {/* Processed Recommendations Tab */}\n          <Tab.Pane eventKey=\"processed\">\n            <Card>\n              <Card.Header style={{ backgroundColor: '#28a745', color: 'white' }} className=\"d-flex justify-content-between align-items-center\">\n                <div>\n                  <h5 className=\"mb-0\">✅ Rekomendasi yang Sudah Diproses HR</h5>\n                  <small>Lihat status rekomendasi Anda dan kontrak yang telah diperpanjang</small>\n                </div>\n                <Button \n                  variant=\"outline-light\" \n                  size=\"sm\" \n                  onClick={fetchProcessedRecommendations}\n                  className=\"ms-2\"\n                >\n                  🔄 Refresh\n                </Button>\n              </Card.Header>\n              <Card.Body>\n                {processedRecommendations.length > 0 ? (\n                  <Table responsive hover>\n                    <thead style={{ backgroundColor: '#e8f5e8' }}>\n                      <tr>\n                        <th>Karyawan</th>\n                        <th>Rekomendasi Anda</th>\n                        <th>Status HR</th>\n                        <th>Kontrak Baru</th>\n                        <th>Tanggal Diproses</th>\n                        <th>Status</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {processedRecommendations.map((rec, index) => (\n                        <tr key={index}>\n                          <td>\n                            <div>\n                              <strong>{rec.employee.name}</strong>\n                              <br />\n                              <small className=\"text-muted\">{rec.employee.role}</small>\n                            </div>\n                          </td>\n                          <td>\n                            <Badge bg=\"primary\" className=\"me-1\">\n                              {rec.recommendation_type === 'kontrak1' ? 'Kontrak 1' :\n                               rec.recommendation_type === 'kontrak2' ? 'Kontrak 2' :\n                               rec.recommendation_type === 'kontrak3' ? 'Kontrak 3' : rec.recommendation_type}\n                            </Badge>\n                            <br />\n                            <small className=\"text-muted\">{rec.recommended_duration} bulan</small>\n                          </td>\n                          <td>\n                            {rec.status === 'approved' ? (\n                              <Badge bg=\"success\">✅ Disetujui</Badge>\n                            ) : (\n                              <Badge bg=\"danger\">❌ Ditolak</Badge>\n                            )}\n                          </td>\n                                                     <td>\n                             {rec.status === 'approved' && rec.new_contract?.is_created ? (\n                               <div>\n                                 <Badge bg=\"success\" className=\"mb-1\">{rec.new_contract.type}</Badge>\n                                 <br />\n                                 <small className=\"text-success\">\n                                   <strong>✅ Kontrak Aktif:</strong><br />\n                                   {rec.new_contract.end_date ? \n                                     `${new Date(rec.new_contract.start_date).toLocaleDateString('id-ID')} - ${new Date(rec.new_contract.end_date).toLocaleDateString('id-ID')}` : \n                                     `Mulai: ${new Date(rec.new_contract.start_date).toLocaleDateString('id-ID')} (Permanent)`\n                                   }\n                                   <br />\n                                   <span className=\"text-muted\">Durasi: {rec.recommended_duration === 'permanent' ? 'Permanent' : `${rec.recommended_duration} bulan`}</span>\n                                 </small>\n                               </div>\n                             ) : rec.status === 'approved' ? (\n                               <Badge bg=\"warning\">⏳ Kontrak sedang dibuat</Badge>\n                             ) : (\n                               <small className=\"text-muted\">Tidak ada kontrak baru</small>\n                             )}\n                           </td>\n                          <td>\n                            {new Date(rec.updated_at).toLocaleDateString('id-ID')}\n                          </td>\n                                                     <td>\n                             {rec.status === 'approved' && rec.new_contract?.is_created ? (\n                               <Badge bg=\"success\">🎉 Kontrak Berhasil Diperpanjang</Badge>\n                             ) : rec.status === 'approved' ? (\n                               <Badge bg=\"warning\">⏳ Sedang Memproses Kontrak</Badge>\n                             ) : (\n                               <Badge bg=\"danger\">❌ Rekomendasi Ditolak</Badge>\n                             )}\n                           </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </Table>\n                ) : (\n                  <div className=\"text-center py-5\">\n                    <div className=\"display-1 mb-3\">📋</div>\n                    <h5>Belum Ada Rekomendasi yang Diproses</h5>\n                    <p className=\"text-muted\">\n                      Rekomendasi yang Anda buat akan muncul di sini setelah diproses oleh HR.\n                    </p>\n                  </div>\n                )}\n              </Card.Body>\n            </Card>\n          </Tab.Pane>\n        </Tab.Content>\n      </Tab.Container>\n    </Container>\n  );\n};\n\nexport default ManagerDashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}